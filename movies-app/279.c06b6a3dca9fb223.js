"use strict";(self.webpackChunkmovies_app=self.webpackChunkmovies_app||[]).push([[279],{4279:(O,p,s)=>{s.r(p),s.d(p,{MoviesModule:()=>T});var m=s(9808),r=s(4683),u=s(5698),e=s(1223),v=s(291),g=s(2382),l=s(7792),h=s(3638);function M(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"a",1)(2,"div",2)(3,"i",3),e._uU(4,"star"),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA(),e._uU(7,"/10 "),e.qZA(),e.TgZ(8,"div",4),e._UZ(9,"img",5),e.qZA(),e.TgZ(10,"div",6),e._uU(11),e.qZA()(),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("routerLink","/movie/"+t.itemData.id),e.xp6(5),e.Oqu(t.itemData.vote_average),e.xp6(3),e.Q6J("src",t.imagesSizes.medium+t.itemData.poster_path,e.LSH)("alt",t.itemData.title),e.xp6(2),e.Oqu(t.itemData.title)}}let f=(()=>{class i{constructor(){this.itemData=null,this.imagesSizes=h.N}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["item"]],inputs:{itemData:"itemData"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"item",3,"routerLink"],[1,"item-rating"],[1,"app-icon"],[1,"item-image"],[3,"src","alt"],[1,"item-title"]],template:function(t,n){1&t&&e.YNc(0,M,12,5,"ng-container",0),2&t&&e.Q6J("ngIf",n.itemData)},dependencies:[m.O5,r.yS],styles:[".item[_ngcontent-%COMP%]{position:relative;display:block;min-height:425px;border-radius:5px;background-color:#212121;border:1px solid #999}.item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px;height:375px;object-fit:cover}.item-rating[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;top:10px;left:10px;background-color:#212121;border-radius:5px;padding:5px 10px}.item-rating[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]{margin-right:5px;color:#d4af37}.item-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;margin:.5rem;height:30px}"]}),i})();function C(i,o){if(1&i&&(e.TgZ(0,"div",9),e._UZ(1,"item",10),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("itemData",t)}}let d=(()=>{class i{constructor(t,n){this.moviesService=t,this.route=n,this.movies=[],this.genreId=null,this.searchValue=null}ngOnInit(){this.route.params.pipe((0,u.q)(1)).subscribe(({genreId:t})=>{t?(this.genreId=t,this.getMoviesByGenre(t,1)):this.getPagedMovies(1)})}getPagedMovies(t,n){this.moviesService.searchMovies(t,n).subscribe(a=>{this.movies=a})}getMoviesByGenre(t,n){this.moviesService.getMoviesByGenre(t,n).subscribe(a=>{this.movies=a})}paginate(t){const n=t.page+1;this.genreId?this.getMoviesByGenre(this.genreId,n):this.searchValue?this.getPagedMovies(n,this.searchValue):this.getPagedMovies(n)}searchChanged(){this.searchValue&&this.getPagedMovies(1,this.searchValue)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.I),e.Y36(r.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-movies"]],decls:11,vars:4,consts:[[1,"container"],[1,"grid"],[1,"col-12"],[1,"p-fluid"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Search",3,"ngModel","ngModelChange","change"],["class","col-6 md:col-3 lg:col-3",4,"ngFor","ngForOf"],[3,"rows","totalRecords","onPageChange"],[1,"col-6","md:col-3","lg:col-3"],[3,"itemData"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e._UZ(5,"i",5),e.TgZ(6,"input",6),e.NdJ("ngModelChange",function(c){return n.searchValue=c})("change",function(){return n.searchChanged()}),e.qZA()()()()(),e.TgZ(7,"div",1),e.YNc(8,C,2,1,"div",7),e.qZA(),e.TgZ(9,"div")(10,"p-paginator",8),e.NdJ("onPageChange",function(c){return n.paginate(c)}),e.qZA()()()),2&t&&(e.xp6(6),e.Q6J("ngModel",n.searchValue),e.xp6(2),e.Q6J("ngForOf",n.movies),e.xp6(2),e.Q6J("rows",20)("totalRecords",1e4))},dependencies:[m.sg,g.Fj,g.JJ,g.On,l.D,f]}),i})();const x=[{path:"",component:d},{path:"genres/:genreId",component:d}];let Z=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[r.Bz.forChild(x),r.Bz]}),i})();var y=s(725);let T=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.ez,Z,g.u5,l.U,y.A]}),i})()}}]);