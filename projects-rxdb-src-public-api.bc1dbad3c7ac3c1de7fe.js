(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"0aHk":function(t,o,e){"use strict";e.r(o),e.d(o,"RxdbService",function(){return c}),e.d(o,"RxdbComponent",function(){return I}),e.d(o,"RxdbModule",function(){return P});var i=e("fXoL");let c=(()=>{class t{constructor(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var n=e("mrSG"),d=e("bMpb"),r=e("rdQv"),s=e("tk/3");let b=(()=>{class t{constructor(t){this.http=t,this.API_URL="https://jsonplaceholder.typicode.com/todos"}getTodos(){return this.http.get(`${this.API_URL}`)}addTodo(t){this.http.post(`${this.API_URL}`,t).subscribe()}updateTodo(t){this.http.put(`${this.API_URL}/${t.id}`,t).subscribe()}removeTodo(t){this.http.delete(`${this.API_URL}/${t.id}`).subscribe()}}return t.\u0275fac=function(o){return new(o||t)(i.Yb(s.a))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),l=(()=>{class t{constructor(t,o){this.databaseService=t,this.todoService=o,this.todoCollection=this.databaseService.db.todo,this.initTodos()}initTodos(){this.todoService.getTodos().pipe(Object(r.a)(t=>t.map(t=>({id:t.id.toString(),title:t.title,completed:t.completed})))).subscribe(t=>{this.todoCollection.bulkInsert(t)})}getTodoItems(){return this.todoCollection.find().$}getCompletedTodoItems(){return this.todoCollection.find().where("completed").eq(!0).$}createTodoItem(t){return Object(n.a)(this,void 0,void 0,function*(){const o={title:t.title,completed:!!t.completed,id:(new Date).getTime().toString()};return this.todoService.addTodo(o),this.todoCollection.insert(o)})}removeTodoItem(t){return Object(n.a)(this,void 0,void 0,function*(){const o=this.todoCollection.find().where("id").eq(t.id),e=yield o.remove();return this.todoService.removeTodo(t),e})}updateTodoItem(t){return Object(n.a)(this,void 0,void 0,function*(){return this.todoService.updateTodo(t),yield this.todoCollection.upsert(t)})}}return t.\u0275fac=function(o){return new(o||t)(i.Yb(d.a),i.Yb(b))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();var a=e("ofXK"),u=e("3Pt+");let f=(()=>{class t{constructor(t){this.tododbService=t}ngOnInit(){}addTodo(t){return Object(n.a)(this,void 0,void 0,function*(){console.log("ss",t),yield this.tododbService.createTodoItem(t)})}}return t.\u0275fac=function(o){return new(o||t)(i.Ob(l))},t.\u0275cmp=i.Ib({type:t,selectors:[["lib-add-todo"]],decls:15,vars:0,consts:[[1,"d-flex","justify-content-between"],[3,"ngSubmit"],["form","ngForm"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","ngModel","","name","title",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","completed","ngModel","","name","completed",1,"form-check-input"],["for","completed",1,"form-check-label"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){if(1&t){const t=i.Vb();i.Ub(0,"header",0),i.Ub(1,"h1"),i.yc(2,"Add todo"),i.Tb(),i.Tb(),i.Ub(3,"form",1,2),i.bc("ngSubmit",function(){i.qc(t);const e=i.oc(4);return o.addTodo(e.value)}),i.Ub(5,"div",3),i.Ub(6,"label",4),i.yc(7,"Title"),i.Tb(),i.Pb(8,"input",5),i.Tb(),i.Ub(9,"div",6),i.Pb(10,"input",7),i.Ub(11,"label",8),i.yc(12,"Completed"),i.Tb(),i.Tb(),i.Ub(13,"button",9),i.yc(14,"Add Todo"),i.Tb(),i.Tb()}},directives:[u.k,u.h,u.i,u.b,u.g,u.j,u.a],styles:[""]}),t})(),p=(()=>{class t{constructor(t){this.tododbService=t}ngOnInit(){}updateTodo(t){this.tododbService.updateTodoItem(Object.assign({id:this.todo.id},t))}}return t.\u0275fac=function(o){return new(o||t)(i.Ob(l))},t.\u0275cmp=i.Ib({type:t,selectors:[["lib-edit-todo"]],inputs:{todo:"todo"},decls:15,vars:2,consts:[[1,"d-flex","justify-content-between","mt-2"],[3,"ngSubmit"],["form","ngForm"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","name","title",1,"form-control",3,"ngModel"],[1,"mb-3","form-check"],["type","checkbox","id","completed","name","completed",1,"form-check-input",3,"ngModel"],["for","completed",1,"form-check-label"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){if(1&t){const t=i.Vb();i.Ub(0,"header",0),i.Ub(1,"h1"),i.yc(2,"Edit todo"),i.Tb(),i.Tb(),i.Ub(3,"form",1,2),i.bc("ngSubmit",function(){i.qc(t);const e=i.oc(4);return o.updateTodo(e.value)}),i.Ub(5,"div",3),i.Ub(6,"label",4),i.yc(7,"Title"),i.Tb(),i.Pb(8,"input",5),i.Tb(),i.Ub(9,"div",6),i.Pb(10,"input",7),i.Ub(11,"label",8),i.yc(12,"Completed"),i.Tb(),i.Tb(),i.Ub(13,"button",9),i.yc(14,"Update Todo"),i.Tb(),i.Tb()}2&t&&(i.Db(8),i.kc("ngModel",o.todo.title),i.Db(2),i.kc("ngModel",o.todo.completed))},directives:[u.k,u.h,u.i,u.b,u.g,u.j,u.a],styles:[""]}),t})();function m(t,o){if(1&t){const t=i.Vb();i.Ub(0,"li",9),i.Ub(1,"div",10),i.bc("click",function(){i.qc(t);const e=o.$implicit;return i.fc(2).selectedTodo=e}),i.yc(2),i.Ub(3,"div"),i.yc(4),i.Tb(),i.Tb(),i.Ub(5,"i",11),i.bc("click",function(){i.qc(t);const e=o.$implicit;return i.fc(2).removeTodo(e)}),i.Tb(),i.Tb()}if(2&t){const t=o.$implicit;i.Db(2),i.Bc(" ",t.id," - ",t.title," "),i.Db(2),i.Ac("Completed: ",t.completed,"")}}function h(t,o){if(1&t&&(i.Ub(0,"ul",7),i.wc(1,m,6,3,"li",8),i.Tb()),2&t){const t=o.ngIf;i.Db(1),i.kc("ngForOf",t)}}function T(t,o){if(1&t){const t=i.Vb();i.Ub(0,"li",9),i.Ub(1,"div",10),i.bc("click",function(){i.qc(t);const e=o.$implicit;return i.fc(3).selectedTodo=e}),i.yc(2),i.Ub(3,"div"),i.yc(4),i.Tb(),i.Tb(),i.Ub(5,"i",11),i.bc("click",function(){i.qc(t);const e=o.$implicit;return i.fc(3).removeTodo(e)}),i.Tb(),i.Tb()}if(2&t){const t=o.$implicit;i.Db(2),i.Bc(" ",t.id," - ",t.title," "),i.Db(2),i.Ac("Completed: ",t.completed,"")}}function v(t,o){if(1&t&&(i.Sb(0),i.Ub(1,"h2",12),i.yc(2),i.Tb(),i.Ub(3,"ul",7),i.wc(4,T,6,3,"li",8),i.Tb(),i.Rb()),2&t){const t=i.fc().ngIf;i.Db(2),i.Ac("Completed Todos (",t.length,")"),i.Db(2),i.kc("ngForOf",t)}}function g(t,o){if(1&t&&(i.Ub(0,"div"),i.wc(1,v,5,2,"ng-container",4),i.Tb()),2&t){const t=o.ngIf;i.Db(1),i.kc("ngIf",t.length)}}function y(t,o){if(1&t&&i.Pb(0,"lib-edit-todo",13),2&t){const t=i.fc();i.kc("todo",t.selectedTodo)}}let U=(()=>{class t{constructor(t){this.tododbService=t}ngOnInit(){this.todos$=this.tododbService.getTodoItems(),this.completedTodos$=this.tododbService.getCompletedTodoItems()}onTodoAdd(t){}onTodoEdit(t){}removeTodo(t){this.tododbService.removeTodoItem(t)}}return t.\u0275fac=function(o){return new(o||t)(i.Ob(l))},t.\u0275cmp=i.Ib({type:t,selectors:[["lib-todo-list"]],decls:12,vars:7,consts:[[1,"row"],[1,"col-sm-6"],[1,"d-flex","justify-content-between"],["class","list-group",4,"ngIf"],[4,"ngIf"],[3,"addTodo"],[3,"todo",4,"ngIf"],[1,"list-group"],["class","list-group-item d-flex justify-content-between",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between"],[1,"todo",3,"click"],[1,"ti-trash",3,"click"],[1,"mt-5"],[3,"todo"]],template:function(t,o){1&t&&(i.Ub(0,"div",0),i.Ub(1,"div",1),i.Ub(2,"header",2),i.Ub(3,"h1"),i.yc(4,"Todo List"),i.Tb(),i.Tb(),i.wc(5,h,2,1,"ul",3),i.gc(6,"async"),i.wc(7,g,2,1,"div",4),i.gc(8,"async"),i.Tb(),i.Ub(9,"div",1),i.Ub(10,"lib-add-todo",5),i.bc("addTodo",function(t){return o.onTodoAdd(t)}),i.Tb(),i.wc(11,y,1,1,"lib-edit-todo",6),i.Tb(),i.Tb()),2&t&&(i.Db(5),i.kc("ngIf",i.hc(6,3,o.todos$)),i.Db(2),i.kc("ngIf",i.hc(8,5,o.completedTodos$)),i.Db(4),i.kc("ngIf",o.selectedTodo))},directives:[a.l,f,a.k,p],pipes:[a.b],styles:[".add-todo[_ngcontent-%COMP%]{display:flex;align-self:center}.todo[_ngcontent-%COMP%]{flex:1}.ti-trash[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),I=(()=>{class t{constructor(t){this.dbService=t}ngOnInit(){return Object(n.a)(this,void 0,void 0,function*(){console.log(this.dbService)})}}return t.\u0275fac=function(o){return new(o||t)(i.Ob(d.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["lib-rxdb"]],decls:2,vars:0,consts:[[1,"container"]],template:function(t,o){1&t&&(i.Ub(0,"div",0),i.Pb(1,"lib-todo-list"),i.Tb())},directives:[U],encapsulation:2}),t})();var k=e("bTqV"),w=e("tyNb");let S=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["lib-view-todo"]],decls:2,vars:0,template:function(t,o){1&t&&(i.Ub(0,"p"),i.yc(1,"view-todo works!"),i.Tb())},styles:[""]}),t})();var $=e("sj7R"),O=e("9Jf+"),j=e("X/DG");let x=(()=>{class t{constructor(t){this.todoService=t,this._todos$=new j.a([])}get todos$(){return this._todos$.asObservable()}setTodos(t){this._todos$.next([...t])}addTodo(t){this._todos$.next([t,...this._todos$.getValue()]),this.todoService.addTodo(t)}removeTodo(t){this._todos$.next(this._todos$.getValue().filter(o=>o.id!==t.id)),this.todoService.removeTodo(t)}updateTodo(t){const o=this._todos$.getValue().map(o=>o.id===t.id?Object.assign(Object.assign({},o),t):o);this._todos$.next(o),this.todoService.updateTodo(t)}}return t.\u0275fac=function(o){return new(o||t)(i.Yb(b))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var C=e("iiaH");let _=(()=>{class t{constructor(t,o){this.store=t,this.dataService=o}resolve(t,o){return this.dataService.getTodos().pipe(Object($.a)(t=>{this.store.setTodos(t)}),Object(O.a)())}}return t.\u0275fac=function(o){return new(o||t)(i.Yb(x),i.Yb(C.a))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const D=[{path:"",component:I,children:[{path:"add-todo",component:f},{path:"edit-todo/:id",component:p},{path:"view-todo/:id",component:S}]}];let P=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[_,l],imports:[[u.d,a.c,k.b,w.h.forChild(D)]]}),t})()}}]);