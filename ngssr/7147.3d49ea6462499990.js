"use strict";(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[7147],{7147:(ce,w,r)=>{r.r(w),r.d(w,{MyVideoComponent:()=>de,MyVideoModule:()=>ue});var I=r(5938),o=r(4650),z=r(6895),P=r(7579),h=r(1135),m=r(9646),S=r(9751),F=r(576),M=r(3268);function A(t,i,e){return e?A(t,i).pipe((0,M.Z)(e)):new S.y(n=>{const a=(...d)=>n.next(1===d.length?d[0]:d),s=t(a);return(0,F.m)(i)?()=>i(a,s):void 0})}var y=r(9841),b=r(9635),N=r(6451),E=r(5698),k=r(8675),g=r(4004),O=r(8505),v=r(2722),j=r(3446),X=r(3900),B=r(5577),C=r(1365),Z=r(5026),G=r(1884),L=r(4482),W=r(5797),H=r(3269);function Y(...t){const i=(0,H.jO)(t);return i?(0,b.z)(Y(...t),(0,M.Z)(i)):(0,L.e)((e,n)=>{(0,y.l)([e,...(0,W.k)(t)])(n)})}var J=r(5403),$=r(9300);const q=["youtubeContainer"];let Q=(()=>{class t{get videoId(){return this._videoId.value}set videoId(e){this._videoId.next(e)}get height(){return this._height.value}set height(e){this._height.next(e||390)}get width(){return this._width.value}set width(e){this._width.next(e||640)}set startSeconds(e){this._startSeconds.next(e)}set endSeconds(e){this._endSeconds.next(e)}set suggestedQuality(e){this._suggestedQuality.next(e)}get playerVars(){return this._playerVars.value}set playerVars(e){this._playerVars.next(e)}get disableCookies(){return this._disableCookies.value}set disableCookies(e){this._disableCookies.next(!!e)}constructor(e,n){this._ngZone=e,this._youtubeContainer=new P.x,this._destroyed=new P.x,this._playerChanges=new h.X(void 0),this._videoId=new h.X(void 0),this._height=new h.X(390),this._width=new h.X(640),this._startSeconds=new h.X(void 0),this._endSeconds=new h.X(void 0),this._suggestedQuality=new h.X(void 0),this._playerVars=new h.X(void 0),this._disableCookies=new h.X(!1),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=(0,z.NF)(n)}ngOnInit(){if(!this._isBrowser)return;let e=(0,m.of)(!0);if(!window.YT||!window.YT.Player){const s=new P.x;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>s.next(!0))},e=s.pipe((0,E.q)(1),(0,k.O)(!1))}const n=this._disableCookies.pipe((0,g.U)(s=>s?"https://www.youtube-nocookie.com":void 0)),a=function ne(t,i,e,n,a,s,d,p){const c=(0,y.a)([i,e,d]).pipe((0,C.M)((0,y.a)([a,s])),(0,g.U)(([T,l])=>{const[u,f,R]=T,[he,ye]=l;return u?{videoId:u,playerVars:R,width:he,height:ye,host:f}:void 0}));return(0,y.a)([t,c,(0,m.of)(p)]).pipe(function ae(t){return(0,b.z)(Y(t),function K(t){return(0,L.e)((i,e)=>{let n=!1,a=0;i.subscribe((0,J.x)(e,s=>(n||(n=!t(s,a++)))&&e.next(s)))})}(([i,e])=>!e),(0,g.U)(([i])=>i))}(n),(0,Z.R)(se,void 0),(0,G.x)())}(this._youtubeContainer,this._videoId,n,e,this._width,this._height,this._playerVars,this._ngZone).pipe((0,O.b)(s=>{this._playerChanges.next(s)}),function ie(t){return(0,B.z)(i=>i?U(i)?(0,m.of)(i):new S.y(e=>{let n=!1,a=!1;const s=d=>{a=!0,n||(d.target.removeEventListener("onReady",s),e.next(d.target))};return i.addEventListener("onReady",s),()=>{n=!0,a||t(i)}}).pipe((0,E.q)(1),(0,k.O)(void 0)):(0,m.of)(void 0))}(s=>{U(s)||s.destroy()}),(0,v.R)(this._destroyed),(0,j.n)());a.subscribe(s=>{this._player=s,s&&this._pendingPlayerState&&this._initializePlayer(s,this._pendingPlayerState),this._pendingPlayerState=void 0}),function ee(t,i,e){(0,y.a)([t,i,e]).subscribe(([n,a,s])=>n&&n.setSize(a,s))}(a,this._width,this._height),function te(t,i){(0,y.a)([t,i]).subscribe(([e,n])=>e&&n&&e.setPlaybackQuality(n))}(a,this._suggestedQuality),function re(t,i,e,n,a,s){const d=(0,y.a)([e,n]).pipe((0,g.U)(([l,u])=>({startSeconds:l,endSeconds:u}))),p=d.pipe(V(t,l=>!!l&&!function oe(t){const i=t.getPlayerState();return i!==YT.PlayerState.UNSTARTED&&i!==YT.PlayerState.CUED}(l))),c=i.pipe(V(t,(l,u)=>!!l&&l.videoId!==u)),T=t.pipe(V((0,y.a)([i,d]),([l,u],f)=>!(!f||l==f.videoId&&!u.startSeconds&&!u.endSeconds)));(0,N.T)(T,c,p).pipe((0,C.M)((0,y.a)([t,i,d,a])),(0,g.U)(([l,u])=>u),(0,v.R)(s)).subscribe(([l,u,f,R])=>{!u||!l||(l.videoId=u,l.cueVideoById({videoId:u,suggestedQuality:R,...f}))})}(a,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),a.connect()}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(e,n){this._player?this._player.seekTo(e,n):this._getPendingState().seek={seconds:e,allowSeekAhead:n}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(e){this._player?this._player.setVolume(e):this._getPendingState().volume=e}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(e){if(this._player)return this._player.setPlaybackRate(e);this._getPendingState().playbackRate=e}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(e,n){const{playbackState:a,playbackRate:s,volume:d,muted:p,seek:c}=n;switch(a){case YT.PlayerState.PLAYING:e.playVideo();break;case YT.PlayerState.PAUSED:e.pauseVideo();break;case YT.PlayerState.CUED:e.stopVideo()}null!=s&&e.setPlaybackRate(s),null!=d&&e.setVolume(d),null!=p&&(p?e.mute():e.unMute()),null!=c&&e.seekTo(c.seconds,c.allowSeekAhead)}_getLazyEmitter(e){return this._playerChanges.pipe((0,X.w)(n=>n?A(a=>{n.addEventListener(e,a)},a=>{try{n.removeEventListener&&n.removeEventListener(e,a)}catch{}}):(0,m.of)()),n=>new S.y(a=>n.subscribe({next:s=>this._ngZone.run(()=>a.next(s)),error:s=>a.error(s),complete:()=>a.complete()})),(0,v.R)(this._destroyed))}}return t.\u0275fac=function(e){return new(e||t)(o.\u0275\u0275directiveInject(o.NgZone),o.\u0275\u0275directiveInject(o.PLATFORM_ID))},t.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["youtube-player"]],viewQuery:function(e,n){if(1&e&&o.\u0275\u0275viewQuery(q,5),2&e){let a;o.\u0275\u0275queryRefresh(a=o.\u0275\u0275loadQuery())&&(n.youtubeContainer=a.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:"disableCookies",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(e,n){1&e&&o.\u0275\u0275element(0,"div",null,0)},encapsulation:2,changeDetection:0}),t})();function se(t,[i,e,n]){if(t&&e&&(t.playerVars!==e.playerVars||t.host!==e.host))t.destroy();else{if(!e)return void(t&&t.destroy());if(t)return t}const a=n.runOutsideAngular(()=>new YT.Player(i,e));return a.videoId=e.videoId,a.playerVars=e.playerVars,a.host=e.host,a}function U(t){return"getPlayerStatus"in t}function V(t,i){return(0,b.z)((0,C.M)(t),(0,$.h)(([e,n])=>i(n,e)),(0,g.U)(([e])=>e))}let le=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=o.\u0275\u0275defineInjector({}),t})(),_=!1,de=(()=>{class t{constructor(){}ngOnInit(){if(!_){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.body.appendChild(e),_=!0}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["app-my-video"]],decls:3,vars:0,consts:[["mat-dialog-title",""],["videoId","kRRspDN4Xwo"]],template:function(e,n){1&e&&(o.\u0275\u0275elementStart(0,"h1",0),o.\u0275\u0275text(1,"My Video"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(2,"youtube-player",1))},dependencies:[Q,I.uh]}),t})(),ue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=o.\u0275\u0275defineInjector({imports:[le,I.Is]}),t})()}}]);