"use strict";(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[3532],{3082:(y,U,s)=>{s.r(U),s.d(U,{StoredemoModule:()=>W});var n=s(4755),t=s(9085),r=s(2223);let c=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275cmp=r.\u0275\u0275defineComponent({type:a,selectors:[["app-storedemo"]],decls:24,vars:0,consts:[[1,"m-2","d-flex","justify-content-center"],["routerLink","users-store-feature","routerLinkActive","active",1,"btn","btn-outline-info","me-2"],["routerLink","users-store","routerLinkActive","active",1,"btn","btn-outline-info","me-2"],["routerLink","users-entity","routerLinkActive","active",1,"btn","btn-outline-warning","me-2"],["routerLink","users-data","routerLinkActive","active",1,"btn","btn-outline-success","me-2"],["routerLink","users-ws","routerLinkActive","active",1,"btn","btn-outline-danger","me-2"],["routerLink","users-service","routerLinkActive","active",1,"btn","btn-outline-primary","me-2"],["routerLink","users-cs","routerLinkActive","active",1,"btn","btn-outline-success","me-2"],["routerLink","contacts","routerLinkActive","active",1,"btn","btn-outline-warning","me-2"],["routerLink","contacts-cs","routerLinkActive","active",1,"btn","btn-outline-primary","me-2"],["routerLink","csdemo","routerLinkActive","active",1,"btn","btn-outline-danger","me-2"],["routerLink","users-entity-demo","routerLinkActive","active",1,"btn","btn-outline-warning"]],template:function(u,O){1&u&&(r.\u0275\u0275elementStart(0,"header",0)(1,"a",1),r.\u0275\u0275text(2,"Users Store Feature"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"a",2),r.\u0275\u0275text(4,"Users Store"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"a",3),r.\u0275\u0275text(6,"Users Entity"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(7,"a",4),r.\u0275\u0275text(8,"Users Data"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"a",5),r.\u0275\u0275text(10,"Users WS"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(11,"a",6),r.\u0275\u0275text(12,"Users Service"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(13,"a",7),r.\u0275\u0275text(14,"Users Component Store"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(15,"a",8),r.\u0275\u0275text(16,"Contacts"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(17,"a",9),r.\u0275\u0275text(18,"Contacts CS"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(19,"a",10),r.\u0275\u0275text(20,"Users CS Demo"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(21,"a",11),r.\u0275\u0275text(22,"Users Entity Demo"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275element(23,"router-outlet"))},dependencies:[t.lC,t.rH,t.Od],changeDetection:0}),a})();var e=s(8505),i=s(590),d=s(2544);let v=(()=>{class a{constructor(u){this.userService=u}resolve(u,O){return this.userService.loaded$.pipe((0,e.b)(C=>{C||this.userService.getAll()}),(0,i.P)())}}return a.\u0275fac=function(u){return new(u||a)(r.\u0275\u0275inject(d.$))},a.\u0275prov=r.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var m=s(9653),D=s(9300),h=s(7391),S=s(2245);let R=(()=>{class a{constructor(u){this.store=u}resolve(u,O){return this.store.pipe((0,m.Ys)(S.QQ),(0,e.b)(C=>{C||this.store.dispatch((0,h.wv)())}),(0,D.h)(C=>C),(0,i.P)())}}return a.\u0275fac=function(u){return new(u||a)(r.\u0275\u0275inject(m.yh))},a.\u0275prov=r.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var P=s(5962),F=s(2403);let A=(()=>{class a{constructor(u){this.store=u}resolve(u,O){return this.store.pipe((0,m.Ys)(F.pU),(0,e.b)(C=>{C||this.store.dispatch((0,P.Ec)())}),(0,D.h)(C=>C),(0,i.P)())}}return a.\u0275fac=function(u){return new(u||a)(r.\u0275\u0275inject(m.yh))},a.\u0275prov=r.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var M=s(8630);let x=(()=>{class a{constructor(u){this.userService=u}resolve(u,O){return this.userService.getUsers()}}return a.\u0275fac=function(u){return new(u||a)(r.\u0275\u0275inject(M.K))},a.\u0275prov=r.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var L=s(1883),_=s(3756);let K=(()=>{class a{constructor(u){this.store=u}resolve(u,O){return this.store.pipe((0,m.Ys)(_.gA),(0,e.b)(C=>{C||this.store.dispatch((0,L.zc)())}),(0,D.h)(C=>C),(0,i.P)())}}return a.\u0275fac=function(u){return new(u||a)(r.\u0275\u0275inject(m.yh))},a.\u0275prov=r.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var l=s(4257),f=s(9154);let o=(()=>{class a{constructor(u){this.store=u}resolve(u,O){return this.store.pipe((0,m.Ys)(f.gA),(0,e.b)(C=>{C||this.store.dispatch((0,l.zc)())}),(0,D.h)(C=>C),(0,i.P)())}}return a.\u0275fac=function(u){return new(u||a)(r.\u0275\u0275inject(m.yh))},a.\u0275prov=r.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var E=s(192);const g=[{path:"",component:c,children:[{path:"users-store",loadChildren:()=>Promise.all([s.e(8592),s.e(1519)]).then(s.bind(s,1519)).then(a=>a.UsersStoreModule),resolve:[o]},{path:"users-entity",loadChildren:()=>Promise.all([s.e(8592),s.e(7017)]).then(s.bind(s,7017)).then(a=>a.UsersEntityModule),resolve:[A]},{path:"users-data",loadChildren:()=>Promise.resolve().then(s.bind(s,9615)).then(a=>a.UsersDataModule),resolve:[v]},{path:"users-ws",loadChildren:()=>Promise.resolve().then(s.bind(s,279)).then(a=>a.UsersWsModule),resolve:[(()=>{class a{constructor(u){this.userService=u}resolve(u,O){return this.userService.loaded$.pipe((0,e.b)(C=>{C||this.userService.getAll()}),(0,i.P)())}}return a.\u0275fac=function(u){return new(u||a)(r.\u0275\u0275inject(E.q))},a.\u0275prov=r.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()]},{path:"users-service",loadChildren:()=>s.e(8889).then(s.bind(s,8889)).then(a=>a.UsersDataModule),resolve:{users:x}},{path:"users-cs",loadChildren:()=>Promise.all([s.e(5604),s.e(6251)]).then(s.bind(s,6251)).then(a=>a.UsersCsModule)},{path:"csdemo",loadChildren:()=>Promise.all([s.e(5604),s.e(3480)]).then(s.bind(s,3480)).then(a=>a.CsdemoModule)},{path:"users-entity-demo",loadChildren:()=>Promise.all([s.e(8592),s.e(8531)]).then(s.bind(s,8531)).then(a=>a.UsersEntityDemoModule),resolve:[R]},{path:"users-store-feature",loadChildren:()=>Promise.all([s.e(8592),s.e(9707)]).then(s.bind(s,9707)).then(a=>a.UsersStoreFeatureModule),resolve:[K]},{path:"contacts",loadChildren:()=>Promise.all([s.e(7148),s.e(2742)]).then(s.bind(s,2742)).then(a=>a.ContactsModule)},{path:"contacts-cs",loadChildren:()=>Promise.all([s.e(7148),s.e(1206)]).then(s.bind(s,1206)).then(a=>a.ContactsCsModule)},{path:"",redirectTo:"users-data",pathMatch:"full"}]},{path:"contacts",loadChildren:()=>Promise.all([s.e(7148),s.e(2742)]).then(s.bind(s,2742)).then(a=>a.ContactsModule)}];let I=(()=>{class a{}return a.\u0275fac=function(u){return new(u||a)},a.\u0275mod=r.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=r.\u0275\u0275defineInjector({imports:[t.Bz.forChild(g),t.Bz]}),a})(),W=(()=>{class a{}return a.\u0275fac=function(u){return new(u||a)},a.\u0275mod=r.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=r.\u0275\u0275defineInjector({imports:[n.ez,I]}),a})()},2544:(y,U,s)=>{s.d(U,{$:()=>c});var n=s(4169),t=s(9615),r=s(2223);let c=(()=>{class e extends n.c8{constructor(d){super(t.usersFeatureKey,d)}}return e.\u0275fac=function(d){return new(d||e)(r.\u0275\u0275inject(n.yV))},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},9615:(y,U,s)=>{s.r(U),s.d(U,{UsersDataModule:()=>K,entityMetadata:()=>_,usersFeatureKey:()=>L});var n=s(4755),t=s(9085),r=s(7956),c=s(6286),e=s(2223),i=s(9401),d=s(2544),v=s(8097),m=s(9114),D=s(1728);let h=(()=>{class l{constructor(o,E,p,g){this.fb=o,this.dialogRef=E,this.userService=g,this.dialogTitle=p.dialogTitle,this.user=p.user,this.mode=p.mode;const I={email:[""],first_name:[""],last_name:[""]};"update"==this.mode?(this.form=this.fb.group(I),this.form.patchValue({...this.user})):"create"==this.mode&&(this.form=this.fb.group({...I}))}onClose(){this.dialogRef.close()}onSave(){const o={...this.user,...this.form.value};"update"==this.mode?(console.log("Update User",o),this.userService.update(o),this.dialogRef.close()):"create"==this.mode&&(console.log("Add User",o),o.avatar="https://robohash.org/test?size=128x128",this.userService.add(o,{isOptimistic:!1}),this.dialogRef.close())}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275directiveInject(i.qu),e.\u0275\u0275directiveInject(c.so),e.\u0275\u0275directiveInject(c.WI),e.\u0275\u0275directiveInject(d.$))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-user-data-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","First Name","formControlName","first_name"],["matInput","","placeholder","Last Name","formControlName","last_name"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(o,E){1&o&&(e.\u0275\u0275elementStart(0,"h2",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"mat-dialog-content"),e.\u0275\u0275elementContainerStart(3)(4,1),e.\u0275\u0275elementStart(5,"mat-form-field"),e.\u0275\u0275element(6,"input",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"mat-form-field"),e.\u0275\u0275element(8,"input",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"mat-form-field"),e.\u0275\u0275element(10,"input",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-dialog-actions")(12,"button",5),e.\u0275\u0275listener("click",function(){return E.onClose()}),e.\u0275\u0275text(13,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",6),e.\u0275\u0275listener("click",function(){return E.onSave()}),e.\u0275\u0275text(15,"Save"),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(E.dialogTitle),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",E.form))},dependencies:[c.uh,c.xY,c.H8,v.Nt,m.KE,D.lW,i.Fj,i.JJ,i.JL,i.sg,i.u],changeDetection:0}),l})();function S(l,f){if(1&l){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5)(1,"div",6),e.\u0275\u0275element(2,"img",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",8)(4,"div")(5,"strong"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"br"),e.\u0275\u0275elementStart(8,"small"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div")(11,"button",9),e.\u0275\u0275listener("click",function(){const g=e.\u0275\u0275restoreView(o).$implicit,I=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(I.editUser(g))}),e.\u0275\u0275element(12,"i",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"button",11),e.\u0275\u0275listener("click",function(){const g=e.\u0275\u0275restoreView(o).$implicit,I=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(I.removeUser(g))}),e.\u0275\u0275element(14,"i",12),e.\u0275\u0275elementEnd()()()()}if(2&l){const o=f.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("src",o.avatar,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(o.first_name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(o.email)}}const P=[{path:"",component:(()=>{class l{constructor(o,E){this.userDataService=o,this.dialog=E}ngOnInit(){this.users$=this.userDataService.entities$}removeUser(o){console.log("Remove user"),this.userDataService.delete(o)}addUser(){const o=(0,r.m)();o.data={dialogTitle:"Add User",mode:"create"},this.dialog.open(h,o)}editUser(o){const E=(0,r.m)();E.data={dialogTitle:"Edit User",user:o,mode:"update"},this.dialog.open(h,E).afterClosed().subscribe(p=>{console.log("Closed",p)})}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275directiveInject(d.$),e.\u0275\u0275directiveInject(c.uw))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-users-data"]],decls:8,vars:3,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","align-self-center",3,"click"],[1,"ti-plus"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","me-2"],["alt","...",3,"src"],[1,"flex-grow-1","ms-2"],[1,"btn","btn-primary","me-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-danger",3,"click"],[1,"ti-trash"]],template:function(o,E){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"header",1)(2,"h1"),e.\u0275\u0275text(3,"Users List (Data)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return E.addUser()}),e.\u0275\u0275element(5,"i",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(6,S,15,3,"div",4),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(7,1,E.users$)))},dependencies:[n.sg,n.Ov],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px}"],changeDetection:0}),l})()}];let F=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[t.Bz.forChild(P),t.Bz]}),l})();var A=s(4169),M=s(3144);let x=(()=>{class l extends A.EJ{constructor(o,E){super(L,o,E),this.API_URL="https://hksocket.herokuapp.com/users"}getAll(){return this.http.get(`${this.API_URL}`)}add(o){return this.http.post(`${this.API_URL}`,o)}update(o){return this.http.put(`${this.API_URL}/${o.id}`,o.changes)}delete(o){return this.http.delete(`${this.API_URL}/${o}`)}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275inject(M.eN),e.\u0275\u0275inject(A.hR))},l.\u0275prov=e.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const L="users",_={[L]:{entityDispatcherOptions:{optimisticUpdate:!0},selectId:l=>l._id}};let K=(()=>{class l{constructor(o,E,p){this.eds=o,this.entityDataService=E,this.usersDataService=p,this.eds.registerMetadataMap(_),this.entityDataService.registerService(L,this.usersDataService)}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275inject(A.f0),e.\u0275\u0275inject(A.sP),e.\u0275\u0275inject(x))},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[n.ez,F,c.Is,v.c,m.lN,D.ot,i.UX]}),l})()},7391:(y,U,s)=>{s.d(U,{zr:()=>i,jU:()=>v,FM:()=>d,m_:()=>D,kS:()=>m,wv:()=>r,UO:()=>e,hz:()=>c,pk:()=>h});var n=s(9653),t=(()=>((t=t||{}).GET_ENTITY_USERS="[User Entity Resolver] Get Users",t.GET_ENTITY_USERS_SUCCESS="[User Entity Effect] Get Users success",t.GET_ENTITY_USERS_FAILURE="[User Entity Effect] Get Users failure",t.ADD_ENTITY_USER="[User Entity Component] Add User",t.ADD_ENTITY_USER_SUCCESS="[User Entity Component] Add User success",t.ADD_ENTITY_USER_FAILURE="[User Entity Component] Add User failure",t.EDIT_ENTITY_USER="[Edit Entity User Component] Edit User",t.EDIT_ENTITY_USER_SUCCESS="[Edit Entity User Component] Edit User success",t.EDIT_ENTITY_USER_FAILURE="[Edit Entity User Component] Edit User failure",t.DELETE_ENTITY_USER="[User Entity Component] Delete User",t.DELETE_ENTITY_USER_SUCCESS="[User Entity Component] Delete User success",t.DELETE_ENTITY_USER_FAILURE="[User Entity Component] Delete User failure",t.SET_USER_ID="[One Component] Set User Id",t))();const r=(0,n.PH)(t.GET_ENTITY_USERS),c=(0,n.PH)(t.GET_ENTITY_USERS_SUCCESS,(0,n.Ky)()),e=(0,n.PH)(t.GET_ENTITY_USERS_FAILURE,(0,n.Ky)()),i=(0,n.PH)(t.ADD_ENTITY_USER,(0,n.Ky)()),d=(0,n.PH)(t.ADD_ENTITY_USER_SUCCESS,(0,n.Ky)()),v=(0,n.PH)(t.ADD_ENTITY_USER_FAILURE),m=(0,n.PH)(t.EDIT_ENTITY_USER,(0,n.Ky)()),D=(0,n.PH)(t.DELETE_ENTITY_USER,(0,n.Ky)()),h=(0,n.PH)(t.SET_USER_ID,(0,n.Ky)())},6728:(y,U,s)=>{s.d(U,{K9:()=>c,NV:()=>d,OR:()=>m,td:()=>D});var n=s(4629),t=s(9653),r=s(7391);const c="userEntityDemo",e=(0,n.H)({}),i=e.getInitialState({loaded:!1,selectedUserId:1}),d=(0,t.Lq)(i,(0,t.on)(r.hz,(S,R)=>e.setAll(R.users,{...S,loaded:!0})),(0,t.on)(r.FM,(S,R)=>e.addOne(R.user,S)),(0,t.on)(r.kS,(S,R)=>e.updateOne(R.user,S)),(0,t.on)(r.m_,(S,R)=>e.removeOne(R.id,S)),(0,t.on)(r.pk,(S,R)=>({...S,selectedUserId:R.id}))),{selectEntities:m,selectAll:D}=e.getSelectors()},2245:(y,U,s)=>{s.d(U,{Fp:()=>c,J9:()=>i,Ls:()=>m,QQ:()=>D,aU:()=>e});var n=s(9653),t=s(6728);const r=(0,n.ZF)(t.K9),c=(0,n.P1)(r,t.td),e=(0,n.P1)(c,h=>h.length),i=(0,n.P1)(c,h=>h.slice(0,3)),d=(0,n.P1)(r,t.OR),v=(0,n.P1)(r,h=>h.selectedUserId),m=(0,n.P1)(d,v,(h,S)=>h[S]),D=(0,n.P1)(r,h=>h.loaded)},5962:(y,U,s)=>{s.d(U,{S2:()=>i,XI:()=>v,SI:()=>d,Mb:()=>D,f_:()=>m,Ec:()=>r,V6:()=>e,vn:()=>c});var n=s(9653),t=(()=>((t=t||{}).GET_ENTITY_USERS="[User Entity Resolver] Get Users",t.GET_ENTITY_USERS_SUCCESS="[User Entity Effect] Get Users success",t.GET_ENTITY_USERS_FAILURE="[User Entity Effect] Get Users failure",t.ADD_ENTITY_USER="[User Entity Component] Add User",t.ADD_ENTITY_USER_SUCCESS="[User Entity Component] Add User success",t.ADD_ENTITY_USER_FAILURE="[User Entity Component] Add User failure",t.EDIT_ENTITY_USER="[Edit Entity User Component] Edit User",t.EDIT_ENTITY_USER_SUCCESS="[Edit Entity User Component] Edit User success",t.EDIT_ENTITY_USER_FAILURE="[Edit Entity User Component] Edit User failure",t.DELETE_ENTITY_USER="[User Entity Component] Delete User",t.DELETE_ENTITY_USER_SUCCESS="[User Entity Component] Delete User success",t.DELETE_ENTITY_USER_FAILURE="[User Entity Component] Delete User failure",t))();const r=(0,n.PH)(t.GET_ENTITY_USERS),c=(0,n.PH)(t.GET_ENTITY_USERS_SUCCESS,(0,n.Ky)()),e=(0,n.PH)(t.GET_ENTITY_USERS_FAILURE,(0,n.Ky)()),i=(0,n.PH)(t.ADD_ENTITY_USER,(0,n.Ky)()),d=(0,n.PH)(t.ADD_ENTITY_USER_SUCCESS,(0,n.Ky)()),v=(0,n.PH)(t.ADD_ENTITY_USER_FAILURE),m=(0,n.PH)(t.EDIT_ENTITY_USER,(0,n.Ky)()),D=(0,n.PH)(t.DELETE_ENTITY_USER,(0,n.Ky)())},5218:(y,U,s)=>{s.d(U,{Jy:()=>d,OR:()=>m,YI:()=>c,td:()=>D});var n=s(4629),t=s(9653),r=s(5962);const c="userEntity",e=(0,n.H)({}),i=e.getInitialState({loaded:!1}),d=(0,t.Lq)(i,(0,t.on)(r.vn,(S,R)=>e.setAll(R.users,{...S,loaded:!0})),(0,t.on)(r.SI,(S,R)=>e.addOne(R.user,S)),(0,t.on)(r.f_,(S,R)=>e.updateOne(R.user,S)),(0,t.on)(r.Mb,(S,R)=>e.removeOne(R.id,S))),{selectEntities:m,selectAll:D}=e.getSelectors()},2403:(y,U,s)=>{s.d(U,{pU:()=>i,vH:()=>c});var n=s(9653),t=s(5218);const r=(0,n.ZF)(t.YI),c=(0,n.P1)(r,t.td),i=((0,n.P1)(r,t.OR),(0,n.P1)(r,d=>d.loaded))},8630:(y,U,s)=>{s.d(U,{K:()=>c});var n=s(4004),t=s(2223),r=s(3144);let c=(()=>{class e{constructor(d){this.http=d,this.API_URL="https://reqres.in/api/users"}getUsers(){return this.http.get(`${this.API_URL}`).pipe((0,n.U)(d=>d.data))}addUser(d){return this.http.post(`${this.API_URL}`,d)}updateUser(d){return this.http.put(`${this.API_URL}/${d.id}`,d)}removeUser(d){return this.http.delete(`${this.API_URL}/${d}`)}}return e.\u0275fac=function(d){return new(d||e)(t.\u0275\u0275inject(r.eN))},e.\u0275prov=t.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},1883:(y,U,s)=>{s.d(U,{Dx:()=>i,Ls:()=>v,Kz:()=>d,Fp:()=>S,ru:()=>P,yc:()=>R,d0:()=>m,ox:()=>h,U7:()=>D,zc:()=>r,aA:()=>e,IU:()=>c});var n=s(9653),t=(()=>((t=t||{}).GET_STORE_USERS="[User Store Resolver] Get Users",t.GET_STORE_USERS_SUCCESS="[User Store Effect] Get Users success",t.GET_STORE_USERS_FAILURE="[User Store Effect] Get Users failure",t.ADD_STORE_USER="[User Store Component] Add User",t.ADD_STORE_USER_SUCCESS="[User Store Component] Add User success",t.ADD_STORE_USER_FAILURE="[User Store Component] Add User failure",t.EDIT_STORE_USER="[Edit Store User Component] Edit User",t.EDIT_STORE_USER_SUCCESS="[Edit Store User Component] Edit User success",t.EDIT_STORE_USER_FAILURE="[Edit Store User Component] Edit User failure",t.DELETE_STORE_USER="[User Store Component] Delete User",t.DELETE_STORE_USER_SUCCESS="[User Store Component] Delete User success",t.DELETE_STORE_USER_FAILURE="[User Store Component] Delete User failure",t))();const r=(0,n.PH)(t.GET_STORE_USERS),c=(0,n.PH)(t.GET_STORE_USERS_SUCCESS,(0,n.Ky)()),e=(0,n.PH)(t.GET_STORE_USERS_FAILURE,(0,n.Ky)()),i=(0,n.PH)(t.ADD_STORE_USER,(0,n.Ky)()),d=(0,n.PH)(t.ADD_STORE_USER_SUCCESS,(0,n.Ky)()),v=(0,n.PH)(t.ADD_STORE_USER_FAILURE),m=(0,n.PH)(t.EDIT_STORE_USER,(0,n.Ky)()),D=(0,n.PH)(t.EDIT_STORE_USER_SUCCESS,(0,n.Ky)()),h=(0,n.PH)(t.EDIT_STORE_USER_FAILURE),S=(0,n.PH)(t.DELETE_STORE_USER,(0,n.Ky)()),R=(0,n.PH)(t.DELETE_STORE_USER_SUCCESS),P=(0,n.PH)(t.DELETE_STORE_USER_SUCCESS)},4534:(y,U,s)=>{s.d(U,{userStoreFeature:()=>e});var n=s(9653),t=s(1883);const e=(0,n.Tz)({name:"usersStoreFeature",reducer:(0,n.Lq)({data:null,error:null,isLoading:!1,loaded:!1},(0,n.on)(t.zc,i=>({...i,isLoading:!0})),(0,n.on)(t.IU,(i,d)=>({...i,isLoading:!1,data:d.users,loaded:!0})),(0,n.on)(t.aA,(i,d)=>({...i,isLoading:!1})),(0,n.on)(t.Dx,i=>({...i,isLoading:!0})),(0,n.on)(t.Kz,(i,d)=>({...i,isLoading:!1,data:[d.user,...i.data]})),(0,n.on)(t.Ls,i=>({...i,isLoading:!1})),(0,n.on)(t.d0,i=>({...i,isLoading:!0})),(0,n.on)(t.U7,(i,d)=>{const v=i.data.map(m=>m.id===d.user.id?d.user:m);return{...i,isLoading:!1,data:v}}),(0,n.on)(t.ox,i=>({...i,isLoading:!1})),(0,n.on)(t.Fp,(i,d)=>{const v=i.data.filter(m=>m.id!==d.id);return{...i,data:v}}),(0,n.on)(t.yc,i=>({...i,isLoading:!1})),(0,n.on)(t.ru,i=>({...i,isLoading:!1})))})},3756:(y,U,s)=>{s.d(U,{gA:()=>c,zE:()=>r});var n=s(4534);const{selectData:r,selectLoaded:c}=n.userStoreFeature},4257:(y,U,s)=>{s.d(U,{Dx:()=>i,Ls:()=>v,Kz:()=>d,Fp:()=>S,ru:()=>P,yc:()=>R,d0:()=>m,ox:()=>h,U7:()=>D,zc:()=>r,aA:()=>e,IU:()=>c});var n=s(9653),t=(()=>((t=t||{}).GET_STORE_USERS="[User Store Resolver] Get Users",t.GET_STORE_USERS_SUCCESS="[User Store Effect] Get Users success",t.GET_STORE_USERS_FAILURE="[User Store Effect] Get Users failure",t.ADD_STORE_USER="[User Store Component] Add User",t.ADD_STORE_USER_SUCCESS="[User Store Component] Add User success",t.ADD_STORE_USER_FAILURE="[User Store Component] Add User failure",t.EDIT_STORE_USER="[Edit Store User Component] Edit User",t.EDIT_STORE_USER_SUCCESS="[Edit Store User Component] Edit User success",t.EDIT_STORE_USER_FAILURE="[Edit Store User Component] Edit User failure",t.DELETE_STORE_USER="[User Store Component] Delete User",t.DELETE_STORE_USER_SUCCESS="[User Store Component] Delete User success",t.DELETE_STORE_USER_FAILURE="[User Store Component] Delete User failure",t))();const r=(0,n.PH)(t.GET_STORE_USERS),c=(0,n.PH)(t.GET_STORE_USERS_SUCCESS,(0,n.Ky)()),e=(0,n.PH)(t.GET_STORE_USERS_FAILURE,(0,n.Ky)()),i=(0,n.PH)(t.ADD_STORE_USER,(0,n.Ky)()),d=(0,n.PH)(t.ADD_STORE_USER_SUCCESS,(0,n.Ky)()),v=(0,n.PH)(t.ADD_STORE_USER_FAILURE),m=(0,n.PH)(t.EDIT_STORE_USER,(0,n.Ky)()),D=(0,n.PH)(t.EDIT_STORE_USER_SUCCESS,(0,n.Ky)()),h=(0,n.PH)(t.EDIT_STORE_USER_FAILURE),S=(0,n.PH)(t.DELETE_STORE_USER,(0,n.Ky)()),R=(0,n.PH)(t.DELETE_STORE_USER_SUCCESS),P=(0,n.PH)(t.DELETE_STORE_USER_SUCCESS)},4303:(y,U,s)=>{s.d(U,{GH:()=>r,wq:()=>e});var n=s(9653),t=s(4257);const r="userStore",e=(0,n.Lq)({data:null,isLoading:!1,error:null,loaded:!1},(0,n.on)(t.zc,i=>({...i,isLoading:!0})),(0,n.on)(t.IU,(i,d)=>({...i,isLoading:!1,data:d.users,loaded:!0})),(0,n.on)(t.aA,(i,d)=>({...i,isLoading:!1})),(0,n.on)(t.Dx,i=>({...i,isLoading:!0})),(0,n.on)(t.Kz,(i,d)=>({...i,isLoading:!1,data:[d.user,...i.data]})),(0,n.on)(t.Ls,i=>({...i,isLoading:!1})),(0,n.on)(t.d0,i=>({...i,isLoading:!0})),(0,n.on)(t.U7,(i,d)=>{const v=i.data.map(m=>m.id===d.user.id?d.user:m);return{...i,isLoading:!1,data:v}}),(0,n.on)(t.ox,i=>({...i,isLoading:!1})),(0,n.on)(t.Fp,(i,d)=>{const v=i.data.filter(m=>m.id!==d.id);return{...i,data:v}}),(0,n.on)(t.yc,i=>({...i,isLoading:!1})),(0,n.on)(t.ru,i=>({...i,isLoading:!1})))},9154:(y,U,s)=>{s.d(U,{gA:()=>e,zE:()=>c});var n=s(9653),t=s(4303);const r=(0,n.ZF)(t.GH),c=(0,n.P1)(r,i=>i.data),e=(0,n.P1)(r,i=>i.loaded)},192:(y,U,s)=>{s.d(U,{q:()=>c});var n=s(4169),t=s(279),r=s(2223);let c=(()=>{class e extends n.c8{constructor(d){super(t.usersWsFeatureKey,d)}}return e.\u0275fac=function(d){return new(d||e)(r.\u0275\u0275inject(n.yV))},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},279:(y,U,s)=>{s.r(U),s.d(U,{UsersWsModule:()=>K,entityMetadata:()=>_,usersWsFeatureKey:()=>L});var n=s(4755),t=s(9085),r=s(7956),c=s(6286),e=s(2223),i=s(9401),d=s(192),v=s(8097),m=s(9114),D=s(1728);let h=(()=>{class l{constructor(o,E,p,g){this.fb=o,this.dialogRef=E,this.userService=g,this.dialogTitle=p.dialogTitle,this.user=p.user,this.mode=p.mode;const I={email:[""],first_name:[""],last_name:[""]};"update"==this.mode?(this.form=this.fb.group(I),this.form.patchValue({...this.user})):"create"==this.mode&&(this.form=this.fb.group({...I}))}onClose(){this.dialogRef.close()}onSave(){const o={...this.user,...this.form.value};"update"==this.mode?(console.log("Update User",o),this.userService.update(o),this.dialogRef.close()):"create"==this.mode&&(console.log("Add User",o),o.avatar="https://robohash.org/test?size=128x128",this.userService.add(o,{isOptimistic:!1}),this.dialogRef.close())}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275directiveInject(i.qu),e.\u0275\u0275directiveInject(c.so),e.\u0275\u0275directiveInject(c.WI),e.\u0275\u0275directiveInject(d.q))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-user-data-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","First Name","formControlName","first_name"],["matInput","","placeholder","Last Name","formControlName","last_name"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(o,E){1&o&&(e.\u0275\u0275elementStart(0,"h2",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"mat-dialog-content"),e.\u0275\u0275elementContainerStart(3)(4,1),e.\u0275\u0275elementStart(5,"mat-form-field"),e.\u0275\u0275element(6,"input",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"mat-form-field"),e.\u0275\u0275element(8,"input",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"mat-form-field"),e.\u0275\u0275element(10,"input",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-dialog-actions")(12,"button",5),e.\u0275\u0275listener("click",function(){return E.onClose()}),e.\u0275\u0275text(13,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",6),e.\u0275\u0275listener("click",function(){return E.onSave()}),e.\u0275\u0275text(15,"Save"),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(E.dialogTitle),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",E.form))},dependencies:[c.uh,c.xY,c.H8,v.Nt,m.KE,D.lW,i.Fj,i.JJ,i.JL,i.sg,i.u],changeDetection:0}),l})();function S(l,f){if(1&l){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5)(1,"div",6),e.\u0275\u0275element(2,"img",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",8)(4,"div")(5,"strong"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"br"),e.\u0275\u0275elementStart(8,"small"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div")(11,"button",9),e.\u0275\u0275listener("click",function(){const g=e.\u0275\u0275restoreView(o).$implicit,I=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(I.editUser(g))}),e.\u0275\u0275element(12,"i",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"button",11),e.\u0275\u0275listener("click",function(){const g=e.\u0275\u0275restoreView(o).$implicit,I=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(I.removeUser(g))}),e.\u0275\u0275element(14,"i",12),e.\u0275\u0275elementEnd()()()()}if(2&l){const o=f.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("src",o.avatar,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(o.first_name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(o.email)}}const P=[{path:"",component:(()=>{class l{constructor(o,E){this.userDataService=o,this.dialog=E}ngOnInit(){this.users$=this.userDataService.entities$}removeUser(o){console.log("Remove user"),this.userDataService.delete(o)}addUser(){const o=(0,r.m)();o.data={dialogTitle:"Add User",mode:"create"},this.dialog.open(h,o)}editUser(o){const E=(0,r.m)();E.data={dialogTitle:"Edit User",user:o,mode:"update"},this.dialog.open(h,E).afterClosed().subscribe(p=>{console.log("Closed",p)})}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275directiveInject(d.q),e.\u0275\u0275directiveInject(c.uw))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-users-ws"]],decls:8,vars:3,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","align-self-center",3,"click"],[1,"ti-plus"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","me-2"],["alt","...",3,"src"],[1,"flex-grow-1","ms-2"],[1,"btn","btn-primary","me-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-danger",3,"click"],[1,"ti-trash"]],template:function(o,E){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"header",1)(2,"h1"),e.\u0275\u0275text(3,"Users List (Data)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return E.addUser()}),e.\u0275\u0275element(5,"i",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(6,S,15,3,"div",4),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(7,1,E.users$)))},dependencies:[n.sg,n.Ov],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px}"],changeDetection:0}),l})()}];let F=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[t.Bz.forChild(P),t.Bz]}),l})();var A=s(4169),M=s(3144);let x=(()=>{class l extends A.EJ{constructor(o,E){super(L,o,E),this.API_URL="https://hksocket.herokuapp.com/users"}getAll(){return this.http.get(`${this.API_URL}`)}add(o){return this.http.post(`${this.API_URL}`,o)}update(o){return this.http.put(`${this.API_URL}/${o.id}`,o.changes)}delete(o){return this.http.delete(`${this.API_URL}/${o}`)}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275inject(M.eN),e.\u0275\u0275inject(A.hR))},l.\u0275prov=e.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const L="users",_={[L]:{entityDispatcherOptions:{optimisticUpdate:!0},selectId:l=>l._id}};let K=(()=>{class l{constructor(o,E,p){this.eds=o,this.entityDataService=E,this.usersDataService=p,this.eds.registerMetadataMap(_),this.entityDataService.registerService(L,this.usersDataService)}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275inject(A.f0),e.\u0275\u0275inject(A.sP),e.\u0275\u0275inject(x))},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[n.ez,F,c.Is,v.c,m.lN,D.ot,i.UX]}),l})()}}]);