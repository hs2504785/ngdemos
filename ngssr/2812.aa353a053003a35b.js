"use strict";(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[2812],{2812:(ht,v,i)=>{i.r(v),i.d(v,{ProductModule:()=>mt});var H=i(9085),j=i(7482),d=i(9653);const m=(0,d.ZF)("products"),O=(0,d.P1)(m,r=>r.showProductCode),W=(0,d.P1)(m,r=>r.currentProductId),U=(0,d.P1)(m,W,(r,n)=>0===n?{id:0,productName:"",productCode:"New",description:"",starRating:0}:n?r.products.find(e=>e.id===n):null),z=(0,d.P1)(m,r=>r.products),A=(0,d.P1)(m,r=>r.error),y=(0,d.PH)("[Product Page] Toggle Product Code"),_=(0,d.PH)("[Product Page] Set Current Product",(0,d.Ky)()),x=(0,d.PH)("[Product Page] Clear Current Product"),E=(0,d.PH)("[Product Page] Initialize Current Product"),S=(0,d.PH)("[Product Page] Load"),I=(0,d.PH)("[Product Page] Update Product",(0,d.Ky)()),b=(0,d.PH)("[Product Page] Create Product",(0,d.Ky)()),M=(0,d.PH)("[Product Page] Delete Product",(0,d.Ky)()),w=(0,d.PH)("[Product API] Load Success",(0,d.Ky)()),F=(0,d.PH)("[Product API] Load Fail",(0,d.Ky)()),T=(0,d.PH)("[Product API] Update Product Success",(0,d.Ky)()),N=(0,d.PH)("[Product API] Update Product Fail",(0,d.Ky)()),$=(0,d.PH)("[Product API] Create Product Success",(0,d.Ky)()),k=(0,d.PH)("[Product API] Create Product Fail",(0,d.Ky)()),V=(0,d.PH)("[Product API] Delete Product Success",(0,d.Ky)()),K=(0,d.PH)("[Product API] Delete Product Fail",(0,d.Ky)());var t=i(2223),p=i(4755);function B(r,n){if(1&r&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&r){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" (",e.productCode,") ")}}const D=function(r){return{active:r}};function G(r,n){if(1&r){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",13),t.\u0275\u0275listener("click",function(){const s=t.\u0275\u0275restoreView(e).$implicit,Pt=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(Pt.productSelected(s))}),t.\u0275\u0275text(1),t.\u0275\u0275template(2,B,2,1,"ng-container",14),t.\u0275\u0275elementEnd()}if(2&r){const e=n.$implicit,o=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(3,D,(null==e?null:e.id)===(null==o.selectedProduct?null:o.selectedProduct.id))),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("",e.productName," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.displayCode)}}function J(r,n){if(1&r&&(t.\u0275\u0275elementStart(0,"div",10)(1,"div",11),t.\u0275\u0275template(2,G,3,5,"button",12),t.\u0275\u0275elementEnd()()),2&r){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.products)}}function Q(r,n){if(1&r&&(t.\u0275\u0275elementStart(0,"div",15),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&r){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" Error: ",e.errorMessage,"\n")}}let X=(()=>{class r{constructor(){this.pageTitle="Products",this.displayCodeChanged=new t.EventEmitter,this.initializeNewProduct=new t.EventEmitter,this.productWasSelected=new t.EventEmitter}checkChanged(){this.displayCodeChanged.emit()}newProduct(){this.initializeNewProduct.emit()}productSelected(e){this.productWasSelected.emit(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["pm-product-list"]],inputs:{errorMessage:"errorMessage",products:"products",displayCode:"displayCode",selectedProduct:"selectedProduct"},outputs:{displayCodeChanged:"displayCodeChanged",initializeNewProduct:"initializeNewProduct",productWasSelected:"productWasSelected"},decls:14,vars:4,consts:[[1,"card"],[1,"card-header"],["class","card-body",4,"ngIf"],[1,"card-footer"],[1,"row"],[1,"form-check","col-md-7"],["type","checkbox",1,"form-check-input",3,"checked","change"],[1,"col-md-4","text-right"],[1,"btn","btn-primary",3,"click"],["class","alert alert-danger",4,"ngIf"],[1,"card-body"],[1,"list-group"],["class","list-group-item list-group-item-action rounded-0",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","rounded-0",3,"ngClass","click"],[4,"ngIf"],[1,"alert","alert-danger"]],template:function(e,o){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,J,3,1,"div",2),t.\u0275\u0275elementStart(4,"div",3)(5,"div",4)(6,"div",5)(7,"label")(8,"input",6),t.\u0275\u0275listener("change",function(){return o.checkChanged()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(9," Display Product Code "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",7)(11,"button",8),t.\u0275\u0275listener("click",function(){return o.newProduct()}),t.\u0275\u0275text(12," Add "),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(13,Q,2,1,"div",9)),2&e&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",o.pageTitle," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.products),t.\u0275\u0275advance(5),t.\u0275\u0275property("checked",o.displayCode),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",o.errorMessage))},dependencies:[p.mk,p.sg,p.O5],styles:[".card-body[_ngcontent-%COMP%]{padding:0}"],changeDetection:0}),r})();var a=i(9401);class Y{constructor(n){this.validationMessages=n}processMessages(n){const e={};for(const o in n.controls)if(n.controls.hasOwnProperty(o)){const c=n.controls[o];if(c instanceof a.cw){const s=this.processMessages(c);Object.assign(e,s)}else this.validationMessages[o]&&(e[o]="",(c.dirty||c.touched)&&c.errors&&Object.keys(c.errors).map(s=>{this.validationMessages[o][s]&&(e[o]+=this.validationMessages[o][s]+" ")}))}return e}}class Z{static range(n,e){return o=>o.value&&(isNaN(o.value)||o.value<n||o.value>e)?{range:!0}:null}}function q(r,n){if(1&r&&(t.\u0275\u0275elementStart(0,"span",22),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&r){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.displayMessage.productName," ")}}function tt(r,n){if(1&r&&(t.\u0275\u0275elementStart(0,"span",22),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&r){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.displayMessage.productCode," ")}}function et(r,n){if(1&r&&(t.\u0275\u0275elementStart(0,"span",22),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&r){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.displayMessage.starRating," ")}}function rt(r,n){if(1&r&&(t.\u0275\u0275elementStart(0,"span",22),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&r){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.displayMessage.description," ")}}const h=function(r){return{"is-invalid":r}};function ot(r,n){if(1&r){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",2)(1,"div",3),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",4)(4,"form",5),t.\u0275\u0275listener("ngSubmit",function(){t.\u0275\u0275restoreView(e);const c=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(c.saveProduct())}),t.\u0275\u0275elementStart(5,"fieldset")(6,"div",6)(7,"label",7),t.\u0275\u0275text(8,"Product Name"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",8)(10,"input",9),t.\u0275\u0275listener("blur",function(){t.\u0275\u0275restoreView(e);const c=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(c.blur())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(11,q,2,1,"span",10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",6)(13,"label",11),t.\u0275\u0275text(14,"Product Code"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"div",8)(16,"input",12),t.\u0275\u0275listener("blur",function(){t.\u0275\u0275restoreView(e);const c=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(c.blur())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(17,tt,2,1,"span",10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(18,"div",6)(19,"label",13),t.\u0275\u0275text(20,"Star Rating (1-5)"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(21,"div",8),t.\u0275\u0275element(22,"input",14),t.\u0275\u0275template(23,et,2,1,"span",10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(24,"div",6)(25,"label",15),t.\u0275\u0275text(26,"Description"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(27,"div",8)(28,"textarea",16),t.\u0275\u0275text(29,"            "),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(30,rt,2,1,"span",10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(31,"div",17)(32,"div",18)(33,"span")(34,"button",19),t.\u0275\u0275text(35," Save "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(36,"span")(37,"button",20),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const c=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(c.cancelEdit())}),t.\u0275\u0275text(38," Cancel "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(39,"span")(40,"button",21),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const c=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(c.deleteProduct())}),t.\u0275\u0275text(41," Delete "),t.\u0275\u0275elementEnd()()()()()()()()}if(2&r){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.pageTitle," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("formGroup",e.productForm),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(11,h,e.displayMessage.productName)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.displayMessage.productName),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(13,h,e.displayMessage.productCode)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.displayMessage.productCode),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(15,h,e.displayMessage.starRating)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.displayMessage.starRating),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(17,h,e.displayMessage.description)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.displayMessage.description),t.\u0275\u0275advance(4),t.\u0275\u0275property("disabled",!e.productForm.valid||!e.productForm.dirty)}}function nt(r,n){if(1&r&&(t.\u0275\u0275elementStart(0,"div",23),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&r){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" Error: ",e.errorMessage,"\n")}}let dt=(()=>{class r{constructor(e){this.fb=e,this.pageTitle="Product Edit",this.create=new t.EventEmitter,this.update=new t.EventEmitter,this.delete=new t.EventEmitter,this.clearCurrent=new t.EventEmitter,this.displayMessage={},this.validationMessages={productName:{required:"Product name is required.",minlength:"Product name must be at least three characters.",maxlength:"Product name cannot exceed 50 characters."},productCode:{required:"Product code is required."},starRating:{range:"Rate the product between 1 (lowest) and 5 (highest)."}},this.genericValidator=new Y(this.validationMessages)}ngOnInit(){this.productForm=this.fb.group({productName:["",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(50)]],productCode:["",a.kI.required],starRating:["",Z.range(1,5)],description:""}),this.productForm.valueChanges.subscribe(()=>this.displayMessage=this.genericValidator.processMessages(this.productForm))}ngOnChanges(e){e.selectedProduct&&this.displayProduct(e.selectedProduct.currentValue)}blur(){this.displayMessage=this.genericValidator.processMessages(this.productForm)}displayProduct(e){e&&this.productForm&&(this.productForm.reset(),this.pageTitle=0===e.id?"Add Product":`Edit Product: ${e.productName}`,this.productForm.patchValue({productName:e.productName,productCode:e.productCode,starRating:e.starRating,description:e.description}))}cancelEdit(){this.displayProduct(this.selectedProduct)}deleteProduct(){this.selectedProduct&&this.selectedProduct.id?confirm(`Really delete the product: ${this.selectedProduct.productName}?`)&&this.delete.emit(this.selectedProduct):this.clearCurrent.emit()}saveProduct(){if(this.productForm.valid&&this.productForm.dirty){const e={...this.selectedProduct,...this.productForm.value};0===e.id?this.create.emit(e):this.update.emit(e)}}}return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275directiveInject(a.qu))},r.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["pm-product-edit"]],inputs:{errorMessage:"errorMessage",selectedProduct:"selectedProduct"},outputs:{create:"create",update:"update",delete:"delete",clearCurrent:"clearCurrent"},features:[t.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[["class","card",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","productNameId",1,"col-md-3","col-form-label"],[1,"col-md-9"],["id","productNameId","type","text","placeholder","Name (required)","formControlName","productName",1,"form-control",3,"ngClass","blur"],["class","invalid-feedback",4,"ngIf"],["for","productCodeId",1,"col-md-3","col-form-label"],["id","productCodeId","type","text","placeholder","Code (required)","formControlName","productCode",1,"form-control",3,"ngClass","blur"],["for","starRatingId",1,"col-md-3","col-form-label"],["id","starRatingId","type","text","placeholder","Rating","formControlName","starRating",1,"form-control",3,"ngClass"],["for","descriptionId",1,"col-md-3","col-form-label"],["id","descriptionId","placeholder","Description","rows","3","formControlName","description",1,"form-control",3,"ngClass"],[1,"form-group"],[1,"col-md-10","col-md-offset-2"],["type","submit",1,"btn","btn-primary",2,"width","80px","margin-right","10px",3,"disabled"],["type","button",1,"btn","btn-light",2,"width","80px","margin-right","10px",3,"click"],["type","button",1,"btn","btn-light",2,"width","80px",3,"click"],[1,"invalid-feedback"],[1,"alert","alert-danger"]],template:function(e,o){1&e&&(t.\u0275\u0275template(0,ot,42,19,"div",0),t.\u0275\u0275template(1,nt,2,1,"div",1)),2&e&&(t.\u0275\u0275property("ngIf",o.selectedProduct),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.errorMessage))},dependencies:[p.mk,p.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],encapsulation:2}),r})(),ct=(()=>{class r{constructor(e){this.store=e}ngOnInit(){this.products$=this.store.select(z),this.errorMessage$=this.store.select(A),this.store.dispatch(S()),this.selectedProduct$=this.store.select(U),this.displayCode$=this.store.select(O)}checkChanged(){this.store.dispatch(y())}newProduct(){this.store.dispatch(E())}productSelected(e){this.store.dispatch(_({currentProductId:e.id}))}deleteProduct(e){this.store.dispatch(M({productId:e.id}))}clearProduct(){this.store.dispatch(x())}saveProduct(e){this.store.dispatch(b({product:e}))}updateProduct(e){this.store.dispatch(I({product:e}))}}return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275directiveInject(d.yh))},r.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["ng-component"]],decls:11,vars:18,consts:[[1,"row"],[1,"col-md-4"],[3,"displayCode","products","selectedProduct","errorMessage","displayCodeChanged","initializeNewProduct","productWasSelected"],[1,"col-md-8"],[3,"selectedProduct","errorMessage","clearCurrent","update","delete","create"]],template:function(e,o){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"pm-product-list",2),t.\u0275\u0275listener("displayCodeChanged",function(){return o.checkChanged()})("initializeNewProduct",function(){return o.newProduct()})("productWasSelected",function(s){return o.productSelected(s)}),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275pipe(5,"async"),t.\u0275\u0275pipe(6,"async"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",3)(8,"pm-product-edit",4),t.\u0275\u0275listener("clearCurrent",function(){return o.clearProduct()})("update",function(s){return o.updateProduct(s)})("delete",function(s){return o.deleteProduct(s)})("create",function(s){return o.saveProduct(s)}),t.\u0275\u0275pipe(9,"async"),t.\u0275\u0275pipe(10,"async"),t.\u0275\u0275elementEnd()()()),2&e&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("displayCode",t.\u0275\u0275pipeBind1(3,6,o.displayCode$))("products",t.\u0275\u0275pipeBind1(4,8,o.products$))("selectedProduct",t.\u0275\u0275pipeBind1(5,10,o.selectedProduct$))("errorMessage",t.\u0275\u0275pipeBind1(6,12,o.errorMessage$)),t.\u0275\u0275advance(6),t.\u0275\u0275property("selectedProduct",t.\u0275\u0275pipeBind1(9,14,o.selectedProduct$))("errorMessage",t.\u0275\u0275pipeBind1(10,16,o.errorMessage$)))},dependencies:[X,dt,p.Ov],encapsulation:2}),r})();const it=(0,d.Lq)({showProductCode:!0,currentProductId:null,products:[],error:""},(0,d.on)(y,r=>({...r,showProductCode:!r.showProductCode})),(0,d.on)(_,(r,n)=>({...r,currentProductId:n.currentProductId})),(0,d.on)(x,r=>({...r,currentProductId:null})),(0,d.on)(E,r=>({...r,currentProductId:0})),(0,d.on)(w,(r,n)=>({...r,products:n.products,error:""})),(0,d.on)(F,(r,n)=>({...r,products:[],error:n.error})),(0,d.on)(T,(r,n)=>{const e=r.products.map(o=>n.product.id===o.id?n.product:o);return{...r,products:e,currentProductId:n.product.id,error:""}}),(0,d.on)(N,(r,n)=>({...r,error:n.error})),(0,d.on)($,(r,n)=>({...r,products:[...r.products,n.product],currentProductId:n.product.id,error:""})),(0,d.on)(k,(r,n)=>({...r,error:n.error})),(0,d.on)(V,(r,n)=>({...r,products:r.products.filter(e=>e.id!==n.productId),currentProductId:null,error:""})),(0,d.on)(K,(r,n)=>({...r,error:n.error})));var u=i(5350),L=i(5577),P=i(4004),l=i(262),R=i(4351),g=i(9646),f=i(3144),at=i(2843),C=i(8505);let ut=(()=>{class r{constructor(e){this.http=e,this.productsUrl="api/products"}getProducts(){return this.http.get(this.productsUrl).pipe((0,C.b)(e=>console.log(JSON.stringify(e))),(0,l.K)(this.handleError))}createProduct(e){const o=new f.WM({"Content-Type":"application/json"}),c={...e,id:null};return this.http.post(this.productsUrl,c,{headers:o}).pipe((0,C.b)(s=>console.log("createProduct: "+JSON.stringify(s))),(0,l.K)(this.handleError))}deleteProduct(e){const o=new f.WM({"Content-Type":"application/json"});return this.http.delete(`${this.productsUrl}/${e}`,{headers:o}).pipe((0,C.b)(s=>console.log("deleteProduct: "+e)),(0,l.K)(this.handleError))}updateProduct(e){const o=new f.WM({"Content-Type":"application/json"});return this.http.put(`${this.productsUrl}/${e.id}`,e,{headers:o}).pipe((0,C.b)(()=>console.log("updateProduct: "+e.id)),(0,P.U)(()=>e),(0,l.K)(this.handleError))}handleError(e){let o;return o=e.error instanceof ErrorEvent?`An error occurred: ${e.error.message}`:`Backend returned code ${e.status}: ${e.body.error}`,console.error(e),(0,at._)(o)}}return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(f.eN))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),lt=(()=>{class r{constructor(e,o){this.actions$=e,this.productService=o,this.loadProducts$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(S),(0,L.z)(()=>this.productService.getProducts().pipe((0,P.U)(c=>w({products:c})),(0,l.K)(c=>(0,g.of)(F({error:c}))))))),this.updateProduct$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(I),(0,R.b)(c=>this.productService.updateProduct(c.product).pipe((0,P.U)(s=>T({product:s})),(0,l.K)(s=>(0,g.of)(N({error:s}))))))),this.createProduct$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(b),(0,R.b)(c=>this.productService.createProduct(c.product).pipe((0,P.U)(s=>$({product:s})),(0,l.K)(s=>(0,g.of)(k({error:s}))))))),this.deleteProduct$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(M),(0,L.z)(c=>this.productService.deleteProduct(c.productId).pipe((0,P.U)(()=>V({productId:c.productId})),(0,l.K)(s=>(0,g.of)(K({error:s})))))))}}return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(u.eX),t.\u0275\u0275inject(ut))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();const pt=[{path:"",component:ct}];let mt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=t.\u0275\u0275defineInjector({imports:[j.m,H.Bz.forChild(pt),d.Aw.forFeature("products",it),u.sQ.forFeature([lt])]}),r})()}}]);