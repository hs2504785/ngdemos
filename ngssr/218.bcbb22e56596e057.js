"use strict";(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[218],{218:(f,c,o)=>{o.r(c),o.d(c,{WorkersampleModule:()=>k});var m=o(6814),i=o(4190),s=function(t){return t[t.FIVE_MILLIONS=5e6]="FIVE_MILLIONS",t[t.TEN_MILLIONS=1e7]="TEN_MILLIONS",t}(s||{}),e=o(5879);let u=(()=>{class t{constructor(){}createElement(n){return[...Array(n).keys()]}loop(n){let r=0;const a=[];for(;r<n;r++)a.push(r);return a}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const d=[{path:"",component:(()=>{class t{constructor(n,r){this.cd=n,this.service=r,this.workerTime=null,this.jsTime=null,this.worker=new Worker(o.tu(new URL(o.p+o.u(4236),o.b))),this.worker.onmessage=({data:a})=>{console.log("From Web Worker:",a)}}runWorker(){console.log("Worker in action");const n=performance.now();this.worker.postMessage(s.TEN_MILLIONS);const r=performance.now();this.workerTime=r-n,this.cd.detectChanges()}runThread(){console.log("JS Thread in action");const n=performance.now(),r=this.service.loop(s.TEN_MILLIONS),a=performance.now();this.jsTime=a-n,console.log("From Javascript Thread",r)}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(u))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["lib-workersample"]],decls:20,vars:2,consts:[[1,"container"],[1,"btn","btn-info","me-2",3,"click"],[1,"btn","btn-warning",3,"click"]],template:function(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h1"),e.\u0275\u0275text(2,"Test Web Worker Performance"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",1),e.\u0275\u0275listener("click",function(){return r.runWorker()}),e.\u0275\u0275text(4,"Web Worker"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",2),e.\u0275\u0275listener("click",function(){return r.runThread()}),e.\u0275\u0275text(6," JavaScript Thread "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"hr"),e.\u0275\u0275elementStart(8,"h3"),e.\u0275\u0275text(9,"Result"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div")(11,"h2"),e.\u0275\u0275text(12,"Web Worker"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div")(16,"h2"),e.\u0275\u0275text(17,"JavaScript Thread"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div"),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275advance(14),e.\u0275\u0275textInterpolate1("Web Worker took: ",r.workerTime," ms"),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("JavaScript Thread took: ",r.jsTime," ms"))},changeDetection:0}),t})()}];let p=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[i.Bz.forChild(d),i.Bz]}),t})(),k=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.ez,p]}),t})()}}]);