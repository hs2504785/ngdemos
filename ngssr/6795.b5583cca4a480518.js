"use strict";(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[6795],{6795:(h,c,o)=>{o.r(c),o.d(c,{WorkersampleModule:()=>k});var m=o(4755),i=o(9085),l=(()=>((l=l||{})[l.FIVE_MILLIONS=5e6]="FIVE_MILLIONS",l[l.TEN_MILLIONS=1e7]="TEN_MILLIONS",l))(),e=o(2223);let d=(()=>{class t{constructor(){}createElement(n){return[...Array(n).keys()]}loop(n){let r=0;const s=[];for(;r<n;r++)s.push(r);return s}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const u=[{path:"",component:(()=>{class t{constructor(n,r){this.cd=n,this.service=r,this.workerTime=null,this.jsTime=null,this.worker=new Worker(o.tu(new URL(o.p+o.u(684),o.b))),this.worker.onmessage=({data:s})=>{console.log("From Web Worker:",s)}}runWorker(){console.log("Worker in action");const n=performance.now();this.worker.postMessage(l.TEN_MILLIONS);const r=performance.now();this.workerTime=r-n,this.cd.detectChanges()}runThread(){console.log("JS Thread in action");const n=performance.now(),r=this.service.loop(l.TEN_MILLIONS),s=performance.now();this.jsTime=s-n,console.log("From Javascript Thread",r)}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(d))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["lib-workersample"]],decls:20,vars:2,consts:[[1,"container"],[1,"btn","btn-info","me-2",3,"click"],[1,"btn","btn-warning",3,"click"]],template:function(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h1"),e.\u0275\u0275text(2,"Test Web Worker Performance"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",1),e.\u0275\u0275listener("click",function(){return r.runWorker()}),e.\u0275\u0275text(4,"Web Worker"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",2),e.\u0275\u0275listener("click",function(){return r.runThread()}),e.\u0275\u0275text(6," JavaScript Thread "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"hr"),e.\u0275\u0275elementStart(8,"h3"),e.\u0275\u0275text(9,"Result"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div")(11,"h2"),e.\u0275\u0275text(12,"Web Worker"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div")(16,"h2"),e.\u0275\u0275text(17,"JavaScript Thread"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div"),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275advance(14),e.\u0275\u0275textInterpolate1("Web Worker took: ",r.workerTime," ms"),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("JavaScript Thread took: ",r.jsTime," ms"))},changeDetection:0}),t})()}];let p=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[i.Bz.forChild(u),i.Bz]}),t})(),k=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.ez,p]}),t})()}}]);