"use strict";(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[1737],{1737:(lt,B,c)=>{c.r(B),c.d(B,{ContactsCsModule:()=>Nt});var v=c(6814),F=c(4190),$=c(9673),b=c(6232),j=c(4664),S=c(9397),M=c(6306),H=c(2181),L=c(6328),t=c(5879),O=c(5101),_=c(6223);let E=(()=>{class n{constructor(e){this.ref=e,this.name="",this.phone=""}add(){!this.phone||!this.name||this.ref.close({name:this.name,phone:this.phone})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(O.zj))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-add-contact"]],decls:8,vars:2,consts:[[1,"p-4"],[1,"text-2xl","mb-6"],["type","text","placeholder","Name",1,"form-control","rounded-md","mb-3",3,"ngModel","ngModelChange"],["type","number","placeholder","Phone",1,"form-control","rounded-md","mb-6",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","mt-4","rounded-lg",3,"click"],[1,"ti-plus"]],template:function(e,o){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"h3",1),t.\u0275\u0275text(2,"Add New Contact"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"input",2),t.\u0275\u0275listener("ngModelChange",function(r){return o.name=r}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"input",3),t.\u0275\u0275listener("ngModelChange",function(r){return o.phone=r}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"button",4),t.\u0275\u0275listener("click",function(){return o.add()}),t.\u0275\u0275element(6,"i",5),t.\u0275\u0275text(7," Add Contact "),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(3),t.\u0275\u0275property("ngModel",o.name),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngModel",o.phone))},dependencies:[_.Fj,_.wV,_.JJ,_.On]}),n})();var R=c(2096),D=c(932);let Q=(()=>{class n{constructor(){this.contacts=[{name:"Bibbye Gutcher",phone:"885-131-9176"},{name:"Gabbie Haslegrave",phone:"541-172-6277"},{name:"Catie Nettleship",phone:"201-539-6873"},{name:"Mahalia Sones",phone:"535-669-7499"},{name:"Lia Yurmanovev",phone:"381-531-3649"},{name:"Daisy Simonel",phone:"890-576-1438"},{name:"Bobby Coller",phone:"129-638-2410"},{name:"Peri Hockey",phone:"290-234-4247"},{name:"Cordie Crosscombe",phone:"907-576-1311"},{name:"Rodrigo Alexsandrovich",phone:"799-587-4536"},{name:"Hortensia Fishleigh",phone:"434-950-3630"},{name:"Atlante Rait",phone:"445-521-0518"},{name:"Marysa Bartolomeoni",phone:"256-694-5017"},{name:"Gussi Albasiny",phone:"444-436-5627"},{name:"Betsey Kears",phone:"280-992-9432"},{name:"Conni Marzellano",phone:"425-276-4741"},{name:"Natalina Burnsides",phone:"826-545-7370"},{name:"Scarface Samet",phone:"606-139-9514"},{name:"Shelley Riglar",phone:"822-991-7728"},{name:"Judon Keen",phone:"539-279-0970"}]}fetchContacts(){return(0,R.of)(this.contacts).pipe((0,D.g)(1e3))}addContact(e){return this.contacts.unshift(e),(0,R.of)(e).pipe((0,D.g)(1e3))}deleteContact(e){const o=this.contacts.findIndex(s=>s.name===e.name);return this.contacts.splice(o,1),(0,R.of)({success:!0}).pipe((0,D.g)(1e3))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class N{constructor(i){this.options=i,i.vcr?this.ref=i.vcr.createComponent(i.component,{index:i.vcr.length,injector:i.injector||i.vcr.injector}):(this.ref=(0,t.createComponent)(i.component,{elementInjector:i.injector,environmentInjector:i.environmentInjector}),i.appRef.attachView(this.ref.hostView))}setInput(i,e){return this.ref.setInput(i,e),this}setInputs(i){return Object.keys(i).forEach(e=>{this.ref.setInput(e,i[e])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(i){return this.options.contextSignal?.set(i),this}appendTo(i){return i.appendChild(this.getElement()),this}removeFrom(i){return i.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}}function x(n){return n instanceof t.TemplateRef}function I(n){return"function"==typeof n}function k(n){return"string"==typeof n}let A=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(e,o){1&e&&t.\u0275\u0275element(0,"div",0),2&e&&t.\u0275\u0275property("innerHTML",o.content,t.\u0275\u0275sanitizeHtml)},encapsulation:2}),n})();class ot{constructor(i){this.args=i,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:i.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},i.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){const i=this.ref.rootNodes;return 1===i.length&&i[0]===Node.ELEMENT_NODE?this.element=i[0]:(this.element=document.createElement("div"),this.element.append(...i)),this.element}destroy(){1!==this.ref.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(i){return this.ref.context=i,this}}class G{constructor(i){this.value=i}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}}const U=new t.InjectionToken("Component context");let W=(()=>{class n{constructor(){this.injector=(0,t.inject)(t.Injector),this.appRef=(0,t.inject)(t.ApplicationRef),this.environmentInjector=(0,t.inject)(t.EnvironmentInjector)}createComponent(e,o={}){let r,s=o.injector??this.injector;return o.context&&(r=(0,t.signal)(o.context),s=t.Injector.create({providers:[{provide:U,useValue:r.asReadonly()}],parent:s})),new N({component:e,vcr:o.vcr,injector:s,appRef:this.appRef,environmentInjector:o.environmentInjector||this.environmentInjector,contextSignal:r})}createTemplate(e,o={}){return new ot({vcr:o.vcr,appRef:this.appRef,tpl:e,context:o.context,injector:o.injector})}createView(e,o={}){if(x(e))return this.createTemplate(e,o);if(I(e))return this.createComponent(e,o);if(k(e))return new G(e);throw"Type of content is not supported"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J=(()=>{class n{constructor(e,o,s){this.defaultTpl=e,this.vcr=o,this.viewService=s}ngOnInit(){this.resolveContentType()}ngOnChanges(e){const o=e.view&&!e.view.isFirstChange(),s=e.context&&!e.context.isFirstChange(),r=e.inputs&&!e.inputs.isFirstChange();o?this.resolveContentType():s?this.viewRef.updateContext(this.context):I(this.view)&&r&&this.viewRef.setInputs(this.inputs||{})}resolveContentType(){this.viewRef?.destroy(),k(this.view)?(this.viewRef=this.viewService.createComponent(A,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):I(this.view)?(this.viewRef=this.viewService.createComponent(this.view,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context}),this.inputs&&this.viewRef.setInputs(this.inputs)):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(t.TemplateRef),t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(W))},n.\u0275dir=t.\u0275\u0275defineDirective({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"],inputs:["dynamicViewInputs","inputs"]},features:[t.\u0275\u0275NgOnChangesFeature]}),n})(),z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({}),n})();var Y=c(8645),p=c(3684),u=c(4911);const a=["*"],l=function(n,i){return{"border-color":n,"border-right-color":i}};function h(n,i){if(1&n&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1,"\n        "),t.\u0275\u0275element(2,"hot-toast-error",2),t.\u0275\u0275text(3,"\n      "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("theme",e.theme)}}function m(n,i){if(1&n&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1,"\n        "),t.\u0275\u0275element(2,"hot-toast-checkmark",2),t.\u0275\u0275text(3,"\n      "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("theme",e.theme)}}function y(n,i){if(1&n&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1,"\n        "),t.\u0275\u0275element(2,"hot-toast-warning",2),t.\u0275\u0275text(3,"\n      "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("theme",e.theme)}}function g(n,i){if(1&n&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1,"\n        "),t.\u0275\u0275element(2,"hot-toast-info",2),t.\u0275\u0275text(3,"\n      "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("theme",e.theme)}}function T(n,i){if(1&n&&(t.\u0275\u0275elementStart(0,"div",4),t.\u0275\u0275text(1,"\n    "),t.\u0275\u0275elementStart(2,"div",5),t.\u0275\u0275text(3,"\n      "),t.\u0275\u0275template(4,h,4,1,"div",6),t.\u0275\u0275text(5,"\n      "),t.\u0275\u0275template(6,m,4,1,"div",6),t.\u0275\u0275text(7,"\n      "),t.\u0275\u0275template(8,y,4,1,"div",6),t.\u0275\u0275text(9,"\n      "),t.\u0275\u0275template(10,g,4,1,"div",6),t.\u0275\u0275text(11,"\n    "),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(12,"\n  "),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngSwitch",e.type),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngSwitchCase","error"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngSwitchCase","success"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngSwitchCase","warning"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngSwitchCase","info")}}function w(n,i){if(1&n&&(t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275text(1,"\n  "),t.\u0275\u0275element(2,"hot-toast-loader",2),t.\u0275\u0275text(3,"\n  "),t.\u0275\u0275template(4,T,13,5,"div",3),t.\u0275\u0275text(5,"\n"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("theme",e.theme),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","loading"!==e.type)}}const P=["hotToastBarBase"];function dt(n,i){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1,"\n          "),t.\u0275\u0275elementStart(2,"hot-toast-animated-icon",10),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4,"\n        "),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("iconTheme",e.toast.iconTheme),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(e.toast.icon)}}function pt(n,i){if(1&n&&(t.\u0275\u0275text(0,"\n          "),t.\u0275\u0275elementStart(1,"div"),t.\u0275\u0275text(2,"\n            "),t.\u0275\u0275elementContainer(3,11),t.\u0275\u0275text(4,"\n          "),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(5,"\n        ")),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275property("dynamicView",e.toast.icon)}}function ht(n,i){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1,"\n        "),t.\u0275\u0275template(2,dt,5,2,"ng-container",4),t.\u0275\u0275text(3,"\n        "),t.\u0275\u0275template(4,pt,6,1,"ng-template",null,9,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275text(6,"\n      "),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275reference(5),o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",o.isIconString)("ngIfElse",e)}}function ut(n,i){if(1&n&&(t.\u0275\u0275text(0,"\n        "),t.\u0275\u0275element(1,"hot-toast-indicator",12),t.\u0275\u0275text(2,"\n      ")),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("theme",e.toast.iconTheme)("type",e.toast.type)}}function ft(n,i){1&n&&t.\u0275\u0275elementContainer(0)}function mt(n,i){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",13),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.close())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngStyle",e.toast.closeStyle)}}function Ct(n,i){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"hot-toast",3),t.\u0275\u0275listener("height",function(s){const d=t.\u0275\u0275restoreView(e).$implicit,f=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(f.updateHeight(s,d))})("beforeClosed",function(){const r=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.beforeClosed(r))})("afterClosed",function(s){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.afterClosed(s))}),t.\u0275\u0275elementEnd()}if(2&n){const e=i.$implicit,o=i.index,s=t.\u0275\u0275nextContext();t.\u0275\u0275property("toast",e)("offset",s.calculateOffset(e.id,e.position))("toastRef",s.toastRefs[o])}}const st={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class at{constructor(i){this.toast=i,this._onClosed=new Y.x}get data(){return this.toast.data}set dispose(i){this._dispose=i}getToast(){return this.toast}appendTo(i){const{dispose:e,updateMessage:o,updateToast:s,afterClosed:r}=i.addToast(this);return this.dispose=e,this.updateMessage=o,this.updateToast=s,this.afterClosed=(0,p.S)(this._onClosed.asObservable(),r),this}close(i={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:i.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}}let yt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:a,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(e,o){1&e&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275text(1,"\n  "),t.\u0275\u0275projection(2),t.\u0275\u0275text(3,"\n"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4,"\n")),2&e&&t.\u0275\u0275styleProp("color",null==o.iconTheme?null:o.iconTheme.primary)},encapsulation:2,changeDetection:0}),n})(),Tt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(e,o){1&e&&(t.\u0275\u0275element(0,"div",0),t.\u0275\u0275text(1,"\n")),2&e&&t.\u0275\u0275styleProp("--check-primary",null==o.theme?null:o.theme.primary)("--check-secondary",null==o.theme?null:o.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),xt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(e,o){1&e&&(t.\u0275\u0275element(0,"div",0),t.\u0275\u0275text(1,"\n")),2&e&&t.\u0275\u0275styleProp("--error-primary",null==o.theme?null:o.theme.primary)("--error-secondary",null==o.theme?null:o.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),St=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(e,o){1&e&&(t.\u0275\u0275element(0,"div",0),t.\u0275\u0275text(1,"\n")),2&e&&t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction2(1,l,null==o.theme?null:o.theme.primary,null==o.theme?null:o.theme.secondary))},dependencies:[v.PC],encapsulation:2,changeDetection:0}),n})(),Et=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(e,o){1&e&&(t.\u0275\u0275element(0,"div",0),t.\u0275\u0275text(1,"\n")),2&e&&t.\u0275\u0275styleProp("--warn-primary",null==o.theme?null:o.theme.primary)("--warn-secondary",null==o.theme?null:o.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),It=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(e,o){1&e&&(t.\u0275\u0275element(0,"div",0),t.\u0275\u0275text(1,"\n")),2&e&&t.\u0275\u0275styleProp("--warn-primary",null==o.theme?null:o.theme.primary)("--warn-secondary",null==o.theme?null:o.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),wt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,o){1&e&&(t.\u0275\u0275template(0,w,6,2,"div",0),t.\u0275\u0275text(1,"\n")),2&e&&t.\u0275\u0275property("ngIf","blank"!==o.type)},dependencies:[v.O5,v.RF,v.n9,Tt,xt,St,Et,It],encapsulation:2,changeDetection:0}),n})(),ct=(()=>{class n{constructor(e,o,s){this.injector=e,this.renderer=o,this.ngZone=s,this.offset=0,this.height=new t.EventEmitter,this.beforeClosed=new t.EventEmitter,this.afterClosed=new t.EventEmitter,this.isManualClose=!1,this.unlisteners=[]}get toastBarBaseHeight(){return this.toastBarBase.nativeElement.offsetHeight}get containerPositionStyle(){const e=this.toast.position.includes("top"),o=e?{top:0}:{bottom:0},s=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(e?1:-1)}px)`,...o,...s}}get toastBarBaseStyles(){const e=this.toast.position.includes("top"),o=`hotToastEnterAnimation${e?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${o}, hotToastExitAnimation${e?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:o}}get isIconString(){return"string"==typeof this.toast.icon}ngOnChanges(e){e.toast&&!e.toast.firstChange&&e.toast.currentValue?.message&&requestAnimationFrame(()=>{this.height.emit(this.toastBarBase.nativeElement.offsetHeight)})}ngOnInit(){x(this.toast.message)&&(this.context={$implicit:this.toastRef}),I(this.toast.message)&&(this.toastComponentInjector=t.Injector.create({providers:[{provide:at,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const e=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(e.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(e,"animationstart",o=>{this.isExitAnimation(o)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(e,"animationend",o=>{this.isExitAnimation(o)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}close(){this.isManualClose=!0;((n,i)=>{this.toastBarBase.nativeElement.style.animation=i})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(e){return e.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const e=this.toast.attributes;for(const[o,s]of Object.entries(e))this.renderer.setAttribute(this.toastBarBase.nativeElement,o,s)}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(t.NgZone))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast"]],viewQuery:function(e,o){if(1&e&&t.\u0275\u0275viewQuery(P,5),2&e){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(o.toastBarBase=s.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},features:[t.\u0275\u0275NgOnChangesFeature],decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(e,o){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275text(1,"\n  "),t.\u0275\u0275elementStart(2,"div",1,2),t.\u0275\u0275text(4,"\n    "),t.\u0275\u0275elementStart(5,"div",3),t.\u0275\u0275text(6,"\n      "),t.\u0275\u0275template(7,ht,7,2,"ng-container",4),t.\u0275\u0275text(8,"\n\n      "),t.\u0275\u0275template(9,ut,3,2,"ng-template",null,5,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275text(11,"\n    "),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(12,"\n\n    "),t.\u0275\u0275elementStart(13,"div",6),t.\u0275\u0275text(14,"\n      "),t.\u0275\u0275elementStart(15,"div"),t.\u0275\u0275text(16,"\n        "),t.\u0275\u0275template(17,ft,1,0,"ng-container",7),t.\u0275\u0275text(18,"\n      "),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(19,"\n    "),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(20,"\n\n    "),t.\u0275\u0275template(21,mt,1,1,"button",8),t.\u0275\u0275text(22,"\n  "),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(23,"\n"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(24,"\n")),2&e){const s=t.\u0275\u0275reference(10);t.\u0275\u0275property("ngStyle",o.containerPositionStyle)("ngClass","hot-toast-theme-"+o.toast.theme),t.\u0275\u0275advance(2),t.\u0275\u0275styleProp("--hot-toast-animation-state",o.isManualClose?"running":"paused"),t.\u0275\u0275property("ngStyle",o.toastBarBaseStyles)("ngClass",o.toast.className),t.\u0275\u0275attribute("aria-live",o.toast.ariaLive)("role",o.toast.role),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",void 0!==o.toast.icon)("ngIfElse",s),t.\u0275\u0275advance(10),t.\u0275\u0275property("dynamicView",o.toast.message)("dynamicViewContext",o.context)("dynamicViewInjector",o.toastComponentInjector),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",o.toast.dismissible)}},dependencies:[v.mk,v.O5,v.PC,J,yt,wt],encapsulation:2,changeDetection:0}),n})(),bt=(()=>{class n{constructor(e){this.cdr=e,this.toasts=[],this.toastRefs=[],this._onClosed=new Y.x,this.onClosed$=this._onClosed.asObservable()}trackById(e,o){return o.id}calculateOffset(e,o){const s=this.toasts.filter(f=>f.visible&&f.position===o),r=s.findIndex(f=>f.id===e);return-1!==r?s.slice(...this.defaultConfig.reverseOrder?[r+1]:[0,r]).reduce((f,C)=>f+(C.height||0)+8,0):0}updateHeight(e,o){o.height=e,this.cdr.detectChanges()}addToast(e){this.toastRefs.push(e);const o=e.getToast();return this.toasts.push(e.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(o.id)},updateMessage:s=>{o.message=s,this.updateToasts(o),this.cdr.detectChanges()},updateToast:s=>{this.updateToasts(o,s),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(o)}}closeToast(e){if(e){const o=this.hotToastComponentList.find(s=>s.toast.id===e);o&&o.close()}else this.hotToastComponentList.forEach(o=>o.close())}beforeClosed(e){e.visible=!1}afterClosed(e){this.toasts.findIndex(s=>s.id===e.id)>-1&&(this._onClosed.next(e),this.toasts=this.toasts.filter(s=>s.id!==e.id),this.toastRefs=this.toastRefs.filter(s=>s.getToast().id!==e.id),this.cdr.detectChanges())}hasToast(e){return this.toasts.findIndex(o=>o.id===e)>-1}getAfterClosed(e){return this.onClosed$.pipe((0,H.h)(o=>o.id===e.id))}updateToasts(e,o){this.toasts=this.toasts.map(s=>({...s,...s.id===e.id&&{...e,...o}}))}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast-container"]],viewQuery:function(e,o){if(1&e&&t.\u0275\u0275viewQuery(ct,5),2&e){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(o.hotToastComponentList=s)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(e,o){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275text(1,"\n  "),t.\u0275\u0275elementStart(2,"div",1),t.\u0275\u0275text(3,"\n    "),t.\u0275\u0275template(4,Ct,1,3,"hot-toast",2),t.\u0275\u0275text(5,"\n  "),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(6,"\n"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(7,"\n")),2&e&&(t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",o.toasts)("ngForTrackBy",o.trackById))},dependencies:[v.sg,ct],encapsulation:2,changeDetection:0}),n})();class X{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.info={content:""},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class jt{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let Ot=(()=>{class n{constructor(e,o,s){this._viewService=e,this.platformId=o,this._isInitialized=!1,this._defaultConfig=new X,this._defaultPersistConfig=new jt,s&&(this._defaultConfig={...this._defaultConfig,...s})}get defaultConfig(){return this._defaultConfig}set defaultConfig(e){this._defaultConfig={...this._defaultConfig,...e},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(e,o){return this.createToast(e||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...o})}error(e,o){return this.createToast(e||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...o})}success(e,o){return this.createToast(e||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...o})}loading(e,o){return this.createToast(e||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...o})}warning(e,o){return this.createToast(e||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...o})}info(e,o){return this.createToast(e||this._defaultConfig.info.content,"info",{...this._defaultConfig,...this._defaultConfig?.info,...o})}observe(e){return o=>{let s,r=0;const d=e.loading??this._defaultConfig.loading?.content,f=e.success??this._defaultConfig.success?.content,C=e.error??this._defaultConfig.error?.content;return(0,u.P)(()=>(d&&(s=this.createLoadingToast(d),r=Date.now()),o.pipe((0,S.b)({...f&&{next:V=>{s=this.createOrUpdateToast(e,V,s,"success",0===r?r:Date.now()-r)}},...C&&{error:V=>{s=this.createOrUpdateToast(e,V,s,"error",0===r?r:Date.now()-r)}}}))))}}close(e){this._componentRef&&this._componentRef.ref.instance.closeToast(e)}init(){(0,v.PM)(this.platformId)||(this._componentRef=this._viewService.createComponent(bt).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(e,o,s,r,d){let f=null,C={};if(({content:f,options:C}=this.getContentAndOptions(r,e[r]||(this._defaultConfig[r]?this._defaultConfig[r].content:""))),f=((n,i)=>(n=>"function"==typeof n)(n)?n(i):n)(f,o),s){s.updateMessage(f);const V={type:r,duration:d+st[r],...C,...C.duration&&{duration:d+C.duration}};s.updateToast(V)}else this.createToast(f,r,C);return s}createToast(e,o,s,r){this._isInitialized||(this._isInitialized=!0,this.init());const d=Date.now(),f=s?.id??d.toString();if(!this.isDuplicate(f)&&(!s.persist?.enabled||s.persist?.enabled&&this.handleStorageValue(f,s))){const C={ariaLive:s?.ariaLive??"polite",createdAt:d,duration:s?.duration??st[o],id:f,message:e,role:s?.role??"status",type:o,visible:!0,observableMessages:r??void 0,...s};return new at(C).appendTo(this._componentRef.ref.instance)}}isDuplicate(e){return this._componentRef.ref.instance.hasToast(e)}handleStorageValue(e,o){let s=1;const r={...this._defaultPersistConfig,...o.persist},d="local"===r.storage?localStorage:sessionStorage,f=r.key.replace(/\${id}/g,e);let C=d.getItem(f);return C?(C=parseInt(C,10),s=C>0?C-1:C):s=r.count,d.setItem(f,s.toString()),s}getContentAndOptions(e,o){let s,r={...this._defaultConfig,...this._defaultConfig[e]};if("string"==typeof o||x(o)||I(o))s=o;else{let d;({content:s,...d}=o),r={...r,...d}}return{content:s,options:r}}createLoadingToast(e){let o=null,s={};return({content:o,options:s}=this.getContentAndOptions("loading",e)),this.loading(o,s)}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275inject(W),t.\u0275\u0275inject(t.PLATFORM_ID),t.\u0275\u0275inject(X,8))},n.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rt=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:X,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[v.ez,z]}),n})(),q=(()=>{class n extends $.m1{constructor(e,o,s){super({contacts:[],searchString:""}),this.contactsService=e,this.toast=o,this.dialog=s,this.filteredContacts$=this.select(({contacts:r,searchString:d})=>r.filter(f=>f.name.toLowerCase().includes(d.toLowerCase()))),this.setContacts=this.updater((r,d)=>({...r,contacts:d})),this.removeContactFromStore=this.updater((r,d)=>({...r,contacts:r.contacts.filter(f=>f.name!==d)})),this.fetchContacts=this.effect(r=>r.pipe((0,j.w)(()=>this.contactsService.fetchContacts().pipe(this.toast.observe({loading:"Fetching...",success:"Contacts fetched!",error:"Could not fetch."}),(0,S.b)(d=>{this.setContacts(d)}),(0,M.K)(()=>b.E))))),this.showAddDialog=this.effect(r=>r.pipe((0,j.w)(()=>this.dialog.open(E).afterClosed$),(0,H.h)(d=>!!d),(0,S.b)(d=>{this.addContact(d)}))),this.addContact=this.effect(r=>r.pipe((0,L.b)(d=>this.contactsService.addContact(d).pipe((0,S.b)(()=>this.fetchContacts()),this.toast.observe({loading:"Adding contact...",success:"Contact added!",error:"Could not add."}),(0,M.K)(()=>b.E))))),this.deleteContact=this.effect(r=>r.pipe((0,L.b)(d=>this.contactsService.deleteContact(d).pipe(this.toast.observe({loading:"Deleting contact...",success:"Contact deleted!",error:"Could not delete."}),(0,S.b)(()=>this.removeContactFromStore(d.name)),(0,M.K)(()=>b.E))))),this.fetchContacts()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275inject(Q),t.\u0275\u0275inject(Ot),t.\u0275\u0275inject(O.xA))},n.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function At(n,i){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",12),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.showSearch())}),t.\u0275\u0275element(1,"span",13),t.\u0275\u0275elementEnd()}}function Pt(n,i){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",14)(1,"input",15),t.\u0275\u0275listener("keydown",function(s){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.searchContacts(s.target.value))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"button",16),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.hideSearch())}),t.\u0275\u0275element(3,"i",13),t.\u0275\u0275elementEnd()()}}let Vt=(()=>{class n{constructor(e){this.contactsStore=e,this.search=!1}showSearch(){this.search=!0}hideSearch(){this.search=!1}searchContacts(e){this.contactsStore.patchState({searchString:e})}addContact(){this.contactsStore.showAddDialog()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(q))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-header"]],decls:13,vars:2,consts:[[1,"navbar","navbar-expand-sm","bg-primary"],[1,"text-white"],[1,"ti-headphone"],[1,"text-2xl"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"ms-auto","d-flex"],[1,"flex","items-center","me-2","p-2",3,"click"],[1,"ti-plus"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","form-inline",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"ti-search"],[1,"form-inline"],["autoFocus","true",1,"form-control",3,"keydown"],["type","submit",1,"btn","btn-outline-success",3,"click"]],template:function(e,o){1&e&&(t.\u0275\u0275elementStart(0,"nav",0)(1,"div",1),t.\u0275\u0275element(2,"span",2),t.\u0275\u0275elementStart(3,"span",3),t.\u0275\u0275text(4," Contacts App "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"button",4),t.\u0275\u0275element(6,"span",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",6)(8,"div",7)(9,"button",8),t.\u0275\u0275listener("click",function(){return o.addContact()}),t.\u0275\u0275element(10,"span",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(11,At,2,0,"button",10),t.\u0275\u0275template(12,Pt,4,0,"form",11),t.\u0275\u0275elementEnd()()()),2&e&&(t.\u0275\u0275advance(11),t.\u0275\u0275property("ngIf",!o.search),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.search))},dependencies:[v.O5,_._Y,_.JL,_.F]}),n})();function Bt(n,i){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"li",2)(1,"div",3)(2,"a",4),t.\u0275\u0275element(3,"i",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",6),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"button",7),t.\u0275\u0275listener("click",function(){const r=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.deleteContact(r))}),t.\u0275\u0275element(8,"i",8),t.\u0275\u0275elementEnd()()}if(2&n){const e=i.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275property("href","tel:"+e.phone,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",e.name," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.phone)}}let Ft=(()=>{class n{constructor(e){this.contactsStore=e,this.contacts$=this.contactsStore.filteredContacts$}deleteContact(e){this.contactsStore.deleteContact(e)}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(q))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-contacts"]],decls:3,vars:3,consts:[[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"text-xl"],[1,"me-2",3,"href"],[1,"ti-microphone"],[1,"text-gray-500","text-lg"],[1,"btn","btn-danger",3,"click"],[1,"ti-trash"]],template:function(e,o){1&e&&(t.\u0275\u0275elementStart(0,"ul",0),t.\u0275\u0275template(1,Bt,9,3,"li",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(2,1,o.contacts$)))},dependencies:[v.sg,v.Ov]}),n})();const $t=[{path:"",component:(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-contacts-cs"]],features:[t.\u0275\u0275ProvidersFeature([q])],decls:2,vars:0,template:function(e,o){1&e&&t.\u0275\u0275element(0,"app-header")(1,"app-contacts")},dependencies:[Vt,Ft],changeDetection:0}),n})()}];let Ht=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[F.Bz.forChild($t),F.Bz]}),n})();var Lt=c(9347);let Nt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({providers:[O.xA],imports:[v.ez,Ht,_.u5,Lt.Is,Rt.forRoot()]}),n})()},9673:(lt,B,c)=>{c.d(B,{m1:()=>U});var v=c(5592),F=c(7394),$=c(6410),b=c(7328),j=c(7258),S=c(2096),M=c(2381),H=c(6232),L=c(8504),t=c(5154),O=c(2572),_=c(8645),E=c(9773),R=c(3093),D=c(9397),Q=c(2460),Z=c(7398),tt=c(6306),et=c(8180),nt=c(3997),N=c(7081),x=c(5879),I=c(1993);function K(p){return"function"==typeof p.ngrxOnStoreInit}function A(p){return"function"==typeof p.ngrxOnStateInit}const G=new x.InjectionToken("@ngrx/component-store Initial State");let U=(()=>{class p{constructor(a){this.destroySubject$=new b.t(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new b.t(1),this.isInitialized=!1,this.state$=this.select(l=>l),this.state=(0,I.O4)(this.stateSubject$.pipe((0,E.R)(this.destroy$)),{requireSync:!1,manualCleanup:!0}),this.\u0275hasProvider=!1,a&&this.initState(a),this.checkProviderForHooks()}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(a){return l=>{let m,h=!0;const g=((0,j.b)(l)?l:(0,S.of)(l)).pipe((0,R.Q)(M.N),(0,D.b)(()=>this.assertStateIsInitialized()),(0,Q.M)(this.stateSubject$),(0,Z.U)(([T,w])=>a(w,T)),(0,D.b)(T=>this.stateSubject$.next(T)),(0,tt.K)(T=>h?(m=T,H.E):(0,L._)(T)),(0,E.R)(this.destroy$)).subscribe();if(m)throw m;return h=!1,g}}initState(a){(0,t.x)([a],M.N).subscribe(l=>{this.isInitialized=!0,this.stateSubject$.next(l)})}setState(a){"function"!=typeof a?this.initState(a):this.updater(a)()}patchState(a){const l="function"==typeof a?a(this.get()):a;this.updater((h,m)=>({...h,...m}))(l)}get(a){let l;return this.assertStateIsInitialized(),this.stateSubject$.pipe((0,et.q)(1)).subscribe(h=>{l=a?a(h):h}),l}select(...a){const{observablesOrSelectorsObject:l,projector:h,config:m}=function W(p){const u=Array.from(p);let l={debounce:!1,equal:(y,g)=>y===g};if(function it(p){return typeof p.debounce<"u"||typeof p.equal<"u"}(u[u.length-1])&&(l={...l,...u.pop()}),1===u.length&&"function"!=typeof u[0])return{observablesOrSelectorsObject:u[0],projector:void 0,config:l};const h=u.pop();return{observablesOrSelectorsObject:u,projector:h,config:l}}(a);return(function J(p,u){return Array.isArray(p)&&0===p.length&&u}(l,h)?this.stateSubject$:(0,O.a)(l)).pipe(m.debounce?function k(){return p=>new v.y(u=>{let a,l;const h=new F.w0;return h.add(p.subscribe({complete:()=>{a&&u.next(l),u.complete()},error:m=>{u.error(m)},next:m=>{l=m,a||(a=$.E.schedule(()=>{u.next(l),a=void 0}),h.add(a))}})),h})}():p=>p,h?(0,Z.U)(g=>l.length>0&&Array.isArray(g)?h(...g):h(g)):p=>p,(0,nt.x)(m.equal),(0,N.d)({refCount:!0,bufferSize:1}),(0,E.R)(this.destroy$))}selectSignal(...a){const l=[...a],h=(w,P)=>w===P,m="object"==typeof l[a.length-1]?{equal:l.pop().equal||h}:{equal:h},y=l.pop(),g=l;return(0,x.computed)(0===g.length?()=>y(this.state()):()=>{const w=g.map(P=>P());return y(...w)},m)}effect(a){const l=new _.x;return a(l).pipe((0,E.R)(this.destroy$)).subscribe(),h=>((0,j.b)(h)?h:(0,S.of)(h)).pipe((0,E.R)(this.destroy$)).subscribe(y=>{l.next(y)})}checkProviderForHooks(){$.E.schedule(()=>{if((0,x.isDevMode)()&&(K(this)||A(this))&&!this.\u0275hasProvider){const a=[K(this)?"OnStoreInit":"",A(this)?"OnStateInit":""].filter(l=>l);console.warn(`@ngrx/component-store: ${this.constructor.name} has the ${a.join(" and ")} lifecycle hook(s) implemented without being provided using the provideComponentStore(${this.constructor.name}) function. To resolve this, provide the component store via provideComponentStore(${this.constructor.name})`)}})}assertStateIsInitialized(){if(!this.isInitialized)throw new Error(`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`)}}return p.\u0275fac=function(a){return new(a||p)(x.\u0275\u0275inject(G,8))},p.\u0275prov=x.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})()}}]);