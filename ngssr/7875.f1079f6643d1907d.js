"use strict";(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[7875],{7875:(g,S,t)=>{t.r(S),t.d(S,{StoredemoModule:()=>W});var s=t(6814),n=t(4190),r=t(5879);let c=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(m){return new(m||i)},i.\u0275cmp=r.\u0275\u0275defineComponent({type:i,selectors:[["app-storedemo"]],decls:24,vars:0,consts:[[1,"m-2","d-flex","justify-content-center"],["routerLink","users-store-feature","routerLinkActive","active",1,"btn","btn-outline-info","me-2"],["routerLink","users-store","routerLinkActive","active",1,"btn","btn-outline-info","me-2"],["routerLink","users-entity","routerLinkActive","active",1,"btn","btn-outline-warning","me-2"],["routerLink","users-data","routerLinkActive","active",1,"btn","btn-outline-success","me-2"],["routerLink","users-ws","routerLinkActive","active",1,"btn","btn-outline-danger","me-2"],["routerLink","users-service","routerLinkActive","active",1,"btn","btn-outline-primary","me-2"],["routerLink","users-cs","routerLinkActive","active",1,"btn","btn-outline-success","me-2"],["routerLink","contacts","routerLinkActive","active",1,"btn","btn-outline-warning","me-2"],["routerLink","contacts-cs","routerLinkActive","active",1,"btn","btn-outline-primary","me-2"],["routerLink","csdemo","routerLinkActive","active",1,"btn","btn-outline-danger","me-2"],["routerLink","users-entity-demo","routerLinkActive","active",1,"btn","btn-outline-warning"]],template:function(m,M){1&m&&(r.\u0275\u0275elementStart(0,"header",0)(1,"a",1),r.\u0275\u0275text(2,"Users Store Feature"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"a",2),r.\u0275\u0275text(4,"Users Store"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"a",3),r.\u0275\u0275text(6,"Users Entity"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(7,"a",4),r.\u0275\u0275text(8,"Users Data"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"a",5),r.\u0275\u0275text(10,"Users WS"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(11,"a",6),r.\u0275\u0275text(12,"Users Service"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(13,"a",7),r.\u0275\u0275text(14,"Users Component Store"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(15,"a",8),r.\u0275\u0275text(16,"Contacts"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(17,"a",9),r.\u0275\u0275text(18,"Contacts CS"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(19,"a",10),r.\u0275\u0275text(20,"Users CS Demo"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(21,"a",11),r.\u0275\u0275text(22,"Users Entity Demo"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275element(23,"router-outlet"))},dependencies:[n.lC,n.rH,n.Od],changeDetection:0}),i})();var e=t(9397),a=t(1374),d=t(6060);let R=(()=>{class i{constructor(m){this.userService=m}resolve(m,M){return this.userService.loaded$.pipe((0,e.b)(T=>{T||this.userService.getAll()}),(0,a.P)())}}return i.\u0275fac=function(m){return new(m||i)(r.\u0275\u0275inject(d.$))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var f=t(4221),p=t(2181),U=t(1657),E=t(7623);let C=(()=>{class i{constructor(m){this.store=m}resolve(m,M){return this.store.pipe((0,f.Ys)(E.QQ),(0,e.b)(T=>{T||this.store.dispatch((0,U.wv)())}),(0,p.h)(T=>T),(0,a.P)())}}return i.\u0275fac=function(m){return new(m||i)(r.\u0275\u0275inject(f.yh))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var O=t(5748),v=t(2782);let _=(()=>{class i{constructor(m){this.store=m}resolve(m,M){return this.store.pipe((0,f.Ys)(v.pU),(0,e.b)(T=>{T||this.store.dispatch((0,O.Ec)())}),(0,p.h)(T=>T),(0,a.P)())}}return i.\u0275fac=function(m){return new(m||i)(r.\u0275\u0275inject(f.yh))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var F=t(8155);let x=(()=>{class i{constructor(m){this.userService=m}resolve(m,M){return this.userService.getUsers()}}return i.\u0275fac=function(m){return new(m||i)(r.\u0275\u0275inject(F.K))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var y=t(4257),A=t(3225);let K=(()=>{class i{constructor(m){this.store=m}resolve(m,M){return this.store.pipe((0,f.Ys)(A.gA),(0,e.b)(T=>{T||this.store.dispatch((0,y.zc)())}),(0,p.h)(T=>T),(0,a.P)())}}return i.\u0275fac=function(m){return new(m||i)(r.\u0275\u0275inject(f.yh))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var l=t(5053),h=t(2844);let o=(()=>{class i{constructor(m){this.store=m}resolve(m,M){return this.store.pipe((0,f.Ys)(h.gA),(0,e.b)(T=>{T||this.store.dispatch((0,l.zc)())}),(0,p.h)(T=>T),(0,a.P)())}}return i.\u0275fac=function(m){return new(m||i)(r.\u0275\u0275inject(f.yh))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var u=t(2208);const P=[{path:"",component:c,children:[{path:"users-store",loadChildren:()=>Promise.all([t.e(8592),t.e(5770)]).then(t.bind(t,5770)).then(i=>i.UsersStoreModule),resolve:[o]},{path:"users-entity",loadChildren:()=>Promise.all([t.e(8592),t.e(761)]).then(t.bind(t,761)).then(i=>i.UsersEntityModule),resolve:[_]},{path:"users-data",loadChildren:()=>Promise.resolve().then(t.bind(t,5330)).then(i=>i.UsersDataModule),resolve:[R]},{path:"users-ws",loadChildren:()=>Promise.resolve().then(t.bind(t,5360)).then(i=>i.UsersWsModule),resolve:[(()=>{class i{constructor(m){this.userService=m}resolve(m,M){return this.userService.loaded$.pipe((0,e.b)(T=>{T||this.userService.getAll()}),(0,a.P)())}}return i.\u0275fac=function(m){return new(m||i)(r.\u0275\u0275inject(u.q))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()]},{path:"users-service",loadChildren:()=>t.e(7085).then(t.bind(t,7085)).then(i=>i.UsersDataModule),resolve:{users:x}},{path:"users-cs",loadChildren:()=>Promise.all([t.e(2937),t.e(3504)]).then(t.bind(t,3504)).then(i=>i.UsersCsModule)},{path:"csdemo",loadChildren:()=>Promise.all([t.e(2937),t.e(2830)]).then(t.bind(t,2830)).then(i=>i.CsdemoModule)},{path:"users-entity-demo",loadChildren:()=>Promise.all([t.e(8592),t.e(9845)]).then(t.bind(t,9845)).then(i=>i.UsersEntityDemoModule),resolve:[C]},{path:"users-store-feature",loadChildren:()=>Promise.all([t.e(8592),t.e(4192)]).then(t.bind(t,4192)).then(i=>i.UsersStoreFeatureModule),resolve:[K]},{path:"contacts",loadChildren:()=>Promise.all([t.e(5101),t.e(5221)]).then(t.bind(t,5221)).then(i=>i.ContactsModule)},{path:"contacts-cs",loadChildren:()=>Promise.all([t.e(5101),t.e(1737)]).then(t.bind(t,1737)).then(i=>i.ContactsCsModule)},{path:"",redirectTo:"users-data",pathMatch:"full"}]},{path:"contacts",loadChildren:()=>Promise.all([t.e(5101),t.e(5221)]).then(t.bind(t,5221)).then(i=>i.ContactsModule)}];let L=(()=>{class i{}return i.\u0275fac=function(m){return new(m||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[n.Bz.forChild(P),n.Bz]}),i})(),W=(()=>{class i{}return i.\u0275fac=function(m){return new(m||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[s.ez,L]}),i})()},6060:(g,S,t)=>{t.d(S,{$:()=>c});var s=t(2278),n=t(5330),r=t(5879);let c=(()=>{class e extends s.c8{constructor(d){super(n.usersFeatureKey,d)}}return e.\u0275fac=function(d){return new(d||e)(r.\u0275\u0275inject(s.yV))},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},5330:(g,S,t)=>{t.r(S),t.d(S,{UsersDataModule:()=>K,entityMetadata:()=>A,usersFeatureKey:()=>y});var s=t(6814),n=t(4190),r=t(1376),c=t(9347),e=t(5879),a=t(6223),d=t(6060),R=t(2032),f=t(4170),p=t(2296);let U=(()=>{class l{constructor(o,u,D,P){this.fb=o,this.dialogRef=u,this.userService=P,this.dialogTitle=D.dialogTitle,this.user=D.user,this.mode=D.mode;const L={email:[""],first_name:[""],last_name:[""]};"update"==this.mode?(this.form=this.fb.group(L),this.form.patchValue({...this.user})):"create"==this.mode&&(this.form=this.fb.group({...L}))}onClose(){this.dialogRef.close()}onSave(){const o={...this.user,...this.form.value};"update"==this.mode?(console.log("Update User",o),this.userService.update(o),this.dialogRef.close()):"create"==this.mode&&(console.log("Add User",o),o.avatar="https://robohash.org/test?size=128x128",this.userService.add(o,{isOptimistic:!1}),this.dialogRef.close())}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275directiveInject(a.qu),e.\u0275\u0275directiveInject(c.so),e.\u0275\u0275directiveInject(c.WI),e.\u0275\u0275directiveInject(d.$))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-user-data-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","First Name","formControlName","first_name"],["matInput","","placeholder","Last Name","formControlName","last_name"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(o,u){1&o&&(e.\u0275\u0275elementStart(0,"h2",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"mat-dialog-content"),e.\u0275\u0275elementContainerStart(3)(4,1),e.\u0275\u0275elementStart(5,"mat-form-field"),e.\u0275\u0275element(6,"input",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"mat-form-field"),e.\u0275\u0275element(8,"input",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"mat-form-field"),e.\u0275\u0275element(10,"input",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-dialog-actions")(12,"button",5),e.\u0275\u0275listener("click",function(){return u.onClose()}),e.\u0275\u0275text(13,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",6),e.\u0275\u0275listener("click",function(){return u.onSave()}),e.\u0275\u0275text(15,"Save"),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(u.dialogTitle),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",u.form))},dependencies:[c.uh,c.xY,c.H8,R.Nt,f.KE,p.lW,a.Fj,a.JJ,a.JL,a.sg,a.u],changeDetection:0}),l})();function E(l,h){if(1&l){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5)(1,"div",6),e.\u0275\u0275element(2,"img",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",8)(4,"div")(5,"strong"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"br"),e.\u0275\u0275elementStart(8,"small"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div")(11,"button",9),e.\u0275\u0275listener("click",function(){const P=e.\u0275\u0275restoreView(o).$implicit,L=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(L.editUser(P))}),e.\u0275\u0275element(12,"i",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"button",11),e.\u0275\u0275listener("click",function(){const P=e.\u0275\u0275restoreView(o).$implicit,L=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(L.removeUser(P))}),e.\u0275\u0275element(14,"i",12),e.\u0275\u0275elementEnd()()()()}if(2&l){const o=h.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("src",o.avatar,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(o.first_name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(o.email)}}const O=[{path:"",component:(()=>{class l{constructor(o,u){this.userDataService=o,this.dialog=u}ngOnInit(){this.users$=this.userDataService.entities$}removeUser(o){console.log("Remove user"),this.userDataService.delete(o)}addUser(){const o=(0,r.m)();o.data={dialogTitle:"Add User",mode:"create"},this.dialog.open(U,o)}editUser(o){const u=(0,r.m)();u.data={dialogTitle:"Edit User",user:o,mode:"update"},this.dialog.open(U,u).afterClosed().subscribe(D=>{console.log("Closed",D)})}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275directiveInject(d.$),e.\u0275\u0275directiveInject(c.uw))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-users-data"]],decls:8,vars:3,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","align-self-center",3,"click"],[1,"ti-plus"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","me-2"],["alt","...",3,"src"],[1,"flex-grow-1","ms-2"],[1,"btn","btn-primary","me-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-danger",3,"click"],[1,"ti-trash"]],template:function(o,u){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"header",1)(2,"h1"),e.\u0275\u0275text(3,"Users List (Data)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return u.addUser()}),e.\u0275\u0275element(5,"i",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(6,E,15,3,"div",4),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(7,1,u.users$)))},dependencies:[s.sg,s.Ov],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px}"],changeDetection:0}),l})()}];let v=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[n.Bz.forChild(O),n.Bz]}),l})();var _=t(2278),F=t(9862);let x=(()=>{class l extends _.EJ{constructor(o,u){super(y,o,u),this.API_URL="https://hksocket.herokuapp.com/users"}getAll(){return this.http.get(`${this.API_URL}`)}add(o){return this.http.post(`${this.API_URL}`,o)}update(o){return this.http.put(`${this.API_URL}/${o.id}`,o.changes)}delete(o){return this.http.delete(`${this.API_URL}/${o}`)}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275inject(F.eN),e.\u0275\u0275inject(_.hR))},l.\u0275prov=e.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const y="users",A={[y]:{entityDispatcherOptions:{optimisticUpdate:!0},selectId:l=>l._id}};let K=(()=>{class l{constructor(o,u,D){this.eds=o,this.entityDataService=u,this.usersDataService=D,this.eds.registerMetadataMap(A),this.entityDataService.registerService(y,this.usersDataService)}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275inject(_.f0),e.\u0275\u0275inject(_.sP),e.\u0275\u0275inject(x))},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.ez,v,c.Is,R.c,f.lN,p.ot,a.UX]}),l})()},1657:(g,S,t)=>{t.d(S,{zr:()=>a,jU:()=>R,FM:()=>d,m_:()=>p,kS:()=>f,wv:()=>r,UO:()=>e,hz:()=>c,pk:()=>U});var s=t(4221),n=function(E){return E.GET_ENTITY_USERS="[User Entity Resolver] Get Users",E.GET_ENTITY_USERS_SUCCESS="[User Entity Effect] Get Users success",E.GET_ENTITY_USERS_FAILURE="[User Entity Effect] Get Users failure",E.ADD_ENTITY_USER="[User Entity Component] Add User",E.ADD_ENTITY_USER_SUCCESS="[User Entity Component] Add User success",E.ADD_ENTITY_USER_FAILURE="[User Entity Component] Add User failure",E.EDIT_ENTITY_USER="[Edit Entity User Component] Edit User",E.EDIT_ENTITY_USER_SUCCESS="[Edit Entity User Component] Edit User success",E.EDIT_ENTITY_USER_FAILURE="[Edit Entity User Component] Edit User failure",E.DELETE_ENTITY_USER="[User Entity Component] Delete User",E.DELETE_ENTITY_USER_SUCCESS="[User Entity Component] Delete User success",E.DELETE_ENTITY_USER_FAILURE="[User Entity Component] Delete User failure",E.SET_USER_ID="[One Component] Set User Id",E}(n||{});const r=(0,s.PH)(n.GET_ENTITY_USERS),c=(0,s.PH)(n.GET_ENTITY_USERS_SUCCESS,(0,s.Ky)()),e=(0,s.PH)(n.GET_ENTITY_USERS_FAILURE,(0,s.Ky)()),a=(0,s.PH)(n.ADD_ENTITY_USER,(0,s.Ky)()),d=(0,s.PH)(n.ADD_ENTITY_USER_SUCCESS,(0,s.Ky)()),R=(0,s.PH)(n.ADD_ENTITY_USER_FAILURE),f=(0,s.PH)(n.EDIT_ENTITY_USER,(0,s.Ky)()),p=(0,s.PH)(n.DELETE_ENTITY_USER,(0,s.Ky)()),U=(0,s.PH)(n.SET_USER_ID,(0,s.Ky)())},3644:(g,S,t)=>{t.d(S,{K9:()=>c,NV:()=>d,OR:()=>f,td:()=>p});var s=t(6293),n=t(4221),r=t(1657);const c="userEntityDemo",e=(0,s.H)({}),a=e.getInitialState({loaded:!1,selectedUserId:1}),d=(0,n.Lq)(a,(0,n.on)(r.hz,(E,C)=>e.setAll(C.users,{...E,loaded:!0})),(0,n.on)(r.FM,(E,C)=>e.addOne(C.user,E)),(0,n.on)(r.kS,(E,C)=>e.updateOne(C.user,E)),(0,n.on)(r.m_,(E,C)=>e.removeOne(C.id,E)),(0,n.on)(r.pk,(E,C)=>({...E,selectedUserId:C.id}))),{selectEntities:f,selectAll:p}=e.getSelectors()},7623:(g,S,t)=>{t.d(S,{Fp:()=>c,J9:()=>a,Ls:()=>f,QQ:()=>p,aU:()=>e});var s=t(4221),n=t(3644);const r=(0,s.ZF)(n.K9),c=(0,s.P1)(r,n.td),e=(0,s.P1)(c,U=>U.length),a=(0,s.P1)(c,U=>U.slice(0,3)),d=(0,s.P1)(r,n.OR),R=(0,s.P1)(r,U=>U.selectedUserId),f=(0,s.P1)(d,R,(U,E)=>U[E]),p=(0,s.P1)(r,U=>U.loaded)},5748:(g,S,t)=>{t.d(S,{S2:()=>a,XI:()=>R,SI:()=>d,Mb:()=>p,f_:()=>f,Ec:()=>r,V6:()=>e,vn:()=>c});var s=t(4221),n=function(U){return U.GET_ENTITY_USERS="[User Entity Resolver] Get Users",U.GET_ENTITY_USERS_SUCCESS="[User Entity Effect] Get Users success",U.GET_ENTITY_USERS_FAILURE="[User Entity Effect] Get Users failure",U.ADD_ENTITY_USER="[User Entity Component] Add User",U.ADD_ENTITY_USER_SUCCESS="[User Entity Component] Add User success",U.ADD_ENTITY_USER_FAILURE="[User Entity Component] Add User failure",U.EDIT_ENTITY_USER="[Edit Entity User Component] Edit User",U.EDIT_ENTITY_USER_SUCCESS="[Edit Entity User Component] Edit User success",U.EDIT_ENTITY_USER_FAILURE="[Edit Entity User Component] Edit User failure",U.DELETE_ENTITY_USER="[User Entity Component] Delete User",U.DELETE_ENTITY_USER_SUCCESS="[User Entity Component] Delete User success",U.DELETE_ENTITY_USER_FAILURE="[User Entity Component] Delete User failure",U}(n||{});const r=(0,s.PH)(n.GET_ENTITY_USERS),c=(0,s.PH)(n.GET_ENTITY_USERS_SUCCESS,(0,s.Ky)()),e=(0,s.PH)(n.GET_ENTITY_USERS_FAILURE,(0,s.Ky)()),a=(0,s.PH)(n.ADD_ENTITY_USER,(0,s.Ky)()),d=(0,s.PH)(n.ADD_ENTITY_USER_SUCCESS,(0,s.Ky)()),R=(0,s.PH)(n.ADD_ENTITY_USER_FAILURE),f=(0,s.PH)(n.EDIT_ENTITY_USER,(0,s.Ky)()),p=(0,s.PH)(n.DELETE_ENTITY_USER,(0,s.Ky)())},7837:(g,S,t)=>{t.d(S,{Jy:()=>d,OR:()=>f,YI:()=>c,td:()=>p});var s=t(6293),n=t(4221),r=t(5748);const c="userEntity",e=(0,s.H)({}),a=e.getInitialState({loaded:!1}),d=(0,n.Lq)(a,(0,n.on)(r.vn,(E,C)=>e.setAll(C.users,{...E,loaded:!0})),(0,n.on)(r.SI,(E,C)=>e.addOne(C.user,E)),(0,n.on)(r.f_,(E,C)=>e.updateOne(C.user,E)),(0,n.on)(r.Mb,(E,C)=>e.removeOne(C.id,E))),{selectEntities:f,selectAll:p}=e.getSelectors()},2782:(g,S,t)=>{t.d(S,{pU:()=>a,vH:()=>c});var s=t(4221),n=t(7837);const r=(0,s.ZF)(n.YI),c=(0,s.P1)(r,n.td),a=((0,s.P1)(r,n.OR),(0,s.P1)(r,d=>d.loaded))},8155:(g,S,t)=>{t.d(S,{K:()=>c});var s=t(7398),n=t(5879),r=t(9862);let c=(()=>{class e{constructor(d){this.http=d,this.API_URL="https://reqres.in/api/users"}getUsers(){return this.http.get(`${this.API_URL}`).pipe((0,s.U)(d=>d.data))}addUser(d){return this.http.post(`${this.API_URL}`,d)}updateUser(d){return this.http.put(`${this.API_URL}/${d.id}`,d)}removeUser(d){return this.http.delete(`${this.API_URL}/${d}`)}}return e.\u0275fac=function(d){return new(d||e)(n.\u0275\u0275inject(r.eN))},e.\u0275prov=n.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},4257:(g,S,t)=>{t.d(S,{Dx:()=>a,Ls:()=>R,Kz:()=>d,Fp:()=>E,ru:()=>O,yc:()=>C,d0:()=>f,ox:()=>U,U7:()=>p,zc:()=>r,aA:()=>e,IU:()=>c});var s=t(4221),n=function(v){return v.GET_STORE_USERS="[User Store Resolver] Get Users",v.GET_STORE_USERS_SUCCESS="[User Store Effect] Get Users success",v.GET_STORE_USERS_FAILURE="[User Store Effect] Get Users failure",v.ADD_STORE_USER="[User Store Component] Add User",v.ADD_STORE_USER_SUCCESS="[User Store Component] Add User success",v.ADD_STORE_USER_FAILURE="[User Store Component] Add User failure",v.EDIT_STORE_USER="[Edit Store User Component] Edit User",v.EDIT_STORE_USER_SUCCESS="[Edit Store User Component] Edit User success",v.EDIT_STORE_USER_FAILURE="[Edit Store User Component] Edit User failure",v.DELETE_STORE_USER="[User Store Component] Delete User",v.DELETE_STORE_USER_SUCCESS="[User Store Component] Delete User success",v.DELETE_STORE_USER_FAILURE="[User Store Component] Delete User failure",v}(n||{});const r=(0,s.PH)(n.GET_STORE_USERS),c=(0,s.PH)(n.GET_STORE_USERS_SUCCESS,(0,s.Ky)()),e=(0,s.PH)(n.GET_STORE_USERS_FAILURE,(0,s.Ky)()),a=(0,s.PH)(n.ADD_STORE_USER,(0,s.Ky)()),d=(0,s.PH)(n.ADD_STORE_USER_SUCCESS,(0,s.Ky)()),R=(0,s.PH)(n.ADD_STORE_USER_FAILURE),f=(0,s.PH)(n.EDIT_STORE_USER,(0,s.Ky)()),p=(0,s.PH)(n.EDIT_STORE_USER_SUCCESS,(0,s.Ky)()),U=(0,s.PH)(n.EDIT_STORE_USER_FAILURE),E=(0,s.PH)(n.DELETE_STORE_USER,(0,s.Ky)()),C=(0,s.PH)(n.DELETE_STORE_USER_SUCCESS),O=(0,s.PH)(n.DELETE_STORE_USER_SUCCESS)},6013:(g,S,t)=>{t.d(S,{userStoreFeature:()=>e});var s=t(4221),n=t(4257);const e=(0,s.Tz)({name:"usersStoreFeature",reducer:(0,s.Lq)({data:null,error:null,isLoading:!1,loaded:!1},(0,s.on)(n.zc,a=>({...a,isLoading:!0})),(0,s.on)(n.IU,(a,d)=>({...a,isLoading:!1,data:d.users,loaded:!0})),(0,s.on)(n.aA,(a,d)=>({...a,isLoading:!1})),(0,s.on)(n.Dx,a=>({...a,isLoading:!0})),(0,s.on)(n.Kz,(a,d)=>({...a,isLoading:!1,data:[d.user,...a.data]})),(0,s.on)(n.Ls,a=>({...a,isLoading:!1})),(0,s.on)(n.d0,a=>({...a,isLoading:!0})),(0,s.on)(n.U7,(a,d)=>{const R=a.data.map(f=>f.id===d.user.id?d.user:f);return{...a,isLoading:!1,data:R}}),(0,s.on)(n.ox,a=>({...a,isLoading:!1})),(0,s.on)(n.Fp,(a,d)=>{const R=a.data.filter(f=>f.id!==d.id);return{...a,data:R}}),(0,s.on)(n.yc,a=>({...a,isLoading:!1})),(0,s.on)(n.ru,a=>({...a,isLoading:!1})))})},3225:(g,S,t)=>{t.d(S,{gA:()=>c,zE:()=>r});var s=t(6013);const{selectData:r,selectLoaded:c}=s.userStoreFeature},5053:(g,S,t)=>{t.d(S,{Dx:()=>a,Ls:()=>R,Kz:()=>d,Fp:()=>E,ru:()=>O,yc:()=>C,d0:()=>f,ox:()=>U,U7:()=>p,zc:()=>r,aA:()=>e,IU:()=>c});var s=t(4221),n=function(v){return v.GET_STORE_USERS="[User Store Resolver] Get Users",v.GET_STORE_USERS_SUCCESS="[User Store Effect] Get Users success",v.GET_STORE_USERS_FAILURE="[User Store Effect] Get Users failure",v.ADD_STORE_USER="[User Store Component] Add User",v.ADD_STORE_USER_SUCCESS="[User Store Component] Add User success",v.ADD_STORE_USER_FAILURE="[User Store Component] Add User failure",v.EDIT_STORE_USER="[Edit Store User Component] Edit User",v.EDIT_STORE_USER_SUCCESS="[Edit Store User Component] Edit User success",v.EDIT_STORE_USER_FAILURE="[Edit Store User Component] Edit User failure",v.DELETE_STORE_USER="[User Store Component] Delete User",v.DELETE_STORE_USER_SUCCESS="[User Store Component] Delete User success",v.DELETE_STORE_USER_FAILURE="[User Store Component] Delete User failure",v}(n||{});const r=(0,s.PH)(n.GET_STORE_USERS),c=(0,s.PH)(n.GET_STORE_USERS_SUCCESS,(0,s.Ky)()),e=(0,s.PH)(n.GET_STORE_USERS_FAILURE,(0,s.Ky)()),a=(0,s.PH)(n.ADD_STORE_USER,(0,s.Ky)()),d=(0,s.PH)(n.ADD_STORE_USER_SUCCESS,(0,s.Ky)()),R=(0,s.PH)(n.ADD_STORE_USER_FAILURE),f=(0,s.PH)(n.EDIT_STORE_USER,(0,s.Ky)()),p=(0,s.PH)(n.EDIT_STORE_USER_SUCCESS,(0,s.Ky)()),U=(0,s.PH)(n.EDIT_STORE_USER_FAILURE),E=(0,s.PH)(n.DELETE_STORE_USER,(0,s.Ky)()),C=(0,s.PH)(n.DELETE_STORE_USER_SUCCESS),O=(0,s.PH)(n.DELETE_STORE_USER_SUCCESS)},7370:(g,S,t)=>{t.d(S,{GH:()=>r,wq:()=>e});var s=t(4221),n=t(5053);const r="userStore",e=(0,s.Lq)({data:null,isLoading:!1,error:null,loaded:!1},(0,s.on)(n.zc,a=>({...a,isLoading:!0})),(0,s.on)(n.IU,(a,d)=>({...a,isLoading:!1,data:d.users,loaded:!0})),(0,s.on)(n.aA,(a,d)=>({...a,isLoading:!1})),(0,s.on)(n.Dx,a=>({...a,isLoading:!0})),(0,s.on)(n.Kz,(a,d)=>({...a,isLoading:!1,data:[d.user,...a.data]})),(0,s.on)(n.Ls,a=>({...a,isLoading:!1})),(0,s.on)(n.d0,a=>({...a,isLoading:!0})),(0,s.on)(n.U7,(a,d)=>{const R=a.data.map(f=>f.id===d.user.id?d.user:f);return{...a,isLoading:!1,data:R}}),(0,s.on)(n.ox,a=>({...a,isLoading:!1})),(0,s.on)(n.Fp,(a,d)=>{const R=a.data.filter(f=>f.id!==d.id);return{...a,data:R}}),(0,s.on)(n.yc,a=>({...a,isLoading:!1})),(0,s.on)(n.ru,a=>({...a,isLoading:!1})))},2844:(g,S,t)=>{t.d(S,{gA:()=>e,zE:()=>c});var s=t(4221),n=t(7370);const r=(0,s.ZF)(n.GH),c=(0,s.P1)(r,a=>a.data),e=(0,s.P1)(r,a=>a.loaded)},2208:(g,S,t)=>{t.d(S,{q:()=>c});var s=t(2278),n=t(5360),r=t(5879);let c=(()=>{class e extends s.c8{constructor(d){super(n.usersWsFeatureKey,d)}}return e.\u0275fac=function(d){return new(d||e)(r.\u0275\u0275inject(s.yV))},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},5360:(g,S,t)=>{t.r(S),t.d(S,{UsersWsModule:()=>K,entityMetadata:()=>A,usersWsFeatureKey:()=>y});var s=t(6814),n=t(4190),r=t(1376),c=t(9347),e=t(5879),a=t(6223),d=t(2208),R=t(2032),f=t(4170),p=t(2296);let U=(()=>{class l{constructor(o,u,D,P){this.fb=o,this.dialogRef=u,this.userService=P,this.dialogTitle=D.dialogTitle,this.user=D.user,this.mode=D.mode;const L={email:[""],first_name:[""],last_name:[""]};"update"==this.mode?(this.form=this.fb.group(L),this.form.patchValue({...this.user})):"create"==this.mode&&(this.form=this.fb.group({...L}))}onClose(){this.dialogRef.close()}onSave(){const o={...this.user,...this.form.value};"update"==this.mode?(console.log("Update User",o),this.userService.update(o),this.dialogRef.close()):"create"==this.mode&&(console.log("Add User",o),o.avatar="https://robohash.org/test?size=128x128",this.userService.add(o,{isOptimistic:!1}),this.dialogRef.close())}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275directiveInject(a.qu),e.\u0275\u0275directiveInject(c.so),e.\u0275\u0275directiveInject(c.WI),e.\u0275\u0275directiveInject(d.q))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-user-data-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","First Name","formControlName","first_name"],["matInput","","placeholder","Last Name","formControlName","last_name"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(o,u){1&o&&(e.\u0275\u0275elementStart(0,"h2",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"mat-dialog-content"),e.\u0275\u0275elementContainerStart(3)(4,1),e.\u0275\u0275elementStart(5,"mat-form-field"),e.\u0275\u0275element(6,"input",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"mat-form-field"),e.\u0275\u0275element(8,"input",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"mat-form-field"),e.\u0275\u0275element(10,"input",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-dialog-actions")(12,"button",5),e.\u0275\u0275listener("click",function(){return u.onClose()}),e.\u0275\u0275text(13,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",6),e.\u0275\u0275listener("click",function(){return u.onSave()}),e.\u0275\u0275text(15,"Save"),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(u.dialogTitle),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",u.form))},dependencies:[c.uh,c.xY,c.H8,R.Nt,f.KE,p.lW,a.Fj,a.JJ,a.JL,a.sg,a.u],changeDetection:0}),l})();function E(l,h){if(1&l){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5)(1,"div",6),e.\u0275\u0275element(2,"img",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",8)(4,"div")(5,"strong"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"br"),e.\u0275\u0275elementStart(8,"small"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div")(11,"button",9),e.\u0275\u0275listener("click",function(){const P=e.\u0275\u0275restoreView(o).$implicit,L=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(L.editUser(P))}),e.\u0275\u0275element(12,"i",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"button",11),e.\u0275\u0275listener("click",function(){const P=e.\u0275\u0275restoreView(o).$implicit,L=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(L.removeUser(P))}),e.\u0275\u0275element(14,"i",12),e.\u0275\u0275elementEnd()()()()}if(2&l){const o=h.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("src",o.avatar,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(o.first_name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(o.email)}}const O=[{path:"",component:(()=>{class l{constructor(o,u){this.userDataService=o,this.dialog=u}ngOnInit(){this.users$=this.userDataService.entities$}removeUser(o){console.log("Remove user"),this.userDataService.delete(o)}addUser(){const o=(0,r.m)();o.data={dialogTitle:"Add User",mode:"create"},this.dialog.open(U,o)}editUser(o){const u=(0,r.m)();u.data={dialogTitle:"Edit User",user:o,mode:"update"},this.dialog.open(U,u).afterClosed().subscribe(D=>{console.log("Closed",D)})}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275directiveInject(d.q),e.\u0275\u0275directiveInject(c.uw))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-users-ws"]],decls:8,vars:3,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","align-self-center",3,"click"],[1,"ti-plus"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","me-2"],["alt","...",3,"src"],[1,"flex-grow-1","ms-2"],[1,"btn","btn-primary","me-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-danger",3,"click"],[1,"ti-trash"]],template:function(o,u){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"header",1)(2,"h1"),e.\u0275\u0275text(3,"Users List (Data)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return u.addUser()}),e.\u0275\u0275element(5,"i",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(6,E,15,3,"div",4),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(7,1,u.users$)))},dependencies:[s.sg,s.Ov],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px}"],changeDetection:0}),l})()}];let v=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[n.Bz.forChild(O),n.Bz]}),l})();var _=t(2278),F=t(9862);let x=(()=>{class l extends _.EJ{constructor(o,u){super(y,o,u),this.API_URL="https://hksocket.herokuapp.com/users"}getAll(){return this.http.get(`${this.API_URL}`)}add(o){return this.http.post(`${this.API_URL}`,o)}update(o){return this.http.put(`${this.API_URL}/${o.id}`,o.changes)}delete(o){return this.http.delete(`${this.API_URL}/${o}`)}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275inject(F.eN),e.\u0275\u0275inject(_.hR))},l.\u0275prov=e.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const y="users",A={[y]:{entityDispatcherOptions:{optimisticUpdate:!0},selectId:l=>l._id}};let K=(()=>{class l{constructor(o,u,D){this.eds=o,this.entityDataService=u,this.usersDataService=D,this.eds.registerMetadataMap(A),this.entityDataService.registerService(y,this.usersDataService)}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275inject(_.f0),e.\u0275\u0275inject(_.sP),e.\u0275\u0275inject(x))},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.ez,v,c.Is,R.c,f.lN,p.ot,a.UX]}),l})()}}]);