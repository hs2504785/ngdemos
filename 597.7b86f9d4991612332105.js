(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[597],{4597:(t,o,e)=>{"use strict";e.r(o),e.d(o,{TodoComponent:()=>O,TodoModule:()=>I,TodoService:()=>s});var n=e(5366),i=e(2693);let s=(()=>{class t{constructor(t){this.http=t,this.API_URL="https://jsonplaceholder.typicode.com/todos"}getTodos(){return this.http.get(`${this.API_URL}`)}addTodo(t){return this.http.post(`${this.API_URL}`,t)}updateTodo(t){return this.http.put(`${this.API_URL}/${t.id}`,t)}removeTodo(t){return this.http.delete(`${this.API_URL}/${t}`)}}return t.\u0275fac=function(o){return new(o||t)(n.LFG(i.eN))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var c=e(1671),d=e(5934),r=e(3884);const a="todo",l=(0,c.Lq)({data:null,isLoading:!1,error:null,loaded:!1},(0,c.on)(d.hL,t=>Object.assign(Object.assign({},t),{isLoading:!0})),(0,c.on)(d.jb,(t,o)=>Object.assign(Object.assign({},t),{isLoading:!1,data:o.todos,loaded:!0})),(0,c.on)(d.oG,(t,o)=>Object.assign(Object.assign({},t),{isLoading:!1})),(0,c.on)(d.hx,t=>Object.assign(Object.assign({},t),{isLoading:!0})),(0,c.on)(d.zX,(t,o)=>Object.assign(Object.assign({},t),{isLoading:!1,data:[o.todo,...t.data]})),(0,c.on)(d.Wk,t=>Object.assign(Object.assign({},t),{isLoading:!1})),(0,c.on)(d.RW,t=>Object.assign(Object.assign({},t),{isLoading:!0})),(0,c.on)(d.Fu,(t,o)=>{const e=t.data.map(t=>t.id===o.todo.id?o.todo:t);return Object.assign(Object.assign({},t),{isLoading:!1,data:e})}),(0,c.on)(d.Mu,t=>Object.assign(Object.assign({},t),{isLoading:!1})),(0,c.on)(d.VW,(t,o)=>{const e=t.data.filter(t=>t.id!==o.todoId);return Object.assign(Object.assign({},t),{data:e})}),(0,c.on)(d.$$,t=>Object.assign(Object.assign({},t),{isLoading:!1})),(0,c.on)(d.xg,t=>Object.assign(Object.assign({},t),{isLoading:!1})));function p(t,o){return l(t,o)}const u=(0,c.ZF)(a),g=(0,c.P1)(u,t=>t.data),f=(0,c.ZF)("router"),{selectRouteParams:m}=(0,r.Ug)(f),h=(0,c.P1)(g,m,(t,{id:o})=>t&&t.find(t=>t.id===+o));var b=e(949),Z=e(1116);const T=function(t){return["edit",t]};function A(t,o){if(1&t){const t=n.EpF();n.TgZ(0,"li",9),n.TgZ(1,"div",10),n._uU(2),n.TgZ(3,"div"),n._uU(4),n.qZA(),n.qZA(),n.TgZ(5,"a",11),n._UZ(6,"i",12),n.qZA(),n.TgZ(7,"i",13),n.NdJ("click",function(){const o=n.CHM(t).$implicit;return n.oxw(2).removeTodo(o)}),n.qZA(),n.qZA()}if(2&t){const t=o.$implicit;n.xp6(2),n.AsE(" ",t.id," - ",t.title," "),n.xp6(2),n.hij("Completed: ",t.completed,""),n.xp6(1),n.Q6J("routerLink",n.VKq(4,T,t.id))}}function v(t,o){if(1&t&&(n.TgZ(0,"ul",7),n.YNc(1,A,8,6,"li",8),n.qZA()),2&t){const t=o.ngIf;n.xp6(1),n.Q6J("ngForOf",t)}}let O=(()=>{class t{constructor(t){this.store=t}ngOnInit(){this.todos$=this.store.pipe((0,c.Ys)(g))}removeTodo(t){this.store.dispatch((0,d.VW)({todoId:t.id}))}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(c.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["lib-todo"]],decls:12,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-sm-6"],[1,"d-flex","justify-content-between","mb-2"],["routerLink","add",1,"btn","btn-primary","add-todo"],[1,"ti-plus"],["class","list-group",4,"ngIf"],[1,"list-group"],["class","list-group-item d-flex justify-content-between",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between"],[1,"todo"],[3,"routerLink"],[1,"ti-pencil","mr-2"],[1,"ti-trash",3,"click"]],template:function(t,o){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"header",3),n.TgZ(4,"h1"),n._uU(5,"Todo List"),n.qZA(),n.TgZ(6,"a",4),n._UZ(7,"i",5),n.qZA(),n.qZA(),n.YNc(8,v,2,1,"ul",6),n.ALo(9,"async"),n.qZA(),n.TgZ(10,"div",2),n._UZ(11,"router-outlet"),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(8),n.Q6J("ngIf",n.lcZ(9,1,o.todos$)))},directives:[b.yS,Z.O5,b.lC,Z.sg],pipes:[Z.Ov],styles:[".add-todo[_ngcontent-%COMP%]{display:flex;align-self:center}.todo[_ngcontent-%COMP%]{flex:1}.ti-trash[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();var j=e(1041);function y(t,o){if(1&t){const t=n.EpF();n.ynx(0),n.TgZ(1,"form",2,3),n.NdJ("ngSubmit",function(){const o=n.CHM(t).ngIf,e=n.MAs(2);return n.oxw().updateTodo(o,e.value)}),n.TgZ(3,"div",4),n.TgZ(4,"label",5),n._uU(5,"Title"),n.qZA(),n._UZ(6,"input",6),n.qZA(),n.TgZ(7,"div",7),n._UZ(8,"input",8),n.TgZ(9,"label",9),n._uU(10,"Completed"),n.qZA(),n.qZA(),n.TgZ(11,"button",10),n._uU(12,"Submit"),n.qZA(),n.qZA(),n.BQk()}if(2&t){const t=o.ngIf;n.xp6(6),n.Q6J("ngModel",t.title),n.xp6(2),n.Q6J("ngModel",t.completed)}}const q=[{path:"",component:O,children:[{path:"add",component:(()=>{class t{constructor(t){this.store=t}ngOnInit(){}addTodo(t){console.log("Todo",t),this.store.dispatch((0,d.hx)({todo:t}))}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(c.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["lib-add-todo"]],decls:15,vars:0,consts:[[1,"d-flex","justify-content-between"],[3,"ngSubmit"],["form","ngForm"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","ngModel","","name","title",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","completed","ngModel","","name","completed",1,"form-check-input"],["for","completed",1,"form-check-label"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){if(1&t){const t=n.EpF();n.TgZ(0,"header",0),n.TgZ(1,"h1"),n._uU(2,"Add todo"),n.qZA(),n.qZA(),n.TgZ(3,"form",1,2),n.NdJ("ngSubmit",function(){n.CHM(t);const e=n.MAs(4);return o.addTodo(e.value)}),n.TgZ(5,"div",3),n.TgZ(6,"label",4),n._uU(7,"Title"),n.qZA(),n._UZ(8,"input",5),n.qZA(),n.TgZ(9,"div",6),n._UZ(10,"input",7),n.TgZ(11,"label",8),n._uU(12,"Completed"),n.qZA(),n.qZA(),n.TgZ(13,"button",9),n._uU(14,"Submit"),n.qZA(),n.qZA()}},directives:[j._Y,j.JL,j.F,j.Fj,j.JJ,j.On,j.Wl],styles:[""]}),t})()},{path:"edit/:id",component:(()=>{class t{constructor(t){this.store=t}ngOnInit(){this.todo$=this.store.pipe((0,c.Ys)(h))}updateTodo(t,o){this.store.dispatch((0,d.RW)({todo:Object.assign(Object.assign({},t),o)}))}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(c.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["lib-edit-todo"]],decls:5,vars:3,consts:[[1,"d-flex","justify-content-between","mt-2"],[4,"ngIf"],[3,"ngSubmit"],["form","ngForm"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","name","title",1,"form-control",3,"ngModel"],[1,"mb-3","form-check"],["type","checkbox","id","completed","name","completed",1,"form-check-input",3,"ngModel"],["for","completed",1,"form-check-label"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){1&t&&(n.TgZ(0,"header",0),n.TgZ(1,"h1"),n._uU(2,"Edit todo"),n.qZA(),n.qZA(),n.YNc(3,y,13,2,"ng-container",1),n.ALo(4,"async")),2&t&&(n.xp6(3),n.Q6J("ngIf",n.lcZ(4,1,o.todo$)))},directives:[Z.O5,j._Y,j.JL,j.F,j.Fj,j.JJ,j.On,j.Wl],pipes:[Z.Ov],styles:[""]}),t})()},{path:"view/:id",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["lib-view-todo"]],decls:2,vars:0,template:function(t,o){1&t&&(n.TgZ(0,"p"),n._uU(1,"view-todo works!"),n.qZA())},styles:[""]}),t})()}]}];let L=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[b.Bz.forChild(q)],b.Bz]}),t})();var U=e(8785),_=e(436),x=e(9996),w=e(7727),$=e(4689),k=e(878);let F=(()=>{class t{constructor(t,o){this.actions$=t,this.todoService=o,this.loadTodos$=(0,U.GW)(()=>this.actions$.pipe((0,U.l4)(d.hL),(0,_.b)(()=>this.todoService.getTodos()),(0,x.U)(t=>(0,d.jb)({todos:t})),(0,w.K)(t=>(0,k.of)((0,d.oG)({error:t}))))),this.createTodo$=(0,U.GW)(()=>this.actions$.pipe((0,U.l4)(d.hx),(0,$.w)(({todo:t})=>this.todoService.addTodo(t).pipe((0,x.U)(t=>(0,d.zX)({todo:t})),(0,w.K)(()=>(0,k.of)((0,d.Wk)())))))),this.editPost$=(0,U.GW)(()=>this.actions$.pipe((0,U.l4)(d.RW),(0,$.w)(({todo:t})=>this.todoService.updateTodo(t).pipe((0,x.U)(t=>(0,d.Fu)({todo:t})),(0,w.K)(()=>(0,k.of)((0,d.Mu)())))))),this.deletePost$=(0,U.GW)(()=>this.actions$.pipe((0,U.l4)(d.VW),(0,$.w)(({todoId:t})=>this.todoService.removeTodo(t).pipe((0,x.U)(()=>(0,d.$$)()),(0,w.K)(()=>(0,k.of)((0,d.xg)()))))))}}return t.\u0275fac=function(o){return new(o||t)(n.LFG(U.eX),n.LFG(s))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),I=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[c.Aw.forFeature(a,p),j.u5,Z.ez,L,U.sQ.forFeature([F])]]}),t})()}}]);