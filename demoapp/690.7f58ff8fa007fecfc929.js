(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[690],{690:(t,e,o)=>{"use strict";o.r(e),o.d(e,{StockInventoryModule:()=>f});var n=o(116),r=o(462),c=o(619);let s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["stock-branch"]],inputs:{parent:"parent"},decls:4,vars:1,consts:[[3,"formGroup"],["formGroupName","store"],["type","text","placeholder","Branch ID","formControlName","branch"],["type","text","placeholder","Manager Code","formControlName","code"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._UZ(2,"input",2),c._UZ(3,"input",3),c.qZA(),c.qZA()),2&t&&c.Q6J("formGroup",e.parent)},directives:[r.JL,r.sg,r.x0,r.Fj,r.JJ,r.u],styles:["[_nghost-%COMP%]{border-bottom:1px solid #ccc;margin:0 0 20px;padding:0 0 20px;display:block}.error[_ngcontent-%COMP%]{background:#b52d30;color:#fff;font-weight:500;font-size:12px;text-transform:uppercase;border-radius:0 0 3px 3px;line-height:1;padding:6px 10px;margin-top:-1px}"]}),t})();function i(t,e){if(1&t&&(c.TgZ(0,"option",7),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.Q6J("value",t.id),c.xp6(1),c.hij(" ",t.name," ")}}let p=(()=>{class t{constructor(){this.added=new c.vpe}onAdd(){this.added.emit(this.parent.get("selector").value)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["stock-selector"]],inputs:{parent:"parent",products:"products"},outputs:{added:"added"},decls:9,vars:2,consts:[[1,"stock-selector",3,"formGroup"],["formGroupName","selector"],["formControlName","product_id"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","number","step","10","min","10","max","1000","formControlName","quantity"],["type","button",3,"click"],[3,"value"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"select",2),c.TgZ(3,"option",3),c._uU(4,"Select stock"),c.qZA(),c.YNc(5,i,2,2,"option",4),c.qZA(),c._UZ(6,"input",5),c.TgZ(7,"button",6),c.NdJ("click",function(){return e.onAdd()}),c._uU(8," Add stock "),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.Q6J("formGroup",e.parent),c.xp6(5),c.Q6J("ngForOf",e.products))},directives:[r.JL,r.sg,r.x0,r.EJ,r.JJ,r.u,r.YN,r.Kr,n.sg,r.qQ,r.Fd,r.wV,r.Fj],styles:['.stock-selector[_ngcontent-%COMP%]{padding:0 0 20px;margin:0 0 20px;border-bottom:1px solid #ccc;position:relative}.stock-selector__error[_ngcontent-%COMP%]{position:absolute;background:#b52d30;color:#fff;font-weight:500;font-size:12px;text-transform:uppercase;border-radius:3px;left:0;bottom:-10px;line-height:1;padding:6px 10px}.stock-selector__error[_ngcontent-%COMP%]:before{width:0;height:0;border-color:transparent transparent #b52d30;border-style:solid;border-width:0 5px 5px;content:" ";display:block;position:absolute;top:-5px;left:10px}.stock-selector[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.stock-selector[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1 0;margin-right:20px}.stock-selector[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:0 0 100px;margin-left:30px}.stock-selector[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   stock-counter[_ngcontent-%COMP%]{flex:0 0 50px;margin-left:30px}']}),t})();function d(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"div",3),c.TgZ(2,"div",4),c._uU(3),c.qZA(),c._UZ(4,"input",5),c.TgZ(5,"button",6),c.NdJ("click",function(){const e=c.CHM(t),o=e.$implicit,n=e.index;return c.oxw().onRemove(o,n)}),c._uU(6," Remove "),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=e.$implicit,o=e.index;c.xp6(1),c.Q6J("formGroupName",o),c.xp6(2),c.hij(" ",t.value.product_id," ")}}let u=(()=>{class t{constructor(){this.removed=new c.vpe}onRemove(t,e){this.removed.emit({group:t,index:e})}get stocks(){return this.parent.get("stock").controls}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["stock-products"]],inputs:{parent:"parent"},outputs:{removed:"removed"},decls:3,vars:2,consts:[[1,"stock-product",3,"formGroup"],["formArrayName","stock"],[4,"ngFor","ngForOf"],[1,"stock-product__content",3,"formGroupName"],[1,"stock-product__name"],["type","number","step","10","min","10","max","1000","formControlName","quantity"],["type","button",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.YNc(2,d,7,2,"div",2),c.qZA(),c.qZA()),2&t&&(c.Q6J("formGroup",e.parent),c.xp6(2),c.Q6J("ngForOf",e.stocks))},directives:[r.JL,r.sg,r.CE,n.sg,r.x0,r.qQ,r.Fd,r.wV,r.Fj,r.JJ,r.u],styles:[".stock-product__content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.stock-product__content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:0 0 100px;margin-left:30px}.stock-product__content[_ngcontent-%COMP%]   stock-counter[_ngcontent-%COMP%]{flex:0 0 50px;margin-left:30px}.stock-product__name[_ngcontent-%COMP%]{flex:1 0}"]}),t})(),a=(()=>{class t{constructor(t){this.fb=t,this.products=[{id:1,price:2800,name:"MacBook Pro"},{id:2,price:50,name:"USB-C Adaptor"},{id:3,price:400,name:"iPod"},{id:4,price:900,name:"iPhone"},{id:5,price:600,name:"Apple Watch"}],this.form=this.fb.group({store:this.fb.group({branch:"",code:""}),selector:this.createStock({}),stock:this.fb.array([this.createStock({product_id:1,quantity:10}),this.createStock({product_id:3,quantity:50})])})}createStock(t){return this.fb.group({product_id:parseInt(t.product_id,10)||"",quantity:t.quantity||10})}addStock(t){this.form.get("stock").push(this.createStock(t))}removeStock({index:t}){this.form.get("stock").removeAt(t)}onSubmit(){console.log("Submit:",this.form.value)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(r.qu))},t.\u0275cmp=c.Xpm({type:t,selectors:[["stock-inventory"]],decls:11,vars:9,consts:[[1,"stock-inventory"],[3,"formGroup","ngSubmit"],[3,"parent"],[3,"parent","products","added"],[3,"parent","removed"],[1,"stock-inventory__buttons"],["type","submit",3,"disabled"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"form",1),c.NdJ("ngSubmit",function(){return e.onSubmit()}),c._UZ(2,"stock-branch",2),c.TgZ(3,"stock-selector",3),c.NdJ("added",function(t){return e.addStock(t)}),c.qZA(),c.TgZ(4,"stock-products",4),c.NdJ("removed",function(t){return e.removeStock(t)}),c.qZA(),c.TgZ(5,"div",5),c.TgZ(6,"button",6),c._uU(7,"Order stock"),c.qZA(),c.qZA(),c.TgZ(8,"pre"),c._uU(9),c.ALo(10,"json"),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(1),c.Q6J("formGroup",e.form),c.xp6(1),c.Q6J("parent",e.form),c.xp6(1),c.Q6J("parent",e.form)("products",e.products),c.xp6(1),c.Q6J("parent",e.form),c.xp6(2),c.Q6J("disabled",e.form.invalid),c.xp6(3),c.Oqu(c.lcZ(10,7,e.form.value)))},directives:[r._Y,r.JL,r.sg,s,p,u],pipes:[n.Ts],styles:[""]}),t})();var l=o(699);const m=[{path:"",component:a}];let f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[n.ez,r.UX,l.Bz.forChild(m)]]}),t})()}}]);