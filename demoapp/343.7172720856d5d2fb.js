"use strict";(self.webpackChunkdemoapp=self.webpackChunkdemoapp||[]).push([[343],{5343:(S,a,s)=>{s.r(a),s.d(a,{StockInventoryModule:()=>C});var d=s(9808),n=s(2382),t=s(1223);let u=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["stock-branch"]],inputs:{parent:"parent"},decls:4,vars:1,consts:[[3,"formGroup"],["formGroupName","store"],["type","text","placeholder","Branch ID","formControlName","branch"],["type","text","placeholder","Manager Code","formControlName","code"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"input",2)(3,"input",3),t.qZA()()),2&o&&t.Q6J("formGroup",r.parent)},dependencies:[n.Fj,n.JJ,n.JL,n.sg,n.u,n.x0],styles:["[_nghost-%COMP%]{border-bottom:1px solid #ccc;margin:0 0 20px;padding:0 0 20px;display:block}.error[_ngcontent-%COMP%]{background:#B52D30;color:#fff;font-weight:500;font-size:12px;text-transform:uppercase;border-radius:0 0 3px 3px;line-height:1;padding:6px 10px;margin-top:-1px}"]}),e})();function m(e,c){if(1&e){const o=t.EpF();t.TgZ(0,"div")(1,"div",3)(2,"div",4),t._uU(3),t.qZA(),t._UZ(4,"input",5),t.TgZ(5,"button",6),t.NdJ("click",function(){const p=t.CHM(o),i=p.$implicit,h=p.index,x=t.oxw();return t.KtG(x.onRemove(i,h))}),t._uU(6," Remove "),t.qZA()()()}if(2&e){const o=c.$implicit,r=c.index;t.xp6(1),t.Q6J("formGroupName",r),t.xp6(2),t.hij(" ",o.value.product_id," ")}}let l=(()=>{class e{constructor(){this.removed=new t.vpe}onRemove(o,r){this.removed.emit({group:o,index:r})}get stocks(){return this.parent.get("stock").controls}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["stock-products"]],inputs:{parent:"parent"},outputs:{removed:"removed"},decls:3,vars:2,consts:[[1,"stock-product",3,"formGroup"],["formArrayName","stock"],[4,"ngFor","ngForOf"],[1,"stock-product__content",3,"formGroupName"],[1,"stock-product__name"],["type","number","step","10","min","10","max","1000","formControlName","quantity"],["type","button",3,"click"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,m,7,2,"div",2),t.qZA()()),2&o&&(t.Q6J("formGroup",r.parent),t.xp6(2),t.Q6J("ngForOf",r.stocks))},dependencies:[d.sg,n.Fj,n.wV,n.JJ,n.JL,n.qQ,n.Fd,n.sg,n.u,n.x0,n.CE],styles:[".stock-product__content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.stock-product__content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:0 0 100px;margin-left:30px}.stock-product__content[_ngcontent-%COMP%]   stock-counter[_ngcontent-%COMP%]{flex:0 0 50px;margin-left:30px}.stock-product__name[_ngcontent-%COMP%]{flex:1 0}"]}),e})();function f(e,c){if(1&e&&(t.TgZ(0,"option",7),t._uU(1),t.qZA()),2&e){const o=c.$implicit;t.Q6J("value",o.id),t.xp6(1),t.hij(" ",o.name," ")}}let _=(()=>{class e{constructor(){this.added=new t.vpe}onAdd(){this.added.emit(this.parent.get("selector").value)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["stock-selector"]],inputs:{parent:"parent",products:"products"},outputs:{added:"added"},decls:9,vars:2,consts:[[1,"stock-selector",3,"formGroup"],["formGroupName","selector"],["formControlName","product_id"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","number","step","10","min","10","max","1000","formControlName","quantity"],["type","button",3,"click"],[3,"value"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"select",2)(3,"option",3),t._uU(4,"Select stock"),t.qZA(),t.YNc(5,f,2,2,"option",4),t.qZA(),t._UZ(6,"input",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return r.onAdd()}),t._uU(8," Add stock "),t.qZA()()()),2&o&&(t.Q6J("formGroup",r.parent),t.xp6(5),t.Q6J("ngForOf",r.products))},dependencies:[d.sg,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.qQ,n.Fd,n.sg,n.u,n.x0],styles:['.stock-selector[_ngcontent-%COMP%]{padding:0 0 20px;margin:0 0 20px;border-bottom:1px solid #ccc;position:relative}.stock-selector__error[_ngcontent-%COMP%]{position:absolute;background:#b52d30;color:#fff;font-weight:500;font-size:12px;text-transform:uppercase;border-radius:3px;left:0;bottom:-10px;line-height:1;padding:6px 10px}.stock-selector__error[_ngcontent-%COMP%]:before{width:0;height:0;border-style:solid;border-width:0 5px 5px 5px;border-color:transparent transparent #b52d30 transparent;content:" ";display:block;position:absolute;top:-5px;left:10px}.stock-selector[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.stock-selector[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1 0;margin-right:20px}.stock-selector[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:0 0 100px;margin-left:30px}.stock-selector[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   stock-counter[_ngcontent-%COMP%]{flex:0 0 50px;margin-left:30px}']}),e})(),g=(()=>{class e{constructor(o){this.fb=o,this.products=[{id:1,price:2800,name:"MacBook Pro"},{id:2,price:50,name:"USB-C Adaptor"},{id:3,price:400,name:"iPod"},{id:4,price:900,name:"iPhone"},{id:5,price:600,name:"Apple Watch"}],this.form=this.fb.group({store:this.fb.group({branch:"",code:""}),selector:this.createStock({}),stock:this.fb.array([this.createStock({product_id:1,quantity:10}),this.createStock({product_id:3,quantity:50})])})}createStock(o){return this.fb.group({product_id:parseInt(o.product_id,10)||"",quantity:o.quantity||10})}addStock(o){this.form.get("stock").push(this.createStock(o))}removeStock({index:r}){this.form.get("stock").removeAt(r)}onSubmit(){console.log("Submit:",this.form.value)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(n.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["stock-inventory"]],decls:11,vars:9,consts:[[1,"stock-inventory"],[3,"formGroup","ngSubmit"],[3,"parent"],[3,"parent","products","added"],[3,"parent","removed"],[1,"stock-inventory__buttons"],["type","submit",3,"disabled"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t._UZ(2,"stock-branch",2),t.TgZ(3,"stock-selector",3),t.NdJ("added",function(i){return r.addStock(i)}),t.qZA(),t.TgZ(4,"stock-products",4),t.NdJ("removed",function(i){return r.removeStock(i)}),t.qZA(),t.TgZ(5,"div",5)(6,"button",6),t._uU(7,"Order stock"),t.qZA()(),t.TgZ(8,"pre"),t._uU(9),t.ALo(10,"json"),t.qZA()()()),2&o&&(t.xp6(1),t.Q6J("formGroup",r.form),t.xp6(1),t.Q6J("parent",r.form),t.xp6(1),t.Q6J("parent",r.form)("products",r.products),t.xp6(1),t.Q6J("parent",r.form),t.xp6(2),t.Q6J("disabled",r.form.invalid),t.xp6(3),t.Oqu(t.lcZ(10,7,r.form.value)))},dependencies:[n._Y,n.JL,n.sg,u,l,_,d.Ts]}),e})();var k=s(4426);const v=[{path:"",component:g}];let C=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,n.UX,k.Bz.forChild(v)]}),e})()}}]);