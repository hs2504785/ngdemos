"use strict";(self.webpackChunkdemoapp=self.webpackChunkdemoapp||[]).push([[343],{5343:(b,f,s)=>{s.r(f),s.d(f,{StockInventoryModule:()=>p});var l=s(6895),e=s(433),t=s(8256);class d{}function _(r,o){if(1&r){const n=t.EpF();t.TgZ(0,"div")(1,"div",3)(2,"div",4),t._uU(3),t.qZA(),t._UZ(4,"input",5),t.TgZ(5,"button",6),t.NdJ("click",function(){const i=t.CHM(n),C=i.$implicit,h=i.index,x=t.oxw();return t.KtG(x.onRemove(C,h))}),t._uU(6," Remove "),t.qZA()()()}if(2&r){const n=o.$implicit,c=o.index;t.xp6(1),t.Q6J("formGroupName",c),t.xp6(2),t.hij(" ",n.value.product_id," ")}}d.\u0275fac=function(o){return new(o||d)},d.\u0275cmp=t.Xpm({type:d,selectors:[["stock-branch"]],inputs:{parent:"parent"},decls:4,vars:1,consts:[[3,"formGroup"],["formGroupName","store"],["type","text","placeholder","Branch ID","formControlName","branch"],["type","text","placeholder","Manager Code","formControlName","code"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"input",2)(3,"input",3),t.qZA()()),2&o&&t.Q6J("formGroup",n.parent)},dependencies:[e.Fj,e.JJ,e.JL,e.sg,e.u,e.x0],styles:["[_nghost-%COMP%]{border-bottom:1px solid #ccc;margin:0 0 20px;padding:0 0 20px;display:block}.error[_ngcontent-%COMP%]{background:#B52D30;color:#fff;font-weight:500;font-size:12px;text-transform:uppercase;border-radius:0 0 3px 3px;line-height:1;padding:6px 10px;margin-top:-1px}"]});class a{constructor(){this.removed=new t.vpe}onRemove(o,n){this.removed.emit({group:o,index:n})}get stocks(){return this.parent.get("stock").controls}}function g(r,o){if(1&r&&(t.TgZ(0,"option",7),t._uU(1),t.qZA()),2&r){const n=o.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij(" ",n.name," ")}}a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["stock-products"]],inputs:{parent:"parent"},outputs:{removed:"removed"},decls:3,vars:2,consts:[[1,"stock-product",3,"formGroup"],["formArrayName","stock"],[4,"ngFor","ngForOf"],[1,"stock-product__content",3,"formGroupName"],[1,"stock-product__name"],["type","number","step","10","min","10","max","1000","formControlName","quantity"],["type","button",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,_,7,2,"div",2),t.qZA()()),2&o&&(t.Q6J("formGroup",n.parent),t.xp6(2),t.Q6J("ngForOf",n.stocks))},dependencies:[l.sg,e.Fj,e.wV,e.JJ,e.JL,e.qQ,e.Fd,e.sg,e.u,e.x0,e.CE],styles:[".stock-product__content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.stock-product__content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:0 0 100px;margin-left:30px}.stock-product__content[_ngcontent-%COMP%]   stock-counter[_ngcontent-%COMP%]{flex:0 0 50px;margin-left:30px}.stock-product__name[_ngcontent-%COMP%]{flex:1 0}"]});class u{constructor(){this.added=new t.vpe}onAdd(){this.added.emit(this.parent.get("selector").value)}}u.\u0275fac=function(o){return new(o||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["stock-selector"]],inputs:{parent:"parent",products:"products"},outputs:{added:"added"},decls:9,vars:2,consts:[[1,"stock-selector",3,"formGroup"],["formGroupName","selector"],["formControlName","product_id"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","number","step","10","min","10","max","1000","formControlName","quantity"],["type","button",3,"click"],[3,"value"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"select",2)(3,"option",3),t._uU(4,"Select stock"),t.qZA(),t.YNc(5,g,2,2,"option",4),t.qZA(),t._UZ(6,"input",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return n.onAdd()}),t._uU(8," Add stock "),t.qZA()()()),2&o&&(t.Q6J("formGroup",n.parent),t.xp6(5),t.Q6J("ngForOf",n.products))},dependencies:[l.sg,e.YN,e.Kr,e.Fj,e.wV,e.EJ,e.JJ,e.JL,e.qQ,e.Fd,e.sg,e.u,e.x0],styles:['.stock-selector[_ngcontent-%COMP%]{padding:0 0 20px;margin:0 0 20px;border-bottom:1px solid #ccc;position:relative}.stock-selector__error[_ngcontent-%COMP%]{position:absolute;background:#b52d30;color:#fff;font-weight:500;font-size:12px;text-transform:uppercase;border-radius:3px;left:0;bottom:-10px;line-height:1;padding:6px 10px}.stock-selector__error[_ngcontent-%COMP%]:before{width:0;height:0;border-style:solid;border-width:0 5px 5px 5px;border-color:transparent transparent #b52d30 transparent;content:" ";display:block;position:absolute;top:-5px;left:10px}.stock-selector[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.stock-selector[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1 0;margin-right:20px}.stock-selector[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:0 0 100px;margin-left:30px}.stock-selector[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   stock-counter[_ngcontent-%COMP%]{flex:0 0 50px;margin-left:30px}']});class m{constructor(o){this.fb=o,this.products=[{id:1,price:2800,name:"MacBook Pro"},{id:2,price:50,name:"USB-C Adaptor"},{id:3,price:400,name:"iPod"},{id:4,price:900,name:"iPhone"},{id:5,price:600,name:"Apple Watch"}],this.form=this.fb.group({store:this.fb.group({branch:"",code:""}),selector:this.createStock({}),stock:this.fb.array([this.createStock({product_id:1,quantity:10}),this.createStock({product_id:3,quantity:50})])})}createStock(o){return this.fb.group({product_id:parseInt(o.product_id,10)||"",quantity:o.quantity||10})}addStock(o){this.form.get("stock").push(this.createStock(o))}removeStock({index:n}){this.form.get("stock").removeAt(n)}onSubmit(){console.log("Submit:",this.form.value)}}m.\u0275fac=function(o){return new(o||m)(t.Y36(e.qu))},m.\u0275cmp=t.Xpm({type:m,selectors:[["stock-inventory"]],decls:11,vars:9,consts:[[1,"stock-inventory"],[3,"formGroup","ngSubmit"],[3,"parent"],[3,"parent","products","added"],[3,"parent","removed"],[1,"stock-inventory__buttons"],["type","submit",3,"disabled"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t._UZ(2,"stock-branch",2),t.TgZ(3,"stock-selector",3),t.NdJ("added",function(i){return n.addStock(i)}),t.qZA(),t.TgZ(4,"stock-products",4),t.NdJ("removed",function(i){return n.removeStock(i)}),t.qZA(),t.TgZ(5,"div",5)(6,"button",6),t._uU(7,"Order stock"),t.qZA()(),t.TgZ(8,"pre"),t._uU(9),t.ALo(10,"json"),t.qZA()()()),2&o&&(t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(1),t.Q6J("parent",n.form),t.xp6(1),t.Q6J("parent",n.form)("products",n.products),t.xp6(1),t.Q6J("parent",n.form),t.xp6(2),t.Q6J("disabled",n.form.invalid),t.xp6(3),t.Oqu(t.lcZ(10,7,n.form.value)))},dependencies:[e._Y,e.JL,e.sg,d,a,u,l.Ts]});var k=s(5808);const v=[{path:"",component:m}];class p{}p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[l.ez,e.UX,k.Bz.forChild(v)]})}}]);