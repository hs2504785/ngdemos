(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[2572],{8378:(e,t,n)=>{"use strict";n.d(t,{P3:()=>c,o2:()=>s,Ov:()=>h,A8:()=>m,yy:()=>l,eX:()=>u,k:()=>p,Z9:()=>d});var i=n(4710),r=n(878),o=n(5959),a=n(5366);class s{}function d(e){return e&&"function"==typeof e.connect}class c extends s{constructor(e){super(),this._data=e}connect(){return(0,i.b)(this._data)?this._data:(0,r.of)(this._data)}disconnect(){}}class l{applyChanges(e,t,n,i,r){e.forEachOperation((e,i,o)=>{let a,s;if(null==e.previousIndex){const r=n(e,i,o);a=t.createEmbeddedView(r.templateRef,r.context,r.index),s=1}else null==o?(t.remove(i),s=3):(a=t.get(i),t.move(a,o),s=2);r&&r({context:null==a?void 0:a.context,operation:s,record:e})})}detach(){}}class u{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,t,n,i,r){e.forEachOperation((e,o,a)=>{let s,d;null==e.previousIndex?(s=this._insertView(()=>n(e,o,a),a,t,i(e)),d=s?1:0):null==a?(this._detachAndCacheView(o,t),d=3):(s=this._moveView(o,a,t,i(e)),d=2),r&&r({context:null==s?void 0:s.context,operation:d,record:e})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,n,i){const r=this._insertViewFromCache(t,n);if(r)return void(r.context.$implicit=i);const o=e();return n.createEmbeddedView(o.templateRef,o.context,o.index)}_detachAndCacheView(e,t){const n=t.detach(e);this._maybeCacheView(n,t)}_moveView(e,t,n,i){const r=n.get(e);return n.move(r,t),r.context.$implicit=i,r}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const n=t.indexOf(e);-1===n?e.destroy():t.remove(n)}}_insertViewFromCache(e,t){const n=this._viewCache.pop();return n&&t.insert(n,e),n||null}}class h{constructor(e=!1,t,n=!0){this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new o.xQ,t&&t.length&&(e?t.forEach(e=>this._markSelected(e)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}let m=(()=>{class e{constructor(){this._listeners=[]}notify(e,t){for(let n of this._listeners)n(e,t)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(t=>e!==t)}}ngOnDestroy(){this._listeners=[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a["\u0275\u0275defineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e})();const p=new a.InjectionToken("_ViewRepeater")},4369:(e,t,n)=>{"use strict";n.d(t,{lW:()=>h,ot:()=>m});var i=n(7064),r=n(6136),o=n(5366),a=n(7388);const s=["mat-button",""],d=["*"],c=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class l{constructor(e){this._elementRef=e}}const u=(0,i.pj)((0,i.Id)((0,i.Kr)(l)));let h=(()=>{class e extends u{constructor(e,t,n){super(e),this._focusMonitor=t,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of c)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,t){e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](a.tE),o["\u0275\u0275directiveInject"](r.Qb,8))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){if(1&e&&o["\u0275\u0275viewQuery"](i.wG,5),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.ripple=e.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(o["\u0275\u0275attribute"]("disabled",t.disabled||null),o["\u0275\u0275classProp"]("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o["\u0275\u0275InheritDefinitionFeature"]],attrs:s,ngContentSelectors:d,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(o["\u0275\u0275projectionDef"](),o["\u0275\u0275elementStart"](0,"span",0),o["\u0275\u0275projection"](1),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](2,"span",1),o["\u0275\u0275element"](3,"span",2)),2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275classProp"]("mat-button-ripple-round",t.isRoundButton||t.isIconButton),o["\u0275\u0275property"]("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[i.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),e})(),m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[i.si,i.BQ],i.BQ]}),e})()},3148:(e,t,n)=>{"use strict";n.d(t,{D:()=>d});var i=n(8318),r=n(8470),o=n(9996),a=n(2056),s=n(3163);function d(...e){if(1===e.length){const t=e[0];if((0,r.k)(t))return c(t,null);if((0,a.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return c(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return c(e=1===e.length&&(0,r.k)(e[0])?e[0]:e,null).pipe((0,o.U)(e=>t(...e)))}return c(e,null)}function c(e,t){return new i.y(n=>{const i=e.length;if(0===i)return void n.complete();const r=new Array(i);let o=0,a=0;for(let d=0;d<i;d++){const c=(0,s.D)(e[d]);let l=!1;n.add(c.subscribe({next:e=>{l||(l=!0,a++),r[d]=e},error:e=>n.error(e),complete:()=>{o++,o!==i&&l||(a===i&&n.next(t?t.reduce((e,t,n)=>(e[t]=r[n],e),{}):r),n.complete())}}))}})}},4710:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var i=n(8318);function r(e){return!!e&&(e instanceof i.y||"function"==typeof e.lift&&"function"==typeof e.subscribe)}},9914:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TreeModule:()=>de});var i=n(1116),r=n(766),o=n(5366),a=n(1898),s=n(9996),d=n(611);let c=(()=>{class e extends a.c8{constructor(e){super("DataSource",e)}addOne(e){this.addOneToCache(e)}addMany(e){this.addManyToCache(e)}updateOne(e){this.updateOneInCache(e)}updateMany(e){this.updateManyInCache(e)}removeOne(e){this.removeOneFromCache(e)}removeMany(e){this.removeManyFromCache(e)}upsertOne(e){this.upsertOneInCache(e)}getAll(){return this.selectors$.entities$}getOne(e){const t="string"==typeof e?e:e.id;return this.selectors$.entities$.pipe((0,s.U)(e=>e.filter(e=>e.id===t)[0]),(0,d.q)(1))}patchOne(e,t){const n={children:[...e.children,t]},i=Object.assign(Object.assign({},e),n);this.upsertOne(i)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](a.yV))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const l=e=>!!e&&"[object Object]"===Object.prototype.toString.call(e),u=e=>l(e)&&0===Object.keys(e).length,h=(e,t)=>typeof e==typeof t&&(Array.isArray(e)&&Array.isArray(t)?e.every((n,i)=>h(e[i],t[i])):l(e)&&l(t)?Object.keys(t).every(n=>Object.prototype.hasOwnProperty.call(e,n)&&h(e[n],t[n])):e===t);function m(e,t,n){if(void 0===e)return;const i=e=>{if(!l(e))return e;let i=Object.assign({},e);return h(i,t)&&(i=Object.assign({},n)),Object.keys(i).forEach(e=>{(l(i[e])||Array.isArray(i[e]))&&(i=Object.assign(Object.assign({},i),{[e]:m(i[e],t,n)}))}),i};return!Array.isArray(e)&&!l(e)||u(t)||u(n)?e:Array.isArray(e)?e.map(e=>i(e)):i(e)}function p(e,t,n){if(void 0===e)return;const i=e=>{if(!l(e))return e;let i=Object.assign({},e);return h(i,t)&&Object.keys(n).forEach(e=>{Object.prototype.hasOwnProperty.call(i,e)&&(i=Object.assign(Object.assign({},i),{[e]:n[e]}))}),Object.keys(i).forEach(e=>{(l(i[e])||Array.isArray(i[e]))&&(i=Object.assign(Object.assign({},i),{[e]:p(i[e],t,n)}))}),i};return!Array.isArray(e)&&!l(e)||u(t)||u(n)?e:Array.isArray(e)?e.map(e=>i(e)):i(e)}function f(e,t){if(void 0===e)return;const n=e=>{if(!l(e))return e;let n=Object.assign({},e);return Object.keys(n).forEach(e=>{(l(n[e])||Array.isArray(n[e]))&&(n=Object.assign(Object.assign({},n),{[e]:f(n[e],t)}))}),n};return!Array.isArray(e)&&!l(e)||u(t)?e:Array.isArray(e)?e.filter(e=>!h(e,t)).map(e=>n(e)):h(e,t)?void 0:n(e)}function b(e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return function(e,t){const n=Object.keys(e),i=new Array(n.length);for(const r of n){const n=e[r];i[r]="object"!=typeof n||null===n?n:t(n)}return i}(e,b);const t={};for(const n in e){if(!1===Object.hasOwnProperty.call(e,n))continue;const i=e[n];t[n]="object"!=typeof i||null===i?i:b(i)}return t}let g=(()=>{class e{constructor(e){this.dataSourceService=e,this.expandedNodes=new Set,this.flatNodeMap=new Map}toggleExpandedNodes(e,t,n=!1){let i=t.id||t.name;n?this.expandedNodes.delete(i):this.expandedNodes.add(i)}restoreExpandedNodes(e){this.expandedNodes.forEach(t=>{const n=e.dataNodes.find(e=>(e.id||e.name)===t);e.expand(n)})}getParent(e){const{treeControl:t}=this;if(t.getLevel(e)<1)return null;for(let n=t.dataNodes.indexOf(e)-1;n>=0;n--){const e=t.dataNodes[n];if(0===t.getLevel(e))return e}}updateNode(e,t){const n=this.getParent(e),i=this.flatNodeMap.get(n);this.dataSourceService.getOne(i.id).subscribe(n=>{const i=p(n,{name:e.name},t);this.dataSourceService.updateOne(i)})}addNodeToParent(e,t){e.children=[...e.children,t],this.dataSourceService.updateOne(e)}addNode(e,t){if(e.level){const n=this.flatNodeMap.get(e),i=this.getParent(e),r=this.flatNodeMap.get(i);this.dataSourceService.getOne(r.id).subscribe(i=>{const r=Object.assign(Object.assign({},n),{children:[...n.children,t]}),o=m(i,{name:e.name},r);this.dataSourceService.updateOne(o)})}else{const n=b(this.flatNodeMap.get(e));this.addNodeToParent(n,t)}}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](c))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var v=n(8378),y=n(5959),_=n(8512),x=n(4710),k=n(878),S=n(5416),w=n(9861),E=n(4720);class N extends class{constructor(){this.expansionModel=new v.Ov(!0)}toggle(e){this.expansionModel.toggle(this._trackByValue(e))}expand(e){this.expansionModel.select(this._trackByValue(e))}collapse(e){this.expansionModel.deselect(this._trackByValue(e))}isExpanded(e){return this.expansionModel.isSelected(this._trackByValue(e))}toggleDescendants(e){this.expansionModel.isSelected(this._trackByValue(e))?this.collapseDescendants(e):this.expandDescendants(e)}collapseAll(){this.expansionModel.clear()}expandDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.select(...t.map(e=>this._trackByValue(e)))}collapseDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.deselect(...t.map(e=>this._trackByValue(e)))}_trackByValue(e){return this.trackBy?this.trackBy(e):e}}{constructor(e,t,n){super(),this.getLevel=e,this.isExpandable=t,this.options=n,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(e){const t=[];for(let n=this.dataNodes.indexOf(e)+1;n<this.dataNodes.length&&this.getLevel(e)<this.getLevel(this.dataNodes[n]);n++)t.push(this.dataNodes[n]);return t}expandAll(){this.expansionModel.select(...this.dataNodes.map(e=>this._trackByValue(e)))}}const C=new o.InjectionToken("CDK_TREE_NODE_OUTLET_NODE");let D=(()=>{class e{constructor(e,t){this.viewContainer=e,this._node=t}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](o.ViewContainerRef),o["\u0275\u0275directiveInject"](C,8))},e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,selectors:[["","cdkTreeNodeOutlet",""]]}),e})();class O{constructor(e){this.$implicit=e}}let I=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](o.TemplateRef))},e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),e})(),j=(()=>{class e{constructor(e,t){this._differs=e,this._changeDetectorRef=t,this._onDestroy=new y.xQ,this._levels=new Map,this.viewChange=new _.X({start:0,end:Number.MAX_VALUE})}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const e=this._nodeDefs.filter(e=>!e.when);this._defaultNodeDef=e[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let e;(0,v.Z9)(this._dataSource)?e=this._dataSource.connect(this):(0,x.b)(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=(0,k.of)(this._dataSource)),e&&(this._dataSubscription=e.pipe((0,S.R)(this._onDestroy)).subscribe(e=>this.renderNodeChanges(e)))}renderNodeChanges(e,t=this._dataDiffer,n=this._nodeOutlet.viewContainer,i){const r=t.diff(e);r&&(r.forEachOperation((t,r,o)=>{if(null==t.previousIndex)this.insertNode(e[o],o,n,i);else if(null==o)n.remove(r),this._levels.delete(t.item);else{const e=n.get(r);n.move(e,o)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(e,t){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(n=>n.when&&n.when(t,e))||this._defaultNodeDef}insertNode(e,t,n,i){const r=this._getNodeDef(e,t),o=new O(e);o.level=this.treeControl.getLevel?this.treeControl.getLevel(e):void 0!==i&&this._levels.has(i)?this._levels.get(i)+1:0,this._levels.set(e,o.level),(n||this._nodeOutlet.viewContainer).createEmbeddedView(r.template,o,t),T.mostRecentTreeNode&&(T.mostRecentTreeNode.data=e)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](o.IterableDiffers),o["\u0275\u0275directiveInject"](o.ChangeDetectorRef))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["cdk-tree"]],contentQueries:function(e,t,n){if(1&e&&o["\u0275\u0275contentQuery"](n,I,5),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t._nodeDefs=e)}},viewQuery:function(e,t){if(1&e&&o["\u0275\u0275viewQuery"](D,7),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t._nodeOutlet=e.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(e,t){1&e&&o["\u0275\u0275elementContainer"](0,0)},directives:[D],encapsulation:2}),e})(),T=(()=>{class e{constructor(t,n){this._elementRef=t,this._tree=n,this._destroyed=new y.xQ,this._dataChanges=new y.xQ,e.mostRecentTreeNode=this,this._elementRef.nativeElement.classList.add("cdk-tree-node"),this.role="treeitem"}get role(){return"treeitem"}set role(e){this._elementRef.nativeElement.setAttribute("role",e)}get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}_setExpanded(e){this._isAriaExpanded=e,this._elementRef.nativeElement.setAttribute("aria-expanded",`${e}`)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}ngOnInit(){this._parentNodeAriaLevel=function(e){let t=e.parentElement;for(;t&&!A(t);)t=t.parentElement;return t?t.classList.contains("cdk-nested-tree-node")?(0,w.su)(t.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngDoCheck(){this.isExpanded!=this._isAriaExpanded&&this._setExpanded(this.isExpanded)}ngOnDestroy(){e.mostRecentTreeNode===this&&(e.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](j))},e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,selectors:[["cdk-tree-node"]],inputs:{role:"role"},exportAs:["cdkTreeNode"]}),e.mostRecentTreeNode=null,e})();function A(e){const t=e.classList;return!(!(null==t?void 0:t.contains("cdk-nested-tree-node"))&&!(null==t?void 0:t.contains("cdk-tree")))}const M=/([A-Za-z%]+)$/;let R=(()=>{class e{constructor(e,t,n,i){this._treeNode=e,this._tree=t,this._element=n,this._dir=i,this._destroyed=new y.xQ,this.indentUnits="px",this._indent=40,this._setPadding(),i&&i.change.pipe((0,S.R)(this._destroyed)).subscribe(()=>this._setPadding(!0)),e._dataChanges.subscribe(()=>this._setPadding())}get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const e=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,t=null==this._level?e:this._level;return"number"==typeof t?`${t*this._indent}${this.indentUnits}`:null}_setPadding(e=!1){const t=this._paddingIndent();if(t!==this._currentPadding||e){const e=this._element.nativeElement,n=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",i="paddingLeft"===n?"paddingRight":"paddingLeft";e.style[n]=t||"",e.style[i]="",this._currentPadding=t}}_setLevelInput(e){this._level=(0,w.su)(e,null),this._setPadding()}_setIndentInput(e){let t=e,n="px";if("string"==typeof e){const i=e.split(M);t=i[0],n=i[1]||n}this.indentUnits=n,this._indent=(0,w.su)(t),this._setPadding()}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](T),o["\u0275\u0275directiveInject"](j),o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](E.Is,8))},e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}}),e})(),P=(()=>{class e{constructor(e,t){this._tree=e,this._treeNode=t,this._recursive=!1}get recursive(){return this._recursive}set recursive(e){this._recursive=(0,w.Ig)(e)}_toggle(e){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](j),o["\u0275\u0275directiveInject"](T))},e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(e,t){1&e&&o["\u0275\u0275listener"]("click",function(e){return t._toggle(e)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),e})(),z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({}),e})();var L=n(7064),B=n(1906);const F=(0,L.sb)((0,L.Id)(T));let V=(()=>{class e extends F{constructor(e,t,n){super(e,t),this._elementRef=e,this._tree=t,this.tabIndex=Number(n)||0,this._elementRef.nativeElement.classList.add("mat-tree-node")}ngOnInit(){super.ngOnInit()}ngDoCheck(){super.ngDoCheck()}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](j),o["\u0275\u0275injectAttribute"]("tabindex"))},e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,selectors:[["mat-tree-node"]],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[o["\u0275\u0275ProvidersFeature"]([{provide:T,useExisting:e}]),o["\u0275\u0275InheritDefinitionFeature"]]}),e})(),H=(()=>{class e extends I{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=o["\u0275\u0275getInheritedFactory"](e)))(n||e)}}(),e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[o["\u0275\u0275ProvidersFeature"]([{provide:I,useExisting:e}]),o["\u0275\u0275InheritDefinitionFeature"]]}),e})(),Q=(()=>{class e extends R{get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=o["\u0275\u0275getInheritedFactory"](e)))(n||e)}}(),e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[o["\u0275\u0275ProvidersFeature"]([{provide:R,useExisting:e}]),o["\u0275\u0275InheritDefinitionFeature"]]}),e})(),U=(()=>{class e{constructor(e,t){this.viewContainer=e,this._node=t}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](o.ViewContainerRef),o["\u0275\u0275directiveInject"](C,8))},e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,selectors:[["","matTreeNodeOutlet",""]],features:[o["\u0275\u0275ProvidersFeature"]([{provide:D,useExisting:e}])]}),e})(),$=(()=>{class e extends j{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=o["\u0275\u0275getInheritedFactory"](e)))(n||e)}}(),e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["mat-tree"]],viewQuery:function(e,t){if(1&e&&o["\u0275\u0275viewQuery"](U,7),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t._nodeOutlet=e.first)}},hostAttrs:["role","tree",1,"mat-tree","cdk-tree"],exportAs:["matTree"],features:[o["\u0275\u0275ProvidersFeature"]([{provide:j,useExisting:e}]),o["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(e,t){1&e&&o["\u0275\u0275elementContainer"](0,0)},directives:[U],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2}),e})(),W=(()=>{class e extends P{get recursive(){return this._recursive}set recursive(e){this._recursive=(0,w.Ig)(e)}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=o["\u0275\u0275getInheritedFactory"](e)))(n||e)}}(),e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[o["\u0275\u0275ProvidersFeature"]([{provide:P,useExisting:e}]),o["\u0275\u0275InheritDefinitionFeature"]]}),e})(),q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[z,L.BQ],L.BQ]}),e})();class X{constructor(e,t,n,i){this.transformFunction=e,this.getLevel=t,this.isExpandable=n,this.getChildren=i}_flattenNode(e,t,n,i){const r=this.transformFunction(e,t);if(n.push(r),this.isExpandable(r)){const r=this.getChildren(e);r&&(Array.isArray(r)?this._flattenChildren(r,t,n,i):r.pipe((0,d.q)(1)).subscribe(e=>{this._flattenChildren(e,t,n,i)}))}return n}_flattenChildren(e,t,n,i){e.forEach((r,o)=>{let a=i.slice();a.push(o!=e.length-1),this._flattenNode(r,t+1,n,a)})}flattenNodes(e){let t=[];return e.forEach(e=>this._flattenNode(e,0,t,[])),t}expandFlattenedNodes(e,t){let n=[],i=[];return i[0]=!0,e.forEach(e=>{let r=!0;for(let t=0;t<=this.getLevel(e);t++)r=r&&i[t];r&&n.push(e),this.isExpandable(e)&&(i[this.getLevel(e)+1]=t.isExpanded(e))}),n}}class G extends v.o2{constructor(e,t,n){super(),this._treeControl=e,this._treeFlattener=t,this._flattenedData=new _.X([]),this._expandedData=new _.X([]),this._data=new _.X([]),n&&(this.data=n)}get data(){return this._data.value}set data(e){this._data.next(e),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}connect(e){return(0,B.T)(e.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,s.U)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}const Z=[{id:"componentsID",name:"components",type:"folder",children:[{name:"src",type:"folder",children:[{name:"cdk",type:"folder",children:[{name:"package.json",type:"file"},{name:"BUILD.bazel",type:"file"}]},{name:"material",type:"folder"}]}]},{id:"angularID",name:"angular",type:"folder",children:[{name:"packages",type:"folder",children:[{name:".travis.yml",type:"file"},{name:"firebase.json",type:"file"},{name:"firebase1.json",type:"file",work:"None"},{name:"firebase2.json",type:"file"}]},{name:"package.json",type:"file"}]},{id:"angularjsID",name:"angularjs",type:"folder",children:[{name:"gulpfile.js",type:"file"},{name:"README.md",type:"file"}]}];var K=n(4369),Y=n(7307);function J(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mat-tree-node",3),o["\u0275\u0275element"](1,"button",4),o["\u0275\u0275element"](2,"i",5),o["\u0275\u0275text"](3),o["\u0275\u0275elementStart"](4,"button",6),o["\u0275\u0275listener"]("click",function(){const t=o["\u0275\u0275restoreView"](e).$implicit;return o["\u0275\u0275nextContext"]().editNode(t)}),o["\u0275\u0275element"](5,"i",7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"button",8),o["\u0275\u0275listener"]("click",function(){const t=o["\u0275\u0275restoreView"](e).$implicit;return o["\u0275\u0275nextContext"]().deleteNode(t)}),o["\u0275\u0275element"](7,"i",9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275classProp"]("ti-file","file"===e.type)("ti-folder","file"!==e.type),o["\u0275\u0275attribute"]("aria-label",e.type+"icon"),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function ee(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mat-tree-node",10),o["\u0275\u0275elementStart"](1,"button",11),o["\u0275\u0275element"](2,"i",12),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](3,"mat-icon"),o["\u0275\u0275text"](4),o["\u0275\u0275elementStart"](5,"button",13),o["\u0275\u0275listener"]("click",function(){const t=o["\u0275\u0275restoreView"](e).$implicit;return o["\u0275\u0275nextContext"]().addNode(t)}),o["\u0275\u0275element"](6,"i",14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275attribute"]("aria-label","Toggle "+e.name),o["\u0275\u0275advance"](1),o["\u0275\u0275classProp"]("ti-angle-down",n.expandedElement!==n.element)("ti-angle-right",n.expandedElement===n.element),o["\u0275\u0275advance"](1),o["\u0275\u0275classProp"]("ti-file","file"===e.type)("ti-folder","file"!==e.type),o["\u0275\u0275attribute"]("aria-label",e.type+"icon"),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.name," ")}}let te=(()=>{class e{constructor(e,t){this.dataSourceService=e,this.dsHelperService=t,this.editNodeChange=new o.EventEmitter,this.addNodeChange=new o.EventEmitter,this.activeNode=null,this.transformer=(e,t)=>{const n=Object.assign(Object.assign({},e.id&&{id:e.id}),{name:e.name,type:e.type,level:t,expandable:!!e.children});return this.dsHelperService.flatNodeMap.set(n,e),n},this.treeFlattener=new X(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new N(this.getLevel,this.isExpandable),this.dataSource=new G(this.treeControl,this.treeFlattener),this.dsHelperService.treeFlattener=this.treeFlattener,this.dsHelperService.treeControl=this.treeControl}ngOnInit(){this.initializeData(),this.handleExpandedNodes()}editNode(e){this.editNodeChange.emit(e)}initializeData(){this.dataSourceService.addManyToCache(Z),this.dataSources$=this.dataSourceService.entities$,this.dataSources$.subscribe(e=>{this.dataSource.data=e,this.dsHelperService.restoreExpandedNodes(this.treeControl)})}getLevel(e){return e.level}isExpandable(e){return e.expandable}hasChild(e,t){return t.expandable}getChildren(e){return e.children}handleExpandedNodes(){this.treeControl.expansionModel.changed.subscribe(e=>{e.added[0]&&e.added.length?this.dsHelperService.toggleExpandedNodes(this.treeControl,e.added[0]):e.removed.length&&e.removed.forEach(e=>{this.dsHelperService.toggleExpandedNodes(this.treeControl,e,!0)})})}deleteNode(e){const t=this.dsHelperService.getParent(e),n=this.dsHelperService.flatNodeMap.get(t);this.dataSourceService.getOne(n.id).subscribe(t=>{const n=f(t,{name:e.name});this.dataSourceService.updateOne(n)})}addNode(e){this.addNodeChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](c),o["\u0275\u0275directiveInject"](g))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["lib-data-source-list"]],outputs:{editNodeChange:"editNodeChange",addNodeChange:"addNodeChange"},decls:3,vars:3,consts:[[3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle","","matTreeNodePadding",""],["mat-icon-button","","disabled",""],[1,"type-icon"],["mat-icon-button","","color","accent",1,"icon-btn","edit",3,"click"],[1,"ti-pencil"],["mat-icon-button","","color","warn",1,"icon-btn","delete",3,"click"],[1,"ti-trash"],["matTreeNodePadding",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["mat-icon-button","","color","accent",3,"click"],[1,"ti-plus"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-tree",0),o["\u0275\u0275template"](1,J,8,6,"mat-tree-node",1),o["\u0275\u0275template"](2,ee,7,11,"mat-tree-node",2),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275property"]("dataSource",t.dataSource)("treeControl",t.treeControl),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("matTreeNodeDefWhen",t.hasChild))},directives:[$,H,V,W,Q,K.lW,Y.Hw],styles:[".type-icon[_ngcontent-%COMP%]{color:#757575;margin-right:5px}.icon-btn[_ngcontent-%COMP%]{margin-left:10px}.delete[_ngcontent-%COMP%]     .mat-icon, .edit[_ngcontent-%COMP%]     .mat-icon{font-size:18px}.ti-folder[_ngcontent-%COMP%]{margin-top:8px}"]}),e})();var ne=n(2693);let ie=(()=>{class e extends a.EJ{constructor(e,t){super("DataSource",e,t)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](ne.eN),o["\u0275\u0275inject"](a.hR))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const re={DataSource:{selectId(e){if(null!==e)return e.id||e.name?`${e.id||e.name}`:e._id},entityDispatcherOptions:{optimisticUpdate:!0}}};let oe=(()=>{class e{constructor(e,t,n){this.eds=e,this.entityDataService=t,this.dataSourceService=n,this.eds.registerMetadataMap(re),this.entityDataService.registerService("DataSource",this.dataSourceService)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](a.f0),o["\u0275\u0275inject"](a.sP),o["\u0275\u0275inject"](ie))},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({providers:[ie,c,g],imports:[[q,Y.Ps,K.ot]]}),e})();const ae=[{path:"",component:(()=>{class e{constructor(e,t){this.dataSourceService=e,this.dsHelperService=t}ngOnInit(){}addOne(){this.dataSourceService.addOne({id:"TESTID",name:"Test",type:"folder",children:[{name:"src",type:"folder",children:[{name:"cdk",type:"folder",children:[{name:"package.json",type:"file"},{name:"BUILD.bazel",type:"file"}]},{name:"material",type:"folder"}]}]})}addMany(){this.dataSourceService.addMany([{id:"TESTIDMANY",name:"Test add many",type:"folder",children:[{name:"src many",type:"folder",children:[{name:"cdk",type:"folder",children:[{name:"package.json",type:"file"},{name:"BUILD.bazel",type:"file"}]},{name:"material",type:"folder"}]}]},{id:"componentsIDMANY",name:"components many 2",type:"folder",children:[{name:"components 2",type:"folder",children:[{name:"cdk",type:"folder",children:[{name:"package.json",type:"file"},{name:"BUILD.bazel",type:"file"}]},{name:"material",type:"folder"}]}]}])}upsertOne(){this.dataSourceService.upsertOne({id:"TESTID",name:"Test",type:"folder",children:[{name:"src",type:"folder",children:[{name:"cdk",type:"folder",children:[{name:"package.json",type:"file"},{name:"BUILD.bazel",type:"file"}]},{name:"material",type:"folder"}]}]})}removeOne(){this.dataSourceService.removeOne("TESTID")}removeMany(){this.dataSourceService.removeMany(["TESTID","componentsID"])}updateOne(){this.dataSourceService.updateOne({id:"TESTID",name:"Test 1",type:"folder",children:[{name:"src 1",type:"folder",children:[{name:"cdk",type:"folder",children:[{name:"package.json",type:"file"},{name:"BUILD.bazel",type:"file"}]},{name:"material",type:"folder"}]}]})}updateMany(){this.dataSourceService.updateMany([{id:"TESTID",name:"Test 2",type:"folder",children:[{name:"src 2",type:"folder",children:[{name:"cdk",type:"folder",children:[{name:"package.json",type:"file"},{name:"BUILD.bazel",type:"file"}]},{name:"material",type:"folder"}]}]},{id:"componentsID",name:"components 2",type:"folder",children:[{name:"components 2",type:"folder",children:[{name:"cdk",type:"folder",children:[{name:"package.json",type:"file"},{name:"BUILD.bazel",type:"file"}]},{name:"material",type:"folder"}]}]}])}getOne(){this.dataSourceService.getOne("TESTID").subscribe(console.log)}patchOne(){this.dataSourceService.patchOne({id:"TESTID",name:"Test",type:"folder",children:[{name:"src",type:"folder",children:[{name:"cdk",type:"folder",children:[{name:"package.json",type:"file"},{name:"BUILD.bazel",type:"file"}]},{name:"material",type:"folder"}]}]},{id:"TESTIDWOrker",name:"Worker",type:"folder",children:[{id:"TESTIDWOrker2",name:"Worker 2",type:"file"}]})}getFlattenNodes(){console.log("HERREE ",this.dsHelperService.treeFlattener),console.log("Flatten nodes with treeControl ",this.dsHelperService.treeControl.dataNodes),this.dataSourceService.getAll().subscribe(e=>{console.log("Node matrix ",e),console.log("Flatten Nodes ",this.dsHelperService.treeFlattener.flattenNodes(e))})}onNodeEdit(e){const t=this.dsHelperService.flatNodeMap.get(e);this.dsHelperService.updateNode(e,Object.assign(Object.assign({},t),{name:t.name+" UPDATED!"}))}onNodeAdd(e){this.dsHelperService.flatNodeMap.get(e),this.dsHelperService.addNode(e,{id:"addNodeID",name:"My New node",type:"file"})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](c),o["\u0275\u0275directiveInject"](g))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-tree"]],decls:27,vars:0,consts:[[1,"container"],[1,"col"],[3,"editNodeChange","addNodeChange"],[1,"col","action"],["mat-button","","mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"header"),o["\u0275\u0275elementStart"](1,"h1"),o["\u0275\u0275text"](2,"Tree Demo"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"div",0),o["\u0275\u0275elementStart"](4,"div",1),o["\u0275\u0275elementStart"](5,"lib-data-source-list",2),o["\u0275\u0275listener"]("editNodeChange",function(e){return t.onNodeEdit(e)})("addNodeChange",function(e){return t.onNodeAdd(e)}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",3),o["\u0275\u0275elementStart"](7,"button",4),o["\u0275\u0275listener"]("click",function(){return t.addOne()}),o["\u0275\u0275text"](8," Add DS "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"button",4),o["\u0275\u0275listener"]("click",function(){return t.addMany()}),o["\u0275\u0275text"](10," Add Many "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"button",4),o["\u0275\u0275listener"]("click",function(){return t.upsertOne()}),o["\u0275\u0275text"](12," Upsert One "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"button",4),o["\u0275\u0275listener"]("click",function(){return t.removeOne()}),o["\u0275\u0275text"](14," Remove One "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"button",4),o["\u0275\u0275listener"]("click",function(){return t.removeMany()}),o["\u0275\u0275text"](16," Remove Many "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"button",4),o["\u0275\u0275listener"]("click",function(){return t.updateOne()}),o["\u0275\u0275text"](18," Update One "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"button",4),o["\u0275\u0275listener"]("click",function(){return t.updateMany()}),o["\u0275\u0275text"](20," Update Many "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](21,"button",4),o["\u0275\u0275listener"]("click",function(){return t.getOne()}),o["\u0275\u0275text"](22," Get One "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](23,"button",4),o["\u0275\u0275listener"]("click",function(){return t.patchOne()}),o["\u0275\u0275text"](24," Patch One "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](25,"button",4),o["\u0275\u0275listener"]("click",function(){return t.getFlattenNodes()}),o["\u0275\u0275text"](26," Get Flatten Nodes "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]())},directives:[te,K.lW],styles:[".container[_ngcontent-%COMP%], header[_ngcontent-%COMP%]{margin:20px}.container[_ngcontent-%COMP%]{grid-gap:20px;display:grid;grid-template-columns:3fr 1fr}.action[_ngcontent-%COMP%]{display:flex;flex-direction:column}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:4px}"]}),e})()}];let se=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[r.Bz.forChild(ae)],r.Bz]}),e})(),de=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({providers:[],imports:[[i.ez,se,K.ot,oe]]}),e})()}}]);