"use strict";(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[1952],{1952:(ce,A,r)=>{r.r(A),r.d(A,{MyVideoComponent:()=>S,MyVideoModule:()=>p});var M=r(6325),o=r(4650),N=r(6895),b=r(7579),h=r(1135),P=r(9646),v=r(9751),O=r(576),E=r(3268);function k(t,i,e){return e?k(t,i).pipe((0,E.Z)(e)):new v.y(n=>{const a=(...d)=>n.next(1===d.length?d[0]:d),s=t(a);return(0,O.m)(i)?()=>i(a,s):void 0})}var y=r(9841),C=r(9635),j=r(6451),L=r(5698),Y=r(8675),g=r(4004),X=r(8505),V=r(2722),B=r(3446),Z=r(3900),G=r(5577),T=r(1365),W=r(5026),H=r(1884),x=r(4482),J=r(5797),K=r(3269);function D(...t){const i=(0,K.jO)(t);return i?(0,C.z)(D(...t),(0,E.Z)(i)):(0,x.e)((e,n)=>{(0,y.l)([e,...(0,J.k)(t)])(n)})}var $=r(5403),ee=r(9300);const te=["youtubeContainer"];let _=(()=>{class t{constructor(e,n){this._ngZone=e,this._youtubeContainer=new b.x,this._destroyed=new b.x,this._playerChanges=new h.X(void 0),this._videoId=new h.X(void 0),this._height=new h.X(390),this._width=new h.X(640),this._startSeconds=new h.X(void 0),this._endSeconds=new h.X(void 0),this._suggestedQuality=new h.X(void 0),this._playerVars=new h.X(void 0),this._disableCookies=new h.X(!1),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=(0,N.NF)(n)}get videoId(){return this._videoId.value}set videoId(e){this._videoId.next(e)}get height(){return this._height.value}set height(e){this._height.next(e||390)}get width(){return this._width.value}set width(e){this._width.next(e||640)}set startSeconds(e){this._startSeconds.next(e)}set endSeconds(e){this._endSeconds.next(e)}set suggestedQuality(e){this._suggestedQuality.next(e)}get playerVars(){return this._playerVars.value}set playerVars(e){this._playerVars.next(e)}get disableCookies(){return this._disableCookies.value}set disableCookies(e){this._disableCookies.next(!!e)}ngOnInit(){if(!this._isBrowser)return;let e=(0,P.of)(!0);if(!window.YT||!window.YT.Player){const s=new b.x;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>s.next(!0))},e=s.pipe((0,L.q)(1),(0,Y.O)(!1))}const n=this._disableCookies.pipe((0,g.U)(s=>s?"https://www.youtube-nocookie.com":void 0)),a=function se(t,i,e,n,a,s,d,f){const c=(0,y.a)([i,e,d]).pipe((0,T.M)((0,y.a)([a,s])),(0,g.U)(([w,l])=>{const[u,m,I]=w,[he,ye]=l;return u?{videoId:u,playerVars:I,width:he,height:ye,host:m}:void 0}));return(0,y.a)([t,c,(0,P.of)(f)]).pipe(function re(t){return(0,C.z)(D(t),function q(t){return(0,x.e)((i,e)=>{let n=!1,a=0;i.subscribe((0,$.x)(e,s=>(n||(n=!t(s,a++)))&&e.next(s)))})}(([i,e])=>!e),(0,g.U)(([i])=>i))}(n),(0,W.R)(oe,void 0),(0,H.x)())}(this._youtubeContainer,this._videoId,n,e,this._width,this._height,this._playerVars,this._ngZone).pipe((0,X.b)(s=>{this._playerChanges.next(s)}),function ae(t){return(0,G.z)(i=>i?z(i)?(0,P.of)(i):new v.y(e=>{let n=!1,a=!1;const s=d=>{a=!0,n||(d.target.removeEventListener("onReady",s),e.next(d.target))};return i.addEventListener("onReady",s),()=>{n=!0,a||t(i)}}).pipe((0,L.q)(1),(0,Y.O)(void 0)):(0,P.of)(void 0))}(s=>{z(s)||s.destroy()}),(0,V.R)(this._destroyed),(0,B.n)());a.subscribe(s=>{this._player=s,s&&this._pendingPlayerState&&this._initializePlayer(s,this._pendingPlayerState),this._pendingPlayerState=void 0}),function ie(t,i,e){(0,y.a)([t,i,e]).subscribe(([n,a,s])=>n&&n.setSize(a,s))}(a,this._width,this._height),function ne(t,i){(0,y.a)([t,i]).subscribe(([e,n])=>e&&n&&e.setPlaybackQuality(n))}(a,this._suggestedQuality),function le(t,i,e,n,a,s){const d=(0,y.a)([e,n]).pipe((0,g.U)(([l,u])=>({startSeconds:l,endSeconds:u}))),f=d.pipe(R(t,l=>!!l&&!function de(t){const i=t.getPlayerState();return i!==YT.PlayerState.UNSTARTED&&i!==YT.PlayerState.CUED}(l))),c=i.pipe(R(t,(l,u)=>!!l&&l.videoId!==u)),w=t.pipe(R((0,y.a)([i,d]),([l,u],m)=>!(!m||l==m.videoId&&!u.startSeconds&&!u.endSeconds)));(0,j.T)(w,c,f).pipe((0,T.M)((0,y.a)([t,i,d,a])),(0,g.U)(([l,u])=>u),(0,V.R)(s)).subscribe(([l,u,m,I])=>{!u||!l||(l.videoId=u,l.cueVideoById({videoId:u,suggestedQuality:I,...m}))})}(a,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),a.connect()}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(e,n){this._player?this._player.seekTo(e,n):this._getPendingState().seek={seconds:e,allowSeekAhead:n}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(e){this._player?this._player.setVolume(e):this._getPendingState().volume=e}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(e){if(this._player)return this._player.setPlaybackRate(e);this._getPendingState().playbackRate=e}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(e,n){const{playbackState:a,playbackRate:s,volume:d,muted:f,seek:c}=n;switch(a){case YT.PlayerState.PLAYING:e.playVideo();break;case YT.PlayerState.PAUSED:e.pauseVideo();break;case YT.PlayerState.CUED:e.stopVideo()}null!=s&&e.setPlaybackRate(s),null!=d&&e.setVolume(d),null!=f&&(f?e.mute():e.unMute()),null!=c&&e.seekTo(c.seconds,c.allowSeekAhead)}_getLazyEmitter(e){return this._playerChanges.pipe((0,Z.w)(n=>n?k(a=>{n.addEventListener(e,a)},a=>{try{n.removeEventListener&&n.removeEventListener(e,a)}catch{}}):(0,P.of)()),n=>new v.y(a=>n.subscribe({next:s=>this._ngZone.run(()=>a.next(s)),error:s=>a.error(s),complete:()=>a.complete()})),(0,V.R)(this._destroyed))}}return t.\u0275fac=function(e){return new(e||t)(o.\u0275\u0275directiveInject(o.NgZone),o.\u0275\u0275directiveInject(o.PLATFORM_ID))},t.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["youtube-player"]],viewQuery:function(e,n){if(1&e&&o.\u0275\u0275viewQuery(te,5),2&e){let a;o.\u0275\u0275queryRefresh(a=o.\u0275\u0275loadQuery())&&(n.youtubeContainer=a.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:"disableCookies",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(e,n){1&e&&o.\u0275\u0275element(0,"div",null,0)},encapsulation:2,changeDetection:0}),t})();function oe(t,[i,e,n]){if(t&&e&&(t.playerVars!==e.playerVars||t.host!==e.host))t.destroy();else{if(!e)return void(t&&t.destroy());if(t)return t}const a=n.runOutsideAngular(()=>new YT.Player(i,e));return a.videoId=e.videoId,a.playerVars=e.playerVars,a.host=e.host,a}function z(t){return"getPlayerStatus"in t}function R(t,i){return(0,C.z)((0,T.M)(t),(0,ee.h)(([e,n])=>i(n,e)),(0,g.U)(([e])=>e))}let ue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=o.\u0275\u0275defineInjector({}),t})(),F=!1;class S{constructor(){}ngOnInit(){if(!F){const i=document.createElement("script");i.src="https://www.youtube.com/iframe_api",document.body.appendChild(i),F=!0}}}S.\u0275fac=function(i){return new(i||S)},S.\u0275cmp=o.\u0275\u0275defineComponent({type:S,selectors:[["app-my-video"]],decls:3,vars:0,consts:[["mat-dialog-title",""],["videoId","kRRspDN4Xwo"]],template:function(i,e){1&i&&(o.\u0275\u0275elementStart(0,"h1",0),o.\u0275\u0275text(1,"My Video"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(2,"youtube-player",1))},dependencies:[_,M.uh]});class p{}p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=o.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=o.\u0275\u0275defineInjector({imports:[ue,M.Is]})}}]);