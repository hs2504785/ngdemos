"use strict";(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[3514],{3514:(N,T,r)=>{r.r(T),r.d(T,{TodosEntityModule:()=>H});var p=r(6019),f=r(9843),s=r(2069),t=r(3668),i=r(9839),d=r(9133);let x=(()=>{class e{constructor(n){this.store=n}ngOnInit(){}addTodo(n){console.log("Todo",n),this.store.dispatch((0,s.ju)({todo:n}))}}return e.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275directiveInject(i.yh))},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["lib-add-todo"]],decls:15,vars:0,consts:[[1,"d-flex","justify-content-between"],[3,"ngSubmit"],["form","ngForm"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","ngModel","","name","title",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","completed","ngModel","","name","completed",1,"form-check-input"],["for","completed",1,"form-check-label"],["type","submit",1,"btn","btn-primary"]],template:function(n,c){if(1&n){const l=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"header",0),t.\u0275\u0275elementStart(1,"h1"),t.\u0275\u0275text(2,"Add todo"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"form",1,2),t.\u0275\u0275listener("ngSubmit",function(){t.\u0275\u0275restoreView(l);const y=t.\u0275\u0275reference(4);return c.addTodo(y.value)}),t.\u0275\u0275elementStart(5,"div",3),t.\u0275\u0275elementStart(6,"label",4),t.\u0275\u0275text(7,"Title"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(8,"input",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",6),t.\u0275\u0275element(10,"input",7),t.\u0275\u0275elementStart(11,"label",8),t.\u0275\u0275text(12,"Completed"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"button",9),t.\u0275\u0275text(14,"Submit"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd()}},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.Wl],styles:[""]}),e})();var b=r(3301),I=r(2808),F=r(2799);const E="entityTodos",u=(0,I.H)({sortComparer:function(e,o){return e.title.localeCompare(o.title)}}),O=u.getInitialState({}),w=(0,i.Lq)(O,(0,i.on)(s.DK,(e,o)=>u.addOne(o.todo,e)),(0,i.on)(s.IX,(e,o)=>u.updateOne(o.todo,e)),(0,i.on)(s.RS,(e,o)=>u.removeOne(o.todoId,e)),(0,i.on)(F.jb,(e,o)=>u.setAll(o.todos,e))),{selectEntities:M,selectAll:$}=u.getSelectors();function V(e,o){return w(e,o)}const v=(0,i.ZF)(E),R=(0,i.P1)(v,$),A=(0,i.P1)(v,M),P=(0,i.ZF)("router"),{selectRouteParams:L}=(0,b.Ug)(P),J=(0,i.P1)(A,L,(e,{id:o})=>e&&e[o]);function B(e,o){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"form",2,3),t.\u0275\u0275listener("ngSubmit",function(){const a=t.\u0275\u0275restoreView(n).ngIf,y=t.\u0275\u0275reference(2);return t.\u0275\u0275nextContext().updateTodo(a,y.value)}),t.\u0275\u0275elementStart(3,"div",4),t.\u0275\u0275elementStart(4,"label",5),t.\u0275\u0275text(5,"Title"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(6,"input",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",7),t.\u0275\u0275element(8,"input",8),t.\u0275\u0275elementStart(9,"label",9),t.\u0275\u0275text(10,"Completed"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"button",10),t.\u0275\u0275text(12,"Submit"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&e){const n=o.ngIf;t.\u0275\u0275advance(6),t.\u0275\u0275property("ngModel",n.title),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngModel",n.completed)}}let K=(()=>{class e{constructor(n){this.store=n}ngOnInit(){this.todo$=this.store.pipe((0,i.Ys)(J))}updateTodo(n,c){const l=Object.assign(Object.assign({},n),c);this.store.dispatch((0,s.IX)({todo:{id:l.id,changes:c}})),console.log("Update ",l)}}return e.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275directiveInject(i.yh))},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["lib-edit-todo"]],decls:5,vars:3,consts:[[1,"d-flex","justify-content-between","mt-2"],[4,"ngIf"],[3,"ngSubmit"],["form","ngForm"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","name","title",1,"form-control",3,"ngModel"],[1,"mb-3","form-check"],["type","checkbox","id","completed","name","completed",1,"form-check-input",3,"ngModel"],["for","completed",1,"form-check-label"],["type","submit",1,"btn","btn-primary"]],template:function(n,c){1&n&&(t.\u0275\u0275elementStart(0,"header",0),t.\u0275\u0275elementStart(1,"h1"),t.\u0275\u0275text(2,"Edit todo"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,B,13,2,"ng-container",1),t.\u0275\u0275pipe(4,"async")),2&n&&(t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(4,1,c.todo$)))},directives:[p.O5,d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.Wl],pipes:[p.Ov],styles:[""]}),e})(),W=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["lib-view-todo"]],decls:2,vars:0,template:function(n,c){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1,"view-todo works!"),t.\u0275\u0275elementEnd())},styles:[""]}),e})();const k=function(e){return["edit",e]};function G(e,o){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"li",9),t.\u0275\u0275elementStart(1,"div",10),t.\u0275\u0275text(2),t.\u0275\u0275elementStart(3,"div"),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"a",11),t.\u0275\u0275element(6,"i",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"i",13),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(n).$implicit;return t.\u0275\u0275nextContext(2).removeTodo(a)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd()}if(2&e){const n=o.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2(" ",n.id," - ",n.title," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("Completed: ",n.completed,""),t.\u0275\u0275advance(1),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction1(4,k,n.id))}}function U(e,o){if(1&e&&(t.\u0275\u0275elementStart(0,"ul",7),t.\u0275\u0275template(1,G,8,6,"li",8),t.\u0275\u0275elementEnd()),2&e){const n=o.ngIf;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n)}}const X=[{path:"",component:(()=>{class e{constructor(n){this.store=n}ngOnInit(){this.todos$=this.store.pipe((0,i.Ys)(R))}removeTodo(n){this.store.dispatch((0,s.iV)({todoId:n.id}))}}return e.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275directiveInject(i.yh))},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["lib-todos-entity"]],decls:12,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-sm-6"],[1,"d-flex","justify-content-between","mb-2"],["routerLink","add",1,"btn","btn-primary","add-todo"],[1,"ti-plus"],["class","list-group",4,"ngIf"],[1,"list-group"],["class","list-group-item d-flex justify-content-between",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between"],[1,"todo"],[3,"routerLink"],[1,"ti-pencil","mr-2"],[1,"ti-trash",3,"click"]],template:function(n,c){1&n&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275elementStart(1,"div",1),t.\u0275\u0275elementStart(2,"div",2),t.\u0275\u0275elementStart(3,"header",3),t.\u0275\u0275elementStart(4,"h1"),t.\u0275\u0275text(5,"Todo List"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"a",4),t.\u0275\u0275element(7,"i",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,U,2,1,"ul",6),t.\u0275\u0275pipe(9,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",2),t.\u0275\u0275element(11,"router-outlet"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(8),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(9,1,c.todos$)))},directives:[f.yS,p.O5,f.lC,p.sg],pipes:[p.Ov],styles:[".add-todo[_ngcontent-%COMP%]{display:flex;align-self:center}.todo[_ngcontent-%COMP%]{flex:1}.ti-trash[_ngcontent-%COMP%]{cursor:pointer;margin-top:2px;margin-left:10px}"]}),e})(),children:[{path:"add",component:x},{path:"edit/:id",component:K},{path:"view/:id",component:W}]}];let Y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=t.\u0275\u0275defineInjector({imports:[[f.Bz.forChild(X)],f.Bz]}),e})();var m=r(2407),h=r(2411),g=r(9204),S=r(8053),C=r(2047),z=r(2745);let D=(()=>{class e{constructor(n,c){this.actions$=n,this.todoService=c,this.editPost$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(s.IX),(0,g.w)(({todo:l})=>{console.log("HERER",l);const a=Object.assign({id:l.id},l.changes);return this.todoService.updateTodo(a)})),{dispatch:!1}),this.createTodo$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(s.ju),(0,g.w)(({todo:l})=>this.todoService.addTodo(l).pipe((0,S.U)(a=>(0,s.DK)({todo:a})),(0,C.K)(()=>(0,h.of)((0,s.$G)())))))),this.deleteEntityTodo$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(s.iV),(0,g.w)(({todoId:l})=>this.todoService.removeTodo(l).pipe((0,S.U)(()=>(0,s.RS)({todoId:l})),(0,C.K)(()=>(0,h.of)((0,s.TV)()))))))}}return e.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275inject(m.eX),t.\u0275\u0275inject(z.w))},e.\u0275prov=t.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})(),H=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=t.\u0275\u0275defineInjector({imports:[[p.ez,d.u5,Y,i.Aw.forFeature(E,V),m.sQ.forFeature([D])]]}),e})()}}]);