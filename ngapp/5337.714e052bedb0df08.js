"use strict";(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[5337],{5337:(z,f,s)=>{s.r(f),s.d(f,{UsersEntityModule:()=>P});var d=s(6019),v=s(9843),m=s(9839),h=s(7847),c=s(9334),x=s(8672),y=s(1552),t=s(3668),U=s(5304);function S(n,i){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",5),t.\u0275\u0275elementStart(1,"div",6),t.\u0275\u0275element(2,"img",7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",8),t.\u0275\u0275elementStart(4,"div"),t.\u0275\u0275elementStart(5,"strong"),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(7,"br"),t.\u0275\u0275elementStart(8,"small"),t.\u0275\u0275text(9),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div"),t.\u0275\u0275elementStart(11,"button",9),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e).$implicit;return t.\u0275\u0275nextContext().editUser(a)}),t.\u0275\u0275element(12,"i",10),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"button",11),t.\u0275\u0275listener("click",function(){const a=t.\u0275\u0275restoreView(e).$implicit;return t.\u0275\u0275nextContext().removeUser(a)}),t.\u0275\u0275element(14,"i",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd()}if(2&n){const e=i.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275property("src",e.avatar,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(e.first_name),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(e.email)}}const $=[{path:"",component:(()=>{class n{constructor(e,o){this.store=e,this.dialog=o}ngOnInit(){this.users$=this.store.pipe((0,m.Ys)(x.vH))}removeUser(e){console.log("Remove user"),this.store.dispatch((0,c.Mb)({id:e.id}))}addUser(){const e=(0,h.m)();e.data={dialogTitle:"Add User",mode:"create"},this.dialog.open(y.L,e)}editUser(e){const o=(0,h.m)();o.data={dialogTitle:"Edit User",user:e,mode:"update"},this.dialog.open(y.L,o).afterClosed().subscribe(r=>{console.log("Closed",r)})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(m.yh),t.\u0275\u0275directiveInject(U.uw))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-users-entity"]],decls:8,vars:3,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","align-self-center",3,"click"],[1,"ti-plus"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","mr-2"],["alt","...",3,"src"],[1,"flex-grow-1","ml-2"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-danger",3,"click"],[1,"ti-trash"]],template:function(e,o){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275elementStart(1,"header",1),t.\u0275\u0275elementStart(2,"h1"),t.\u0275\u0275text(3,"Users List (Entity)"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",2),t.\u0275\u0275listener("click",function(){return o.addUser()}),t.\u0275\u0275element(5,"i",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,S,15,3,"div",4),t.\u0275\u0275pipe(7,"async"),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(6),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(7,1,o.users$)))},directives:[d.sg],pipes:[d.Ov],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px}"],changeDetection:0}),n})()}];let I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[[v.Bz.forChild($)],v.Bz]}),n})();var M=s(138),j=s(8167),F=s(86),R=s(9133),l=s(2407),g=s(2540),u=s(9204),p=s(8053),E=s(2047),L=s(4421),C=s(2411),A=s(4522);let T=(()=>{class n{constructor(e){this.http=e,this.API_URL="https://reqres.in/api/users"}getUsers(){return this.http.get(`${this.API_URL}`).pipe((0,p.U)(e=>e.data))}addUser(e){return this.http.post(`${this.API_URL}`,e)}updateUser(e){return this.http.put(`${this.API_URL}/${e.id}`,e)}removeUser(e){return this.http.delete(`${this.API_URL}/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275inject(A.eN))},n.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O=(()=>{class n{constructor(e,o){this.actions$=e,this.userentitySetvice=o,this.loadEntityUsers$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(c.Ec),(0,u.w)(()=>this.userentitySetvice.getUsers().pipe((0,p.U)(r=>(0,c.vn)({users:r})),(0,E.K)(r=>(0,C.of)((0,c.V6)({error:r}))))))),this.deleteEntityUsers$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(c.Mb),(0,L.zg)(({id:r})=>this.userentitySetvice.removeUser(r))),{dispatch:!1}),this.createStoreUser$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(c.S2),(0,u.w)(({user:r})=>this.userentitySetvice.addUser(r).pipe((0,p.U)(a=>(0,c.SI)({user:a})),(0,E.K)(()=>(0,C.of)((0,c.XI)())))))),this.editEntityUser$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(c.f_),(0,u.w)(({user:r})=>{const a=Object.assign({id:r.id},r.changes);return this.userentitySetvice.updateUser(a)})),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275inject(l.eX),t.\u0275\u0275inject(T))},n.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[[d.ez,I,U.Is,M.c,j.lN,F.ot,R.UX,m.Aw.forFeature(g.YI,g.Jy),l.sQ.forFeature([O])]]}),n})()}}]);