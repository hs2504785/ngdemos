"use strict";(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[6795],{6795:(h,d,r)=>{r.r(d),r.d(d,{WorkersampleModule:()=>a});var p=r(6895),u=r(9116),i=(()=>{return(o=i||(i={}))[o.FIVE_MILLIONS=5e6]="FIVE_MILLIONS",o[o.TEN_MILLIONS=1e7]="TEN_MILLIONS",i;var o})(),e=r(4650);class c{constructor(){}createElement(t){return[...Array(t).keys()]}loop(t){let n=0;const l=[];for(;n<t;n++)l.push(n);return l}}c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=e.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"});class m{constructor(t,n){this.cd=t,this.service=n,this.workerTime=null,this.jsTime=null,this.worker=new Worker(r.tu(new URL(r.p+r.u(684),r.b))),this.worker.onmessage=({data:l})=>{console.log("From Web Worker:",l)}}runWorker(){console.log("Worker in action");const t=performance.now();this.worker.postMessage(i.TEN_MILLIONS);const n=performance.now();this.workerTime=n-t,this.cd.detectChanges()}runThread(){console.log("JS Thread in action");const t=performance.now(),n=this.service.loop(i.TEN_MILLIONS),l=performance.now();this.jsTime=l-t,console.log("From Javascript Thread",n)}}m.\u0275fac=function(t){return new(t||m)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(c))},m.\u0275cmp=e.\u0275\u0275defineComponent({type:m,selectors:[["lib-workersample"]],decls:20,vars:2,consts:[[1,"container"],[1,"btn","btn-info","mr-2",3,"click"],[1,"btn","btn-warning",3,"click"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h1"),e.\u0275\u0275text(2,"Test Web Worker Performance"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",1),e.\u0275\u0275listener("click",function(){return n.runWorker()}),e.\u0275\u0275text(4,"Web Worker"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",2),e.\u0275\u0275listener("click",function(){return n.runThread()}),e.\u0275\u0275text(6," JavaScript Thread "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"hr"),e.\u0275\u0275elementStart(8,"h3"),e.\u0275\u0275text(9,"Result"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div")(11,"h2"),e.\u0275\u0275text(12,"Web Worker"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div")(16,"h2"),e.\u0275\u0275text(17,"JavaScript Thread"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div"),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(14),e.\u0275\u0275textInterpolate1("Web Worker took: ",n.workerTime," ms"),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("JavaScript Thread took: ",n.jsTime," ms"))},changeDetection:0});const f=[{path:"",component:m}];class s{}s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=e.\u0275\u0275defineInjector({imports:[u.Bz.forChild(f),u.Bz]});class a{}a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[p.ez,s]})}}]);