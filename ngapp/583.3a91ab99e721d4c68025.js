(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[583],{7583:(e,t,n)=>{"use strict";n.r(t),n.d(t,{WorkersampleModule:()=>m});var r=n(1116),o=n(766),c=function(e){return e[e.FIVE_MILLIONS=5e6]="FIVE_MILLIONS",e[e.TEN_MILLIONS=1e7]="TEN_MILLIONS",e}({}),a=n(5366);let s=(()=>{class e{constructor(){}createElement(e){return[...Array(e).keys()]}loop(e){let t=0;const n=[];for(;t<e;t++)n.push(t);return n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const i=[{path:"",component:(()=>{class e{constructor(e,t){this.cd=e,this.service=t,this.workerTime=null,this.jsTime=null,this.worker=new Worker(new URL(n.p+n.u(347),n.b)),this.worker.onmessage=({data:e})=>{console.log("From Web Worker:",e)}}runWorker(){console.log("Worker in action");const e=performance.now();this.worker.postMessage(c.TEN_MILLIONS);const t=performance.now();this.workerTime=t-e,this.cd.detectChanges()}runThread(){console.log("JS Thread in action");const e=performance.now(),t=this.service.loop(c.TEN_MILLIONS),n=performance.now();this.jsTime=n-e,console.log("From Javascript Thread",t)}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](a.ChangeDetectorRef),a["\u0275\u0275directiveInject"](s))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["lib-workersample"]],decls:20,vars:2,consts:[[1,"container"],[1,"btn","btn-info","mr-2",3,"click"],[1,"btn","btn-warning",3,"click"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"h1"),a["\u0275\u0275text"](2,"Test Web Worker Performance"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",1),a["\u0275\u0275listener"]("click",function(){return t.runWorker()}),a["\u0275\u0275text"](4,"Web Worker"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"button",2),a["\u0275\u0275listener"]("click",function(){return t.runThread()}),a["\u0275\u0275text"](6," JavaScript Thread "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](7,"hr"),a["\u0275\u0275elementStart"](8,"h3"),a["\u0275\u0275text"](9,"Result"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"div"),a["\u0275\u0275elementStart"](11,"h2"),a["\u0275\u0275text"](12,"Web Worker"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div"),a["\u0275\u0275text"](14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div"),a["\u0275\u0275elementStart"](16,"h2"),a["\u0275\u0275text"](17,"JavaScript Thread"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div"),a["\u0275\u0275text"](19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](14),a["\u0275\u0275textInterpolate1"]("Web Worker took: ",t.workerTime," ms"),a["\u0275\u0275advance"](5),a["\u0275\u0275textInterpolate1"]("JavaScript Thread took: ",t.jsTime," ms"))},styles:[""],changeDetection:0}),e})()}];let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[o.Bz.forChild(i)],o.Bz]}),e})(),m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[r.ez,l]]}),e})()}}]);