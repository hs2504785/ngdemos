"use strict";(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[3532],{3082:(T,U,t)=>{t.r(U),t.d(U,{StoredemoModule:()=>b});var s=t(9808),n=t(5357),r=t(5e3);let c=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(m){return new(m||i)},i.\u0275cmp=r.\u0275\u0275defineComponent({type:i,selectors:[["app-storedemo"]],decls:24,vars:0,consts:[[1,"m-2","d-flex","justify-content-center"],["routerLink","users-store-feature","routerLinkActive","active",1,"btn","btn-outline-info","mr-2"],["routerLink","users-store","routerLinkActive","active",1,"btn","btn-outline-info","mr-2"],["routerLink","users-entity","routerLinkActive","active",1,"btn","btn-outline-warning","mr-2"],["routerLink","users-data","routerLinkActive","active",1,"btn","btn-outline-success","mr-2"],["routerLink","users-ws","routerLinkActive","active",1,"btn","btn-outline-danger","mr-2"],["routerLink","users-service","routerLinkActive","active",1,"btn","btn-outline-primary","mr-2"],["routerLink","users-cs","routerLinkActive","active",1,"btn","btn-outline-success","mr-2"],["routerLink","contacts","routerLinkActive","active",1,"btn","btn-outline-warning","mr-2"],["routerLink","contacts-cs","routerLinkActive","active",1,"btn","btn-outline-primary","mr-2"],["routerLink","csdemo","routerLinkActive","active",1,"btn","btn-outline-danger","mr-2"],["routerLink","users-entity-demo","routerLinkActive","active",1,"btn","btn-outline-warning"]],template:function(m,A){1&m&&(r.\u0275\u0275elementStart(0,"header",0)(1,"a",1),r.\u0275\u0275text(2,"Users Store Feature"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"a",2),r.\u0275\u0275text(4,"Users Store"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"a",3),r.\u0275\u0275text(6,"Users Entity"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(7,"a",4),r.\u0275\u0275text(8,"Users Data"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"a",5),r.\u0275\u0275text(10,"Users WS"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(11,"a",6),r.\u0275\u0275text(12,"Users Service"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(13,"a",7),r.\u0275\u0275text(14,"Users Component Store"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(15,"a",8),r.\u0275\u0275text(16,"Contacts"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(17,"a",9),r.\u0275\u0275text(18,"Contacts CS"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(19,"a",10),r.\u0275\u0275text(20,"Users CS Demo"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(21,"a",11),r.\u0275\u0275text(22,"Users Entity Demo"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275element(23,"router-outlet"))},dependencies:[n.lC,n.yS,n.Od],changeDetection:0}),i})();var e=t(8505),a=t(590),d=t(2544);let g=(()=>{class i{constructor(m){this.userService=m}resolve(m,A){return this.userService.loaded$.pipe((0,e.b)(I=>{I||this.userService.getAll()}),(0,a.P)())}}return i.\u0275fac=function(m){return new(m||i)(r.\u0275\u0275inject(d.$))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var S=t(5620),C=t(9300),f=t(7391),E=t(2245);let D=(()=>{class i{constructor(m){this.store=m}resolve(m,A){return this.store.pipe((0,S.Ys)(E.QQ),(0,e.b)(I=>{I||this.store.dispatch((0,f.wv)())}),(0,C.h)(I=>I),(0,a.P)())}}return i.\u0275fac=function(m){return new(m||i)(r.\u0275\u0275inject(S.yh))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var _=t(5962),v=t(2403);let y=(()=>{class i{constructor(m){this.store=m}resolve(m,A){return this.store.pipe((0,S.Ys)(v.pU),(0,e.b)(I=>{I||this.store.dispatch((0,_.Ec)())}),(0,C.h)(I=>I),(0,a.P)())}}return i.\u0275fac=function(m){return new(m||i)(r.\u0275\u0275inject(S.yh))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var M=t(8630);let F=(()=>{class i{constructor(m){this.userService=m}resolve(m,A){return this.userService.getUsers()}}return i.\u0275fac=function(m){return new(m||i)(r.\u0275\u0275inject(M.K))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var P=t(1883),j=t(3756);let x=(()=>{class i{constructor(m){this.store=m}resolve(m,A){return this.store.pipe((0,S.Ys)(j.gA),(0,e.b)(I=>{I||this.store.dispatch((0,P.zc)())}),(0,C.h)(I=>I),(0,a.P)())}}return i.\u0275fac=function(m){return new(m||i)(r.\u0275\u0275inject(S.yh))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var l=t(6658),h=t(9154);let o=(()=>{class i{constructor(m){this.store=m}resolve(m,A){return this.store.pipe((0,S.Ys)(h.gA),(0,e.b)(I=>{I||this.store.dispatch((0,l.zc)())}),(0,C.h)(I=>I),(0,a.P)())}}return i.\u0275fac=function(m){return new(m||i)(r.\u0275\u0275inject(S.yh))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var u=t(192);const L=[{path:"",component:c,children:[{path:"users-store",loadChildren:()=>Promise.all([t.e(8592),t.e(1519)]).then(t.bind(t,1519)).then(i=>i.UsersStoreModule),resolve:[o]},{path:"users-entity",loadChildren:()=>Promise.all([t.e(8592),t.e(7017)]).then(t.bind(t,7017)).then(i=>i.UsersEntityModule),resolve:[y]},{path:"users-data",loadChildren:()=>Promise.resolve().then(t.bind(t,9615)).then(i=>i.UsersDataModule),resolve:[g]},{path:"users-ws",loadChildren:()=>Promise.resolve().then(t.bind(t,279)).then(i=>i.UsersWsModule),resolve:[(()=>{class i{constructor(m){this.userService=m}resolve(m,A){return this.userService.loaded$.pipe((0,e.b)(I=>{I||this.userService.getAll()}),(0,a.P)())}}return i.\u0275fac=function(m){return new(m||i)(r.\u0275\u0275inject(u.q))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()]},{path:"users-service",loadChildren:()=>t.e(8889).then(t.bind(t,8889)).then(i=>i.UsersDataModule),resolve:{users:F}},{path:"users-cs",loadChildren:()=>Promise.all([t.e(5604),t.e(6251)]).then(t.bind(t,6251)).then(i=>i.UsersCsModule)},{path:"csdemo",loadChildren:()=>Promise.all([t.e(5604),t.e(3480)]).then(t.bind(t,3480)).then(i=>i.CsdemoModule)},{path:"users-entity-demo",loadChildren:()=>Promise.all([t.e(8592),t.e(8531)]).then(t.bind(t,8531)).then(i=>i.UsersEntityDemoModule),resolve:[D]},{path:"users-store-feature",loadChildren:()=>Promise.all([t.e(8592),t.e(9707)]).then(t.bind(t,9707)).then(i=>i.UsersStoreFeatureModule),resolve:[x]},{path:"contacts",loadChildren:()=>Promise.all([t.e(5291),t.e(2742)]).then(t.bind(t,2742)).then(i=>i.ContactsModule)},{path:"contacts-cs",loadChildren:()=>Promise.all([t.e(5291),t.e(900)]).then(t.bind(t,900)).then(i=>i.ContactsCsModule)},{path:"",redirectTo:"users-data",pathMatch:"full"}]},{path:"contacts",loadChildren:()=>Promise.all([t.e(5291),t.e(2742)]).then(t.bind(t,2742)).then(i=>i.ContactsModule)}];let O=(()=>{class i{}return i.\u0275fac=function(m){return new(m||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[n.Bz.forChild(L),n.Bz]}),i})(),b=(()=>{class i{}return i.\u0275fac=function(m){return new(m||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[s.ez,O]}),i})()},2544:(T,U,t)=>{t.d(U,{$:()=>c});var s=t(1753),n=t(9615),r=t(5e3);let c=(()=>{class e extends s.c8{constructor(d){super(n.usersFeatureKey,d)}}return e.\u0275fac=function(d){return new(d||e)(r.\u0275\u0275inject(s.yV))},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},9615:(T,U,t)=>{t.r(U),t.d(U,{UsersDataModule:()=>x,entityMetadata:()=>j,usersFeatureKey:()=>P});var s=t(9808),n=t(5357),r=t(7956),c=t(2349),e=t(5e3),a=t(3075),d=t(2544),g=t(7322),S=t(7531),C=t(7423);let f=(()=>{class l{constructor(o,u,R,L){this.fb=o,this.dialogRef=u,this.userService=L,this.dialogTitle=R.dialogTitle,this.user=R.user,this.mode=R.mode;const O={email:[""],first_name:[""],last_name:[""]};"update"==this.mode?(this.form=this.fb.group(O),this.form.patchValue(Object.assign({},this.user))):"create"==this.mode&&(this.form=this.fb.group(Object.assign({},O)))}onClose(){this.dialogRef.close()}onSave(){const o=Object.assign(Object.assign({},this.user),this.form.value);"update"==this.mode?(console.log("Update User",o),this.userService.update(o),this.dialogRef.close()):"create"==this.mode&&(console.log("Add User",o),o.avatar="https://robohash.org/test?size=128x128",this.userService.add(o,{isOptimistic:!1}),this.dialogRef.close())}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275directiveInject(a.qu),e.\u0275\u0275directiveInject(c.so),e.\u0275\u0275directiveInject(c.WI),e.\u0275\u0275directiveInject(d.$))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-user-data-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","First Name","formControlName","first_name"],["matInput","","placeholder","Last Name","formControlName","last_name"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(o,u){1&o&&(e.\u0275\u0275elementStart(0,"h2",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"mat-dialog-content"),e.\u0275\u0275elementContainerStart(3)(4,1),e.\u0275\u0275elementStart(5,"mat-form-field"),e.\u0275\u0275element(6,"input",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"mat-form-field"),e.\u0275\u0275element(8,"input",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"mat-form-field"),e.\u0275\u0275element(10,"input",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-dialog-actions")(12,"button",5),e.\u0275\u0275listener("click",function(){return u.onClose()}),e.\u0275\u0275text(13,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",6),e.\u0275\u0275listener("click",function(){return u.onSave()}),e.\u0275\u0275text(15,"Save"),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(u.dialogTitle),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",u.form))},dependencies:[c.uh,c.xY,c.H8,g.KE,S.Nt,C.lW,a.Fj,a.JJ,a.JL,a.sg,a.u],changeDetection:0}),l})();function E(l,h){if(1&l){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5)(1,"div",6),e.\u0275\u0275element(2,"img",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",8)(4,"div")(5,"strong"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"br"),e.\u0275\u0275elementStart(8,"small"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div")(11,"button",9),e.\u0275\u0275listener("click",function(){const L=e.\u0275\u0275restoreView(o).$implicit,O=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(O.editUser(L))}),e.\u0275\u0275element(12,"i",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"button",11),e.\u0275\u0275listener("click",function(){const L=e.\u0275\u0275restoreView(o).$implicit,O=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(O.removeUser(L))}),e.\u0275\u0275element(14,"i",12),e.\u0275\u0275elementEnd()()()()}if(2&l){const o=h.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("src",o.avatar,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(o.first_name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(o.email)}}const _=[{path:"",component:(()=>{class l{constructor(o,u){this.userDataService=o,this.dialog=u}ngOnInit(){this.users$=this.userDataService.entities$}removeUser(o){console.log("Remove user"),this.userDataService.delete(o)}addUser(){const o=(0,r.m)();o.data={dialogTitle:"Add User",mode:"create"},this.dialog.open(f,o)}editUser(o){const u=(0,r.m)();u.data={dialogTitle:"Edit User",user:o,mode:"update"},this.dialog.open(f,u).afterClosed().subscribe(R=>{console.log("Closed",R)})}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275directiveInject(d.$),e.\u0275\u0275directiveInject(c.uw))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-users-data"]],decls:8,vars:3,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","align-self-center",3,"click"],[1,"ti-plus"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","mr-2"],["alt","...",3,"src"],[1,"flex-grow-1","ml-2"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-danger",3,"click"],[1,"ti-trash"]],template:function(o,u){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"header",1)(2,"h1"),e.\u0275\u0275text(3,"Users List (Data)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return u.addUser()}),e.\u0275\u0275element(5,"i",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(6,E,15,3,"div",4),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(7,1,u.users$)))},dependencies:[s.sg,s.Ov],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px}"],changeDetection:0}),l})()}];let v=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[n.Bz.forChild(_),n.Bz]}),l})();var y=t(1753),M=t(520);let F=(()=>{class l extends y.EJ{constructor(o,u){super(P,o,u),this.API_URL="https://hksocket.herokuapp.com/users"}getAll(){return this.http.get(`${this.API_URL}`)}add(o){return this.http.post(`${this.API_URL}`,o)}update(o){return this.http.put(`${this.API_URL}/${o.id}`,o.changes)}delete(o){return this.http.delete(`${this.API_URL}/${o}`)}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275inject(M.eN),e.\u0275\u0275inject(y.hR))},l.\u0275prov=e.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const P="users",j={[P]:{entityDispatcherOptions:{optimisticUpdate:!0},selectId:l=>l._id}};let x=(()=>{class l{constructor(o,u,R){this.eds=o,this.entityDataService=u,this.usersDataService=R,this.eds.registerMetadataMap(j),this.entityDataService.registerService(P,this.usersDataService)}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275inject(y.f0),e.\u0275\u0275inject(y.sP),e.\u0275\u0275inject(F))},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.ez,v,c.Is,S.c,g.lN,C.ot,a.UX]}),l})()},7391:(T,U,t)=>{t.d(U,{zr:()=>a,jU:()=>g,FM:()=>d,m_:()=>C,kS:()=>S,wv:()=>r,UO:()=>e,hz:()=>c,pk:()=>f});var s=t(5620),n=(()=>{return(E=n||(n={})).GET_ENTITY_USERS="[User Entity Resolver] Get Users",E.GET_ENTITY_USERS_SUCCESS="[User Entity Effect] Get Users success",E.GET_ENTITY_USERS_FAILURE="[User Entity Effect] Get Users failure",E.ADD_ENTITY_USER="[User Entity Component] Add User",E.ADD_ENTITY_USER_SUCCESS="[User Entity Component] Add User success",E.ADD_ENTITY_USER_FAILURE="[User Entity Component] Add User failure",E.EDIT_ENTITY_USER="[Edit Entity User Component] Edit User",E.EDIT_ENTITY_USER_SUCCESS="[Edit Entity User Component] Edit User success",E.EDIT_ENTITY_USER_FAILURE="[Edit Entity User Component] Edit User failure",E.DELETE_ENTITY_USER="[User Entity Component] Delete User",E.DELETE_ENTITY_USER_SUCCESS="[User Entity Component] Delete User success",E.DELETE_ENTITY_USER_FAILURE="[User Entity Component] Delete User failure",E.SET_USER_ID="[One Component] Set User Id",n;var E})();const r=(0,s.PH)(n.GET_ENTITY_USERS),c=(0,s.PH)(n.GET_ENTITY_USERS_SUCCESS,(0,s.Ky)()),e=(0,s.PH)(n.GET_ENTITY_USERS_FAILURE,(0,s.Ky)()),a=(0,s.PH)(n.ADD_ENTITY_USER,(0,s.Ky)()),d=(0,s.PH)(n.ADD_ENTITY_USER_SUCCESS,(0,s.Ky)()),g=(0,s.PH)(n.ADD_ENTITY_USER_FAILURE),S=(0,s.PH)(n.EDIT_ENTITY_USER,(0,s.Ky)()),C=(0,s.PH)(n.DELETE_ENTITY_USER,(0,s.Ky)()),f=(0,s.PH)(n.SET_USER_ID,(0,s.Ky)())},6728:(T,U,t)=>{t.d(U,{K9:()=>c,NV:()=>d,OR:()=>S,td:()=>C});var s=t(5685),n=t(5620),r=t(7391);const c="userEntityDemo",e=(0,s.H)({}),a=e.getInitialState({loaded:!1,selectedUserId:1}),d=(0,n.Lq)(a,(0,n.on)(r.hz,(E,D)=>e.setAll(D.users,Object.assign(Object.assign({},E),{loaded:!0}))),(0,n.on)(r.FM,(E,D)=>e.addOne(D.user,E)),(0,n.on)(r.kS,(E,D)=>e.updateOne(D.user,E)),(0,n.on)(r.m_,(E,D)=>e.removeOne(D.id,E)),(0,n.on)(r.pk,(E,D)=>Object.assign(Object.assign({},E),{selectedUserId:D.id}))),{selectEntities:S,selectAll:C}=e.getSelectors()},2245:(T,U,t)=>{t.d(U,{Fp:()=>c,J9:()=>a,Ls:()=>S,QQ:()=>C,aU:()=>e});var s=t(5620),n=t(6728);const r=(0,s.ZF)(n.K9),c=(0,s.P1)(r,n.td),e=(0,s.P1)(c,f=>f.length),a=(0,s.P1)(c,f=>f.slice(0,3)),d=(0,s.P1)(r,n.OR),g=(0,s.P1)(r,f=>f.selectedUserId),S=(0,s.P1)(d,g,(f,E)=>f[E]),C=(0,s.P1)(r,f=>f.loaded)},5962:(T,U,t)=>{t.d(U,{S2:()=>a,XI:()=>g,SI:()=>d,Mb:()=>C,f_:()=>S,Ec:()=>r,V6:()=>e,vn:()=>c});var s=t(5620),n=(()=>{return(f=n||(n={})).GET_ENTITY_USERS="[User Entity Resolver] Get Users",f.GET_ENTITY_USERS_SUCCESS="[User Entity Effect] Get Users success",f.GET_ENTITY_USERS_FAILURE="[User Entity Effect] Get Users failure",f.ADD_ENTITY_USER="[User Entity Component] Add User",f.ADD_ENTITY_USER_SUCCESS="[User Entity Component] Add User success",f.ADD_ENTITY_USER_FAILURE="[User Entity Component] Add User failure",f.EDIT_ENTITY_USER="[Edit Entity User Component] Edit User",f.EDIT_ENTITY_USER_SUCCESS="[Edit Entity User Component] Edit User success",f.EDIT_ENTITY_USER_FAILURE="[Edit Entity User Component] Edit User failure",f.DELETE_ENTITY_USER="[User Entity Component] Delete User",f.DELETE_ENTITY_USER_SUCCESS="[User Entity Component] Delete User success",f.DELETE_ENTITY_USER_FAILURE="[User Entity Component] Delete User failure",n;var f})();const r=(0,s.PH)(n.GET_ENTITY_USERS),c=(0,s.PH)(n.GET_ENTITY_USERS_SUCCESS,(0,s.Ky)()),e=(0,s.PH)(n.GET_ENTITY_USERS_FAILURE,(0,s.Ky)()),a=(0,s.PH)(n.ADD_ENTITY_USER,(0,s.Ky)()),d=(0,s.PH)(n.ADD_ENTITY_USER_SUCCESS,(0,s.Ky)()),g=(0,s.PH)(n.ADD_ENTITY_USER_FAILURE),S=(0,s.PH)(n.EDIT_ENTITY_USER,(0,s.Ky)()),C=(0,s.PH)(n.DELETE_ENTITY_USER,(0,s.Ky)())},5218:(T,U,t)=>{t.d(U,{Jy:()=>d,OR:()=>S,YI:()=>c,td:()=>C});var s=t(5685),n=t(5620),r=t(5962);const c="userEntity",e=(0,s.H)({}),a=e.getInitialState({loaded:!1}),d=(0,n.Lq)(a,(0,n.on)(r.vn,(E,D)=>e.setAll(D.users,Object.assign(Object.assign({},E),{loaded:!0}))),(0,n.on)(r.SI,(E,D)=>e.addOne(D.user,E)),(0,n.on)(r.f_,(E,D)=>e.updateOne(D.user,E)),(0,n.on)(r.Mb,(E,D)=>e.removeOne(D.id,E))),{selectEntities:S,selectAll:C}=e.getSelectors()},2403:(T,U,t)=>{t.d(U,{pU:()=>a,vH:()=>c});var s=t(5620),n=t(5218);const r=(0,s.ZF)(n.YI),c=(0,s.P1)(r,n.td),a=((0,s.P1)(r,n.OR),(0,s.P1)(r,d=>d.loaded))},8630:(T,U,t)=>{t.d(U,{K:()=>c});var s=t(4004),n=t(5e3),r=t(520);let c=(()=>{class e{constructor(d){this.http=d,this.API_URL="https://reqres.in/api/users"}getUsers(){return this.http.get(`${this.API_URL}`).pipe((0,s.U)(d=>d.data))}addUser(d){return this.http.post(`${this.API_URL}`,d)}updateUser(d){return this.http.put(`${this.API_URL}/${d.id}`,d)}removeUser(d){return this.http.delete(`${this.API_URL}/${d}`)}}return e.\u0275fac=function(d){return new(d||e)(n.\u0275\u0275inject(r.eN))},e.\u0275prov=n.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},1883:(T,U,t)=>{t.d(U,{Dx:()=>a,Ls:()=>g,Kz:()=>d,Fp:()=>E,ru:()=>_,yc:()=>D,d0:()=>S,ox:()=>f,U7:()=>C,zc:()=>r,aA:()=>e,IU:()=>c});var s=t(5620),n=(()=>{return(v=n||(n={})).GET_STORE_USERS="[User Store Resolver] Get Users",v.GET_STORE_USERS_SUCCESS="[User Store Effect] Get Users success",v.GET_STORE_USERS_FAILURE="[User Store Effect] Get Users failure",v.ADD_STORE_USER="[User Store Component] Add User",v.ADD_STORE_USER_SUCCESS="[User Store Component] Add User success",v.ADD_STORE_USER_FAILURE="[User Store Component] Add User failure",v.EDIT_STORE_USER="[Edit Store User Component] Edit User",v.EDIT_STORE_USER_SUCCESS="[Edit Store User Component] Edit User success",v.EDIT_STORE_USER_FAILURE="[Edit Store User Component] Edit User failure",v.DELETE_STORE_USER="[User Store Component] Delete User",v.DELETE_STORE_USER_SUCCESS="[User Store Component] Delete User success",v.DELETE_STORE_USER_FAILURE="[User Store Component] Delete User failure",n;var v})();const r=(0,s.PH)(n.GET_STORE_USERS),c=(0,s.PH)(n.GET_STORE_USERS_SUCCESS,(0,s.Ky)()),e=(0,s.PH)(n.GET_STORE_USERS_FAILURE,(0,s.Ky)()),a=(0,s.PH)(n.ADD_STORE_USER,(0,s.Ky)()),d=(0,s.PH)(n.ADD_STORE_USER_SUCCESS,(0,s.Ky)()),g=(0,s.PH)(n.ADD_STORE_USER_FAILURE),S=(0,s.PH)(n.EDIT_STORE_USER,(0,s.Ky)()),C=(0,s.PH)(n.EDIT_STORE_USER_SUCCESS,(0,s.Ky)()),f=(0,s.PH)(n.EDIT_STORE_USER_FAILURE),E=(0,s.PH)(n.DELETE_STORE_USER,(0,s.Ky)()),D=(0,s.PH)(n.DELETE_STORE_USER_SUCCESS),_=(0,s.PH)(n.DELETE_STORE_USER_SUCCESS)},4534:(T,U,t)=>{t.d(U,{N3:()=>e});var s=t(5620),n=t(1883);const e=(0,s.Tz)({name:"usersStoreFeature",reducer:(0,s.Lq)({data:null,error:null,isLoading:!1,loaded:!1},(0,s.on)(n.zc,a=>Object.assign(Object.assign({},a),{isLoading:!0})),(0,s.on)(n.IU,(a,d)=>Object.assign(Object.assign({},a),{isLoading:!1,data:d.users,loaded:!0})),(0,s.on)(n.aA,(a,d)=>Object.assign(Object.assign({},a),{isLoading:!1})),(0,s.on)(n.Dx,a=>Object.assign(Object.assign({},a),{isLoading:!0})),(0,s.on)(n.Kz,(a,d)=>Object.assign(Object.assign({},a),{isLoading:!1,data:[d.user,...a.data]})),(0,s.on)(n.Ls,a=>Object.assign(Object.assign({},a),{isLoading:!1})),(0,s.on)(n.d0,a=>Object.assign(Object.assign({},a),{isLoading:!0})),(0,s.on)(n.U7,(a,d)=>{const g=a.data.map(S=>S.id===d.user.id?d.user:S);return Object.assign(Object.assign({},a),{isLoading:!1,data:g})}),(0,s.on)(n.ox,a=>Object.assign(Object.assign({},a),{isLoading:!1})),(0,s.on)(n.Fp,(a,d)=>{const g=a.data.filter(S=>S.id!==d.id);return Object.assign(Object.assign({},a),{data:g})}),(0,s.on)(n.yc,a=>Object.assign(Object.assign({},a),{isLoading:!1})),(0,s.on)(n.ru,a=>Object.assign(Object.assign({},a),{isLoading:!1})))})},3756:(T,U,t)=>{t.d(U,{gA:()=>c,zE:()=>r});var s=t(4534);const{selectData:r,selectLoaded:c}=s.N3},6658:(T,U,t)=>{t.d(U,{Dx:()=>a,Ls:()=>g,Kz:()=>d,Fp:()=>E,ru:()=>_,yc:()=>D,d0:()=>S,ox:()=>f,U7:()=>C,zc:()=>r,aA:()=>e,IU:()=>c});var s=t(5620),n=(()=>{return(v=n||(n={})).GET_STORE_USERS="[User Store Resolver] Get Users",v.GET_STORE_USERS_SUCCESS="[User Store Effect] Get Users success",v.GET_STORE_USERS_FAILURE="[User Store Effect] Get Users failure",v.ADD_STORE_USER="[User Store Component] Add User",v.ADD_STORE_USER_SUCCESS="[User Store Component] Add User success",v.ADD_STORE_USER_FAILURE="[User Store Component] Add User failure",v.EDIT_STORE_USER="[Edit Store User Component] Edit User",v.EDIT_STORE_USER_SUCCESS="[Edit Store User Component] Edit User success",v.EDIT_STORE_USER_FAILURE="[Edit Store User Component] Edit User failure",v.DELETE_STORE_USER="[User Store Component] Delete User",v.DELETE_STORE_USER_SUCCESS="[User Store Component] Delete User success",v.DELETE_STORE_USER_FAILURE="[User Store Component] Delete User failure",n;var v})();const r=(0,s.PH)(n.GET_STORE_USERS),c=(0,s.PH)(n.GET_STORE_USERS_SUCCESS,(0,s.Ky)()),e=(0,s.PH)(n.GET_STORE_USERS_FAILURE,(0,s.Ky)()),a=(0,s.PH)(n.ADD_STORE_USER,(0,s.Ky)()),d=(0,s.PH)(n.ADD_STORE_USER_SUCCESS,(0,s.Ky)()),g=(0,s.PH)(n.ADD_STORE_USER_FAILURE),S=(0,s.PH)(n.EDIT_STORE_USER,(0,s.Ky)()),C=(0,s.PH)(n.EDIT_STORE_USER_SUCCESS,(0,s.Ky)()),f=(0,s.PH)(n.EDIT_STORE_USER_FAILURE),E=(0,s.PH)(n.DELETE_STORE_USER,(0,s.Ky)()),D=(0,s.PH)(n.DELETE_STORE_USER_SUCCESS),_=(0,s.PH)(n.DELETE_STORE_USER_SUCCESS)},4303:(T,U,t)=>{t.d(U,{GH:()=>r,wq:()=>e});var s=t(5620),n=t(6658);const r="userStore",e=(0,s.Lq)({data:null,isLoading:!1,error:null,loaded:!1},(0,s.on)(n.zc,a=>Object.assign(Object.assign({},a),{isLoading:!0})),(0,s.on)(n.IU,(a,d)=>Object.assign(Object.assign({},a),{isLoading:!1,data:d.users,loaded:!0})),(0,s.on)(n.aA,(a,d)=>Object.assign(Object.assign({},a),{isLoading:!1})),(0,s.on)(n.Dx,a=>Object.assign(Object.assign({},a),{isLoading:!0})),(0,s.on)(n.Kz,(a,d)=>Object.assign(Object.assign({},a),{isLoading:!1,data:[d.user,...a.data]})),(0,s.on)(n.Ls,a=>Object.assign(Object.assign({},a),{isLoading:!1})),(0,s.on)(n.d0,a=>Object.assign(Object.assign({},a),{isLoading:!0})),(0,s.on)(n.U7,(a,d)=>{const g=a.data.map(S=>S.id===d.user.id?d.user:S);return Object.assign(Object.assign({},a),{isLoading:!1,data:g})}),(0,s.on)(n.ox,a=>Object.assign(Object.assign({},a),{isLoading:!1})),(0,s.on)(n.Fp,(a,d)=>{const g=a.data.filter(S=>S.id!==d.id);return Object.assign(Object.assign({},a),{data:g})}),(0,s.on)(n.yc,a=>Object.assign(Object.assign({},a),{isLoading:!1})),(0,s.on)(n.ru,a=>Object.assign(Object.assign({},a),{isLoading:!1})))},9154:(T,U,t)=>{t.d(U,{gA:()=>e,zE:()=>c});var s=t(5620),n=t(4303);const r=(0,s.ZF)(n.GH),c=(0,s.P1)(r,a=>a.data),e=(0,s.P1)(r,a=>a.loaded)},192:(T,U,t)=>{t.d(U,{q:()=>c});var s=t(1753),n=t(279),r=t(5e3);let c=(()=>{class e extends s.c8{constructor(d){super(n.usersWsFeatureKey,d)}}return e.\u0275fac=function(d){return new(d||e)(r.\u0275\u0275inject(s.yV))},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},279:(T,U,t)=>{t.r(U),t.d(U,{UsersWsModule:()=>x,entityMetadata:()=>j,usersWsFeatureKey:()=>P});var s=t(9808),n=t(5357),r=t(7956),c=t(2349),e=t(5e3),a=t(3075),d=t(192),g=t(7322),S=t(7531),C=t(7423);let f=(()=>{class l{constructor(o,u,R,L){this.fb=o,this.dialogRef=u,this.userService=L,this.dialogTitle=R.dialogTitle,this.user=R.user,this.mode=R.mode;const O={email:[""],first_name:[""],last_name:[""]};"update"==this.mode?(this.form=this.fb.group(O),this.form.patchValue(Object.assign({},this.user))):"create"==this.mode&&(this.form=this.fb.group(Object.assign({},O)))}onClose(){this.dialogRef.close()}onSave(){const o=Object.assign(Object.assign({},this.user),this.form.value);"update"==this.mode?(console.log("Update User",o),this.userService.update(o),this.dialogRef.close()):"create"==this.mode&&(console.log("Add User",o),o.avatar="https://robohash.org/test?size=128x128",this.userService.add(o,{isOptimistic:!1}),this.dialogRef.close())}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275directiveInject(a.qu),e.\u0275\u0275directiveInject(c.so),e.\u0275\u0275directiveInject(c.WI),e.\u0275\u0275directiveInject(d.q))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-user-data-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","First Name","formControlName","first_name"],["matInput","","placeholder","Last Name","formControlName","last_name"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(o,u){1&o&&(e.\u0275\u0275elementStart(0,"h2",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"mat-dialog-content"),e.\u0275\u0275elementContainerStart(3)(4,1),e.\u0275\u0275elementStart(5,"mat-form-field"),e.\u0275\u0275element(6,"input",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"mat-form-field"),e.\u0275\u0275element(8,"input",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"mat-form-field"),e.\u0275\u0275element(10,"input",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-dialog-actions")(12,"button",5),e.\u0275\u0275listener("click",function(){return u.onClose()}),e.\u0275\u0275text(13,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",6),e.\u0275\u0275listener("click",function(){return u.onSave()}),e.\u0275\u0275text(15,"Save"),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(u.dialogTitle),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",u.form))},dependencies:[c.uh,c.xY,c.H8,g.KE,S.Nt,C.lW,a.Fj,a.JJ,a.JL,a.sg,a.u],changeDetection:0}),l})();function E(l,h){if(1&l){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5)(1,"div",6),e.\u0275\u0275element(2,"img",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",8)(4,"div")(5,"strong"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"br"),e.\u0275\u0275elementStart(8,"small"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div")(11,"button",9),e.\u0275\u0275listener("click",function(){const L=e.\u0275\u0275restoreView(o).$implicit,O=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(O.editUser(L))}),e.\u0275\u0275element(12,"i",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"button",11),e.\u0275\u0275listener("click",function(){const L=e.\u0275\u0275restoreView(o).$implicit,O=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(O.removeUser(L))}),e.\u0275\u0275element(14,"i",12),e.\u0275\u0275elementEnd()()()()}if(2&l){const o=h.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("src",o.avatar,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(o.first_name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(o.email)}}const _=[{path:"",component:(()=>{class l{constructor(o,u){this.userDataService=o,this.dialog=u}ngOnInit(){this.users$=this.userDataService.entities$}removeUser(o){console.log("Remove user"),this.userDataService.delete(o)}addUser(){const o=(0,r.m)();o.data={dialogTitle:"Add User",mode:"create"},this.dialog.open(f,o)}editUser(o){const u=(0,r.m)();u.data={dialogTitle:"Edit User",user:o,mode:"update"},this.dialog.open(f,u).afterClosed().subscribe(R=>{console.log("Closed",R)})}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275directiveInject(d.q),e.\u0275\u0275directiveInject(c.uw))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-users-ws"]],decls:8,vars:3,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","align-self-center",3,"click"],[1,"ti-plus"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","mr-2"],["alt","...",3,"src"],[1,"flex-grow-1","ml-2"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-danger",3,"click"],[1,"ti-trash"]],template:function(o,u){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"header",1)(2,"h1"),e.\u0275\u0275text(3,"Users List (Data)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return u.addUser()}),e.\u0275\u0275element(5,"i",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(6,E,15,3,"div",4),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(7,1,u.users$)))},dependencies:[s.sg,s.Ov],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px}"],changeDetection:0}),l})()}];let v=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[n.Bz.forChild(_),n.Bz]}),l})();var y=t(1753),M=t(520);let F=(()=>{class l extends y.EJ{constructor(o,u){super(P,o,u),this.API_URL="https://hksocket.herokuapp.com/users"}getAll(){return this.http.get(`${this.API_URL}`)}add(o){return this.http.post(`${this.API_URL}`,o)}update(o){return this.http.put(`${this.API_URL}/${o.id}`,o.changes)}delete(o){return this.http.delete(`${this.API_URL}/${o}`)}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275inject(M.eN),e.\u0275\u0275inject(y.hR))},l.\u0275prov=e.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const P="users",j={[P]:{entityDispatcherOptions:{optimisticUpdate:!0},selectId:l=>l._id}};let x=(()=>{class l{constructor(o,u,R){this.eds=o,this.entityDataService=u,this.usersDataService=R,this.eds.registerMetadataMap(j),this.entityDataService.registerService(P,this.usersDataService)}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275inject(y.f0),e.\u0275\u0275inject(y.sP),e.\u0275\u0275inject(F))},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.ez,v,c.Is,S.c,g.lN,C.ot,a.UX]}),l})()}}]);