"use strict";(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[3532],{3082:(g,f,t)=>{t.r(f),t.d(f,{StoredemoModule:()=>x});var s=t(6895),n=t(9116),r=t(4650);class i{constructor(){}ngOnInit(){}}i.\u0275fac=function(m){return new(m||i)},i.\u0275cmp=r.\u0275\u0275defineComponent({type:i,selectors:[["app-storedemo"]],decls:24,vars:0,consts:[[1,"m-2","d-flex","justify-content-center"],["routerLink","users-store-feature","routerLinkActive","active",1,"btn","btn-outline-info","mr-2"],["routerLink","users-store","routerLinkActive","active",1,"btn","btn-outline-info","mr-2"],["routerLink","users-entity","routerLinkActive","active",1,"btn","btn-outline-warning","mr-2"],["routerLink","users-data","routerLinkActive","active",1,"btn","btn-outline-success","mr-2"],["routerLink","users-ws","routerLinkActive","active",1,"btn","btn-outline-danger","mr-2"],["routerLink","users-service","routerLinkActive","active",1,"btn","btn-outline-primary","mr-2"],["routerLink","users-cs","routerLinkActive","active",1,"btn","btn-outline-success","mr-2"],["routerLink","contacts","routerLinkActive","active",1,"btn","btn-outline-warning","mr-2"],["routerLink","contacts-cs","routerLinkActive","active",1,"btn","btn-outline-primary","mr-2"],["routerLink","csdemo","routerLinkActive","active",1,"btn","btn-outline-danger","mr-2"],["routerLink","users-entity-demo","routerLinkActive","active",1,"btn","btn-outline-warning"]],template:function(m,F){1&m&&(r.\u0275\u0275elementStart(0,"header",0)(1,"a",1),r.\u0275\u0275text(2,"Users Store Feature"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"a",2),r.\u0275\u0275text(4,"Users Store"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"a",3),r.\u0275\u0275text(6,"Users Entity"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(7,"a",4),r.\u0275\u0275text(8,"Users Data"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"a",5),r.\u0275\u0275text(10,"Users WS"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(11,"a",6),r.\u0275\u0275text(12,"Users Service"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(13,"a",7),r.\u0275\u0275text(14,"Users Component Store"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(15,"a",8),r.\u0275\u0275text(16,"Contacts"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(17,"a",9),r.\u0275\u0275text(18,"Contacts CS"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(19,"a",10),r.\u0275\u0275text(20,"Users CS Demo"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(21,"a",11),r.\u0275\u0275text(22,"Users Entity Demo"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275element(23,"router-outlet"))},dependencies:[n.lC,n.rH,n.Od],changeDetection:0});var e=t(8505),o=t(590),E=t(2544);class R{constructor(m){this.userService=m}resolve(m,F){return this.userService.loaded$.pipe((0,e.b)(T=>{T||this.userService.getAll()}),(0,o.P)())}}R.\u0275fac=function(m){return new(m||R)(r.\u0275\u0275inject(E.$))},R.\u0275prov=r.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac,providedIn:"root"});var v=t(9653),C=t(9300),d=t(7391),u=t(2245);class U{constructor(m){this.store=m}resolve(m,F){return this.store.pipe((0,v.Ys)(u.QQ),(0,e.b)(T=>{T||this.store.dispatch((0,d.wv)())}),(0,C.h)(T=>T),(0,o.P)())}}U.\u0275fac=function(m){return new(m||U)(r.\u0275\u0275inject(v.yh))},U.\u0275prov=r.\u0275\u0275defineInjectable({token:U,factory:U.\u0275fac,providedIn:"root"});var A=t(5962),S=t(2403);class L{constructor(m){this.store=m}resolve(m,F){return this.store.pipe((0,v.Ys)(S.pU),(0,e.b)(T=>{T||this.store.dispatch((0,A.Ec)())}),(0,C.h)(T=>T),(0,o.P)())}}L.\u0275fac=function(m){return new(m||L)(r.\u0275\u0275inject(v.yh))},L.\u0275prov=r.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac,providedIn:"root"});var K=t(8630);class p{constructor(m){this.userService=m}resolve(m,F){return this.userService.getUsers()}}p.\u0275fac=function(m){return new(m||p)(r.\u0275\u0275inject(K.K))},p.\u0275prov=r.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"});var O=t(1883),M=t(3756);class I{constructor(m){this.store=m}resolve(m,F){return this.store.pipe((0,v.Ys)(M.gA),(0,e.b)(T=>{T||this.store.dispatch((0,O.zc)())}),(0,C.h)(T=>T),(0,o.P)())}}I.\u0275fac=function(m){return new(m||I)(r.\u0275\u0275inject(v.yh))},I.\u0275prov=r.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"});var h=t(4257),a=t(9154);class l{constructor(m){this.store=m}resolve(m,F){return this.store.pipe((0,v.Ys)(a.gA),(0,e.b)(T=>{T||this.store.dispatch((0,h.zc)())}),(0,C.h)(T=>T),(0,o.P)())}}l.\u0275fac=function(m){return new(m||l)(r.\u0275\u0275inject(v.yh))},l.\u0275prov=r.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"});var D=t(192);class P{constructor(m){this.userService=m}resolve(m,F){return this.userService.loaded$.pipe((0,e.b)(T=>{T||this.userService.getAll()}),(0,o.P)())}}P.\u0275fac=function(m){return new(m||P)(r.\u0275\u0275inject(D.q))},P.\u0275prov=r.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"});const y=[{path:"",component:i,children:[{path:"users-store",loadChildren:()=>Promise.all([t.e(8592),t.e(1519)]).then(t.bind(t,1519)).then(c=>c.UsersStoreModule),resolve:[l]},{path:"users-entity",loadChildren:()=>Promise.all([t.e(8592),t.e(7017)]).then(t.bind(t,7017)).then(c=>c.UsersEntityModule),resolve:[L]},{path:"users-data",loadChildren:()=>Promise.resolve().then(t.bind(t,9615)).then(c=>c.UsersDataModule),resolve:[R]},{path:"users-ws",loadChildren:()=>Promise.resolve().then(t.bind(t,279)).then(c=>c.UsersWsModule),resolve:[P]},{path:"users-service",loadChildren:()=>t.e(8889).then(t.bind(t,8889)).then(c=>c.UsersDataModule),resolve:{users:p}},{path:"users-cs",loadChildren:()=>Promise.all([t.e(5604),t.e(6251)]).then(t.bind(t,6251)).then(c=>c.UsersCsModule)},{path:"csdemo",loadChildren:()=>Promise.all([t.e(5604),t.e(3480)]).then(t.bind(t,3480)).then(c=>c.CsdemoModule)},{path:"users-entity-demo",loadChildren:()=>Promise.all([t.e(8592),t.e(8531)]).then(t.bind(t,8531)).then(c=>c.UsersEntityDemoModule),resolve:[U]},{path:"users-store-feature",loadChildren:()=>Promise.all([t.e(8592),t.e(9707)]).then(t.bind(t,9707)).then(c=>c.UsersStoreFeatureModule),resolve:[I]},{path:"contacts",loadChildren:()=>Promise.all([t.e(7148),t.e(2742)]).then(t.bind(t,2742)).then(c=>c.ContactsModule)},{path:"contacts-cs",loadChildren:()=>Promise.all([t.e(7148),t.e(1206)]).then(t.bind(t,1206)).then(c=>c.ContactsCsModule)},{path:"",redirectTo:"users-data",pathMatch:"full"}]},{path:"contacts",loadChildren:()=>Promise.all([t.e(7148),t.e(2742)]).then(t.bind(t,2742)).then(c=>c.ContactsModule)}];class _{}_.\u0275fac=function(m){return new(m||_)},_.\u0275mod=r.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=r.\u0275\u0275defineInjector({imports:[n.Bz.forChild(y),n.Bz]});class x{}x.\u0275fac=function(m){return new(m||x)},x.\u0275mod=r.\u0275\u0275defineNgModule({type:x}),x.\u0275inj=r.\u0275\u0275defineInjector({imports:[s.ez,_]})},2544:(g,f,t)=>{t.d(f,{$:()=>i});var s=t(4169),n=t(9615),r=t(4650);class i extends s.c8{constructor(o){super(n.usersFeatureKey,o)}}i.\u0275fac=function(o){return new(o||i)(r.\u0275\u0275inject(s.yV))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})},9615:(g,f,t)=>{t.r(f),t.d(f,{UsersDataModule:()=>I,entityMetadata:()=>M,usersFeatureKey:()=>O});var s=t(6895),n=t(9116),r=t(7956),i=t(6325),e=t(4650),o=t(4006),E=t(2544),R=t(4144),v=t(9549),C=t(4859);class d{constructor(a,l,D,P){this.fb=a,this.dialogRef=l,this.userService=P,this.dialogTitle=D.dialogTitle,this.user=D.user,this.mode=D.mode;const y={email:[""],first_name:[""],last_name:[""]};"update"==this.mode?(this.form=this.fb.group(y),this.form.patchValue({...this.user})):"create"==this.mode&&(this.form=this.fb.group({...y}))}onClose(){this.dialogRef.close()}onSave(){const a={...this.user,...this.form.value};"update"==this.mode?(console.log("Update User",a),this.userService.update(a),this.dialogRef.close()):"create"==this.mode&&(console.log("Add User",a),a.avatar="https://robohash.org/test?size=128x128",this.userService.add(a,{isOptimistic:!1}),this.dialogRef.close())}}function u(h,a){if(1&h){const l=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5)(1,"div",6),e.\u0275\u0275element(2,"img",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",8)(4,"div")(5,"strong"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"br"),e.\u0275\u0275elementStart(8,"small"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div")(11,"button",9),e.\u0275\u0275listener("click",function(){const y=e.\u0275\u0275restoreView(l).$implicit,_=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(_.editUser(y))}),e.\u0275\u0275element(12,"i",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"button",11),e.\u0275\u0275listener("click",function(){const y=e.\u0275\u0275restoreView(l).$implicit,_=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(_.removeUser(y))}),e.\u0275\u0275element(14,"i",12),e.\u0275\u0275elementEnd()()()()}if(2&h){const l=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("src",l.avatar,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(l.first_name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(l.email)}}d.\u0275fac=function(a){return new(a||d)(e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(i.so),e.\u0275\u0275directiveInject(i.WI),e.\u0275\u0275directiveInject(E.$))},d.\u0275cmp=e.\u0275\u0275defineComponent({type:d,selectors:[["app-user-data-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","First Name","formControlName","first_name"],["matInput","","placeholder","Last Name","formControlName","last_name"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(a,l){1&a&&(e.\u0275\u0275elementStart(0,"h2",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"mat-dialog-content"),e.\u0275\u0275elementContainerStart(3)(4,1),e.\u0275\u0275elementStart(5,"mat-form-field"),e.\u0275\u0275element(6,"input",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"mat-form-field"),e.\u0275\u0275element(8,"input",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"mat-form-field"),e.\u0275\u0275element(10,"input",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-dialog-actions")(12,"button",5),e.\u0275\u0275listener("click",function(){return l.onClose()}),e.\u0275\u0275text(13,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",6),e.\u0275\u0275listener("click",function(){return l.onSave()}),e.\u0275\u0275text(15,"Save"),e.\u0275\u0275elementEnd()()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(l.dialogTitle),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",l.form))},dependencies:[i.uh,i.xY,i.H8,R.Nt,v.KE,C.lW,o.Fj,o.JJ,o.JL,o.sg,o.u],changeDetection:0});class U{constructor(a,l){this.userDataService=a,this.dialog=l}ngOnInit(){this.users$=this.userDataService.entities$}removeUser(a){console.log("Remove user"),this.userDataService.delete(a)}addUser(){const a=(0,r.m)();a.data={dialogTitle:"Add User",mode:"create"},this.dialog.open(d,a)}editUser(a){const l=(0,r.m)();l.data={dialogTitle:"Edit User",user:a,mode:"update"},this.dialog.open(d,l).afterClosed().subscribe(D=>{console.log("Closed",D)})}}U.\u0275fac=function(a){return new(a||U)(e.\u0275\u0275directiveInject(E.$),e.\u0275\u0275directiveInject(i.uw))},U.\u0275cmp=e.\u0275\u0275defineComponent({type:U,selectors:[["app-users-data"]],decls:8,vars:3,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","align-self-center",3,"click"],[1,"ti-plus"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","mr-2"],["alt","...",3,"src"],[1,"flex-grow-1","ml-2"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-danger",3,"click"],[1,"ti-trash"]],template:function(a,l){1&a&&(e.\u0275\u0275elementStart(0,"div",0)(1,"header",1)(2,"h1"),e.\u0275\u0275text(3,"Users List (Data)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return l.addUser()}),e.\u0275\u0275element(5,"i",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(6,u,15,3,"div",4),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(7,1,l.users$)))},dependencies:[s.sg,s.Ov],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px}"],changeDetection:0});const A=[{path:"",component:U}];class S{}S.\u0275fac=function(a){return new(a||S)},S.\u0275mod=e.\u0275\u0275defineNgModule({type:S}),S.\u0275inj=e.\u0275\u0275defineInjector({imports:[n.Bz.forChild(A),n.Bz]});var L=t(4169),K=t(529);class p extends L.EJ{constructor(a,l){super(O,a,l),this.API_URL="https://hksocket.herokuapp.com/users"}getAll(){return this.http.get(`${this.API_URL}`)}add(a){return this.http.post(`${this.API_URL}`,a)}update(a){return this.http.put(`${this.API_URL}/${a.id}`,a.changes)}delete(a){return this.http.delete(`${this.API_URL}/${a}`)}}p.\u0275fac=function(a){return new(a||p)(e.\u0275\u0275inject(K.eN),e.\u0275\u0275inject(L.hR))},p.\u0275prov=e.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"});const O="users",M={[O]:{entityDispatcherOptions:{optimisticUpdate:!0},selectId:h=>h._id}};class I{constructor(a,l,D){this.eds=a,this.entityDataService=l,this.usersDataService=D,this.eds.registerMetadataMap(M),this.entityDataService.registerService(O,this.usersDataService)}}I.\u0275fac=function(a){return new(a||I)(e.\u0275\u0275inject(L.f0),e.\u0275\u0275inject(L.sP),e.\u0275\u0275inject(p))},I.\u0275mod=e.\u0275\u0275defineNgModule({type:I}),I.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.ez,S,i.Is,R.c,v.lN,C.ot,o.UX]})},7391:(g,f,t)=>{t.d(f,{zr:()=>o,jU:()=>R,FM:()=>E,m_:()=>C,kS:()=>v,wv:()=>r,UO:()=>e,hz:()=>i,pk:()=>d});var s=t(9653),n=(()=>{return(u=n||(n={})).GET_ENTITY_USERS="[User Entity Resolver] Get Users",u.GET_ENTITY_USERS_SUCCESS="[User Entity Effect] Get Users success",u.GET_ENTITY_USERS_FAILURE="[User Entity Effect] Get Users failure",u.ADD_ENTITY_USER="[User Entity Component] Add User",u.ADD_ENTITY_USER_SUCCESS="[User Entity Component] Add User success",u.ADD_ENTITY_USER_FAILURE="[User Entity Component] Add User failure",u.EDIT_ENTITY_USER="[Edit Entity User Component] Edit User",u.EDIT_ENTITY_USER_SUCCESS="[Edit Entity User Component] Edit User success",u.EDIT_ENTITY_USER_FAILURE="[Edit Entity User Component] Edit User failure",u.DELETE_ENTITY_USER="[User Entity Component] Delete User",u.DELETE_ENTITY_USER_SUCCESS="[User Entity Component] Delete User success",u.DELETE_ENTITY_USER_FAILURE="[User Entity Component] Delete User failure",u.SET_USER_ID="[One Component] Set User Id",n;var u})();const r=(0,s.PH)(n.GET_ENTITY_USERS),i=(0,s.PH)(n.GET_ENTITY_USERS_SUCCESS,(0,s.Ky)()),e=(0,s.PH)(n.GET_ENTITY_USERS_FAILURE,(0,s.Ky)()),o=(0,s.PH)(n.ADD_ENTITY_USER,(0,s.Ky)()),E=(0,s.PH)(n.ADD_ENTITY_USER_SUCCESS,(0,s.Ky)()),R=(0,s.PH)(n.ADD_ENTITY_USER_FAILURE),v=(0,s.PH)(n.EDIT_ENTITY_USER,(0,s.Ky)()),C=(0,s.PH)(n.DELETE_ENTITY_USER,(0,s.Ky)()),d=(0,s.PH)(n.SET_USER_ID,(0,s.Ky)())},6728:(g,f,t)=>{t.d(f,{K9:()=>i,NV:()=>E,OR:()=>v,td:()=>C});var s=t(4629),n=t(9653),r=t(7391);const i="userEntityDemo",e=(0,s.H)({}),o=e.getInitialState({loaded:!1,selectedUserId:1}),E=(0,n.Lq)(o,(0,n.on)(r.hz,(u,U)=>e.setAll(U.users,{...u,loaded:!0})),(0,n.on)(r.FM,(u,U)=>e.addOne(U.user,u)),(0,n.on)(r.kS,(u,U)=>e.updateOne(U.user,u)),(0,n.on)(r.m_,(u,U)=>e.removeOne(U.id,u)),(0,n.on)(r.pk,(u,U)=>({...u,selectedUserId:U.id}))),{selectEntities:v,selectAll:C}=e.getSelectors()},2245:(g,f,t)=>{t.d(f,{Fp:()=>i,J9:()=>o,Ls:()=>v,QQ:()=>C,aU:()=>e});var s=t(9653),n=t(6728);const r=(0,s.ZF)(n.K9),i=(0,s.P1)(r,n.td),e=(0,s.P1)(i,d=>d.length),o=(0,s.P1)(i,d=>d.slice(0,3)),E=(0,s.P1)(r,n.OR),R=(0,s.P1)(r,d=>d.selectedUserId),v=(0,s.P1)(E,R,(d,u)=>d[u]),C=(0,s.P1)(r,d=>d.loaded)},5962:(g,f,t)=>{t.d(f,{S2:()=>o,XI:()=>R,SI:()=>E,Mb:()=>C,f_:()=>v,Ec:()=>r,V6:()=>e,vn:()=>i});var s=t(9653),n=(()=>{return(d=n||(n={})).GET_ENTITY_USERS="[User Entity Resolver] Get Users",d.GET_ENTITY_USERS_SUCCESS="[User Entity Effect] Get Users success",d.GET_ENTITY_USERS_FAILURE="[User Entity Effect] Get Users failure",d.ADD_ENTITY_USER="[User Entity Component] Add User",d.ADD_ENTITY_USER_SUCCESS="[User Entity Component] Add User success",d.ADD_ENTITY_USER_FAILURE="[User Entity Component] Add User failure",d.EDIT_ENTITY_USER="[Edit Entity User Component] Edit User",d.EDIT_ENTITY_USER_SUCCESS="[Edit Entity User Component] Edit User success",d.EDIT_ENTITY_USER_FAILURE="[Edit Entity User Component] Edit User failure",d.DELETE_ENTITY_USER="[User Entity Component] Delete User",d.DELETE_ENTITY_USER_SUCCESS="[User Entity Component] Delete User success",d.DELETE_ENTITY_USER_FAILURE="[User Entity Component] Delete User failure",n;var d})();const r=(0,s.PH)(n.GET_ENTITY_USERS),i=(0,s.PH)(n.GET_ENTITY_USERS_SUCCESS,(0,s.Ky)()),e=(0,s.PH)(n.GET_ENTITY_USERS_FAILURE,(0,s.Ky)()),o=(0,s.PH)(n.ADD_ENTITY_USER,(0,s.Ky)()),E=(0,s.PH)(n.ADD_ENTITY_USER_SUCCESS,(0,s.Ky)()),R=(0,s.PH)(n.ADD_ENTITY_USER_FAILURE),v=(0,s.PH)(n.EDIT_ENTITY_USER,(0,s.Ky)()),C=(0,s.PH)(n.DELETE_ENTITY_USER,(0,s.Ky)())},5218:(g,f,t)=>{t.d(f,{Jy:()=>E,OR:()=>v,YI:()=>i,td:()=>C});var s=t(4629),n=t(9653),r=t(5962);const i="userEntity",e=(0,s.H)({}),o=e.getInitialState({loaded:!1}),E=(0,n.Lq)(o,(0,n.on)(r.vn,(u,U)=>e.setAll(U.users,{...u,loaded:!0})),(0,n.on)(r.SI,(u,U)=>e.addOne(U.user,u)),(0,n.on)(r.f_,(u,U)=>e.updateOne(U.user,u)),(0,n.on)(r.Mb,(u,U)=>e.removeOne(U.id,u))),{selectEntities:v,selectAll:C}=e.getSelectors()},2403:(g,f,t)=>{t.d(f,{pU:()=>o,vH:()=>i});var s=t(9653),n=t(5218);const r=(0,s.ZF)(n.YI),i=(0,s.P1)(r,n.td),o=((0,s.P1)(r,n.OR),(0,s.P1)(r,E=>E.loaded))},8630:(g,f,t)=>{t.d(f,{K:()=>i});var s=t(4004),n=t(4650),r=t(529);class i{constructor(o){this.http=o,this.API_URL="https://reqres.in/api/users"}getUsers(){return this.http.get(`${this.API_URL}`).pipe((0,s.U)(o=>o.data))}addUser(o){return this.http.post(`${this.API_URL}`,o)}updateUser(o){return this.http.put(`${this.API_URL}/${o.id}`,o)}removeUser(o){return this.http.delete(`${this.API_URL}/${o}`)}}i.\u0275fac=function(o){return new(o||i)(n.\u0275\u0275inject(r.eN))},i.\u0275prov=n.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})},1883:(g,f,t)=>{t.d(f,{Dx:()=>o,Ls:()=>R,Kz:()=>E,Fp:()=>u,ru:()=>A,yc:()=>U,d0:()=>v,ox:()=>d,U7:()=>C,zc:()=>r,aA:()=>e,IU:()=>i});var s=t(9653),n=(()=>{return(S=n||(n={})).GET_STORE_USERS="[User Store Resolver] Get Users",S.GET_STORE_USERS_SUCCESS="[User Store Effect] Get Users success",S.GET_STORE_USERS_FAILURE="[User Store Effect] Get Users failure",S.ADD_STORE_USER="[User Store Component] Add User",S.ADD_STORE_USER_SUCCESS="[User Store Component] Add User success",S.ADD_STORE_USER_FAILURE="[User Store Component] Add User failure",S.EDIT_STORE_USER="[Edit Store User Component] Edit User",S.EDIT_STORE_USER_SUCCESS="[Edit Store User Component] Edit User success",S.EDIT_STORE_USER_FAILURE="[Edit Store User Component] Edit User failure",S.DELETE_STORE_USER="[User Store Component] Delete User",S.DELETE_STORE_USER_SUCCESS="[User Store Component] Delete User success",S.DELETE_STORE_USER_FAILURE="[User Store Component] Delete User failure",n;var S})();const r=(0,s.PH)(n.GET_STORE_USERS),i=(0,s.PH)(n.GET_STORE_USERS_SUCCESS,(0,s.Ky)()),e=(0,s.PH)(n.GET_STORE_USERS_FAILURE,(0,s.Ky)()),o=(0,s.PH)(n.ADD_STORE_USER,(0,s.Ky)()),E=(0,s.PH)(n.ADD_STORE_USER_SUCCESS,(0,s.Ky)()),R=(0,s.PH)(n.ADD_STORE_USER_FAILURE),v=(0,s.PH)(n.EDIT_STORE_USER,(0,s.Ky)()),C=(0,s.PH)(n.EDIT_STORE_USER_SUCCESS,(0,s.Ky)()),d=(0,s.PH)(n.EDIT_STORE_USER_FAILURE),u=(0,s.PH)(n.DELETE_STORE_USER,(0,s.Ky)()),U=(0,s.PH)(n.DELETE_STORE_USER_SUCCESS),A=(0,s.PH)(n.DELETE_STORE_USER_SUCCESS)},4534:(g,f,t)=>{t.d(f,{N3:()=>e});var s=t(9653),n=t(1883);const e=(0,s.Tz)({name:"usersStoreFeature",reducer:(0,s.Lq)({data:null,error:null,isLoading:!1,loaded:!1},(0,s.on)(n.zc,o=>({...o,isLoading:!0})),(0,s.on)(n.IU,(o,E)=>({...o,isLoading:!1,data:E.users,loaded:!0})),(0,s.on)(n.aA,(o,E)=>({...o,isLoading:!1})),(0,s.on)(n.Dx,o=>({...o,isLoading:!0})),(0,s.on)(n.Kz,(o,E)=>({...o,isLoading:!1,data:[E.user,...o.data]})),(0,s.on)(n.Ls,o=>({...o,isLoading:!1})),(0,s.on)(n.d0,o=>({...o,isLoading:!0})),(0,s.on)(n.U7,(o,E)=>{const R=o.data.map(v=>v.id===E.user.id?E.user:v);return{...o,isLoading:!1,data:R}}),(0,s.on)(n.ox,o=>({...o,isLoading:!1})),(0,s.on)(n.Fp,(o,E)=>{const R=o.data.filter(v=>v.id!==E.id);return{...o,data:R}}),(0,s.on)(n.yc,o=>({...o,isLoading:!1})),(0,s.on)(n.ru,o=>({...o,isLoading:!1})))})},3756:(g,f,t)=>{t.d(f,{gA:()=>i,zE:()=>r});var s=t(4534);const{selectData:r,selectLoaded:i}=s.N3},4257:(g,f,t)=>{t.d(f,{Dx:()=>o,Ls:()=>R,Kz:()=>E,Fp:()=>u,ru:()=>A,yc:()=>U,d0:()=>v,ox:()=>d,U7:()=>C,zc:()=>r,aA:()=>e,IU:()=>i});var s=t(9653),n=(()=>{return(S=n||(n={})).GET_STORE_USERS="[User Store Resolver] Get Users",S.GET_STORE_USERS_SUCCESS="[User Store Effect] Get Users success",S.GET_STORE_USERS_FAILURE="[User Store Effect] Get Users failure",S.ADD_STORE_USER="[User Store Component] Add User",S.ADD_STORE_USER_SUCCESS="[User Store Component] Add User success",S.ADD_STORE_USER_FAILURE="[User Store Component] Add User failure",S.EDIT_STORE_USER="[Edit Store User Component] Edit User",S.EDIT_STORE_USER_SUCCESS="[Edit Store User Component] Edit User success",S.EDIT_STORE_USER_FAILURE="[Edit Store User Component] Edit User failure",S.DELETE_STORE_USER="[User Store Component] Delete User",S.DELETE_STORE_USER_SUCCESS="[User Store Component] Delete User success",S.DELETE_STORE_USER_FAILURE="[User Store Component] Delete User failure",n;var S})();const r=(0,s.PH)(n.GET_STORE_USERS),i=(0,s.PH)(n.GET_STORE_USERS_SUCCESS,(0,s.Ky)()),e=(0,s.PH)(n.GET_STORE_USERS_FAILURE,(0,s.Ky)()),o=(0,s.PH)(n.ADD_STORE_USER,(0,s.Ky)()),E=(0,s.PH)(n.ADD_STORE_USER_SUCCESS,(0,s.Ky)()),R=(0,s.PH)(n.ADD_STORE_USER_FAILURE),v=(0,s.PH)(n.EDIT_STORE_USER,(0,s.Ky)()),C=(0,s.PH)(n.EDIT_STORE_USER_SUCCESS,(0,s.Ky)()),d=(0,s.PH)(n.EDIT_STORE_USER_FAILURE),u=(0,s.PH)(n.DELETE_STORE_USER,(0,s.Ky)()),U=(0,s.PH)(n.DELETE_STORE_USER_SUCCESS),A=(0,s.PH)(n.DELETE_STORE_USER_SUCCESS)},4303:(g,f,t)=>{t.d(f,{GH:()=>r,wq:()=>e});var s=t(9653),n=t(4257);const r="userStore",e=(0,s.Lq)({data:null,isLoading:!1,error:null,loaded:!1},(0,s.on)(n.zc,o=>({...o,isLoading:!0})),(0,s.on)(n.IU,(o,E)=>({...o,isLoading:!1,data:E.users,loaded:!0})),(0,s.on)(n.aA,(o,E)=>({...o,isLoading:!1})),(0,s.on)(n.Dx,o=>({...o,isLoading:!0})),(0,s.on)(n.Kz,(o,E)=>({...o,isLoading:!1,data:[E.user,...o.data]})),(0,s.on)(n.Ls,o=>({...o,isLoading:!1})),(0,s.on)(n.d0,o=>({...o,isLoading:!0})),(0,s.on)(n.U7,(o,E)=>{const R=o.data.map(v=>v.id===E.user.id?E.user:v);return{...o,isLoading:!1,data:R}}),(0,s.on)(n.ox,o=>({...o,isLoading:!1})),(0,s.on)(n.Fp,(o,E)=>{const R=o.data.filter(v=>v.id!==E.id);return{...o,data:R}}),(0,s.on)(n.yc,o=>({...o,isLoading:!1})),(0,s.on)(n.ru,o=>({...o,isLoading:!1})))},9154:(g,f,t)=>{t.d(f,{gA:()=>e,zE:()=>i});var s=t(9653),n=t(4303);const r=(0,s.ZF)(n.GH),i=(0,s.P1)(r,o=>o.data),e=(0,s.P1)(r,o=>o.loaded)},192:(g,f,t)=>{t.d(f,{q:()=>i});var s=t(4169),n=t(279),r=t(4650);class i extends s.c8{constructor(o){super(n.usersWsFeatureKey,o)}}i.\u0275fac=function(o){return new(o||i)(r.\u0275\u0275inject(s.yV))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})},279:(g,f,t)=>{t.r(f),t.d(f,{UsersWsModule:()=>I,entityMetadata:()=>M,usersWsFeatureKey:()=>O});var s=t(6895),n=t(9116),r=t(7956),i=t(6325),e=t(4650),o=t(4006),E=t(192),R=t(4144),v=t(9549),C=t(4859);class d{constructor(a,l,D,P){this.fb=a,this.dialogRef=l,this.userService=P,this.dialogTitle=D.dialogTitle,this.user=D.user,this.mode=D.mode;const y={email:[""],first_name:[""],last_name:[""]};"update"==this.mode?(this.form=this.fb.group(y),this.form.patchValue({...this.user})):"create"==this.mode&&(this.form=this.fb.group({...y}))}onClose(){this.dialogRef.close()}onSave(){const a={...this.user,...this.form.value};"update"==this.mode?(console.log("Update User",a),this.userService.update(a),this.dialogRef.close()):"create"==this.mode&&(console.log("Add User",a),a.avatar="https://robohash.org/test?size=128x128",this.userService.add(a,{isOptimistic:!1}),this.dialogRef.close())}}function u(h,a){if(1&h){const l=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5)(1,"div",6),e.\u0275\u0275element(2,"img",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",8)(4,"div")(5,"strong"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"br"),e.\u0275\u0275elementStart(8,"small"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div")(11,"button",9),e.\u0275\u0275listener("click",function(){const y=e.\u0275\u0275restoreView(l).$implicit,_=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(_.editUser(y))}),e.\u0275\u0275element(12,"i",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"button",11),e.\u0275\u0275listener("click",function(){const y=e.\u0275\u0275restoreView(l).$implicit,_=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(_.removeUser(y))}),e.\u0275\u0275element(14,"i",12),e.\u0275\u0275elementEnd()()()()}if(2&h){const l=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("src",l.avatar,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(l.first_name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(l.email)}}d.\u0275fac=function(a){return new(a||d)(e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(i.so),e.\u0275\u0275directiveInject(i.WI),e.\u0275\u0275directiveInject(E.q))},d.\u0275cmp=e.\u0275\u0275defineComponent({type:d,selectors:[["app-user-data-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","First Name","formControlName","first_name"],["matInput","","placeholder","Last Name","formControlName","last_name"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(a,l){1&a&&(e.\u0275\u0275elementStart(0,"h2",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"mat-dialog-content"),e.\u0275\u0275elementContainerStart(3)(4,1),e.\u0275\u0275elementStart(5,"mat-form-field"),e.\u0275\u0275element(6,"input",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"mat-form-field"),e.\u0275\u0275element(8,"input",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"mat-form-field"),e.\u0275\u0275element(10,"input",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-dialog-actions")(12,"button",5),e.\u0275\u0275listener("click",function(){return l.onClose()}),e.\u0275\u0275text(13,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",6),e.\u0275\u0275listener("click",function(){return l.onSave()}),e.\u0275\u0275text(15,"Save"),e.\u0275\u0275elementEnd()()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(l.dialogTitle),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",l.form))},dependencies:[i.uh,i.xY,i.H8,R.Nt,v.KE,C.lW,o.Fj,o.JJ,o.JL,o.sg,o.u],changeDetection:0});class U{constructor(a,l){this.userDataService=a,this.dialog=l}ngOnInit(){this.users$=this.userDataService.entities$}removeUser(a){console.log("Remove user"),this.userDataService.delete(a)}addUser(){const a=(0,r.m)();a.data={dialogTitle:"Add User",mode:"create"},this.dialog.open(d,a)}editUser(a){const l=(0,r.m)();l.data={dialogTitle:"Edit User",user:a,mode:"update"},this.dialog.open(d,l).afterClosed().subscribe(D=>{console.log("Closed",D)})}}U.\u0275fac=function(a){return new(a||U)(e.\u0275\u0275directiveInject(E.q),e.\u0275\u0275directiveInject(i.uw))},U.\u0275cmp=e.\u0275\u0275defineComponent({type:U,selectors:[["app-users-ws"]],decls:8,vars:3,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","align-self-center",3,"click"],[1,"ti-plus"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","mr-2"],["alt","...",3,"src"],[1,"flex-grow-1","ml-2"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-danger",3,"click"],[1,"ti-trash"]],template:function(a,l){1&a&&(e.\u0275\u0275elementStart(0,"div",0)(1,"header",1)(2,"h1"),e.\u0275\u0275text(3,"Users List (Data)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return l.addUser()}),e.\u0275\u0275element(5,"i",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(6,u,15,3,"div",4),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(7,1,l.users$)))},dependencies:[s.sg,s.Ov],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px}"],changeDetection:0});const A=[{path:"",component:U}];class S{}S.\u0275fac=function(a){return new(a||S)},S.\u0275mod=e.\u0275\u0275defineNgModule({type:S}),S.\u0275inj=e.\u0275\u0275defineInjector({imports:[n.Bz.forChild(A),n.Bz]});var L=t(4169),K=t(529);class p extends L.EJ{constructor(a,l){super(O,a,l),this.API_URL="https://hksocket.herokuapp.com/users"}getAll(){return this.http.get(`${this.API_URL}`)}add(a){return this.http.post(`${this.API_URL}`,a)}update(a){return this.http.put(`${this.API_URL}/${a.id}`,a.changes)}delete(a){return this.http.delete(`${this.API_URL}/${a}`)}}p.\u0275fac=function(a){return new(a||p)(e.\u0275\u0275inject(K.eN),e.\u0275\u0275inject(L.hR))},p.\u0275prov=e.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"});const O="users",M={[O]:{entityDispatcherOptions:{optimisticUpdate:!0},selectId:h=>h._id}};class I{constructor(a,l,D){this.eds=a,this.entityDataService=l,this.usersDataService=D,this.eds.registerMetadataMap(M),this.entityDataService.registerService(O,this.usersDataService)}}I.\u0275fac=function(a){return new(a||I)(e.\u0275\u0275inject(L.f0),e.\u0275\u0275inject(L.sP),e.\u0275\u0275inject(p))},I.\u0275mod=e.\u0275\u0275defineNgModule({type:I}),I.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.ez,S,i.Is,R.c,v.lN,C.ot,o.UX]})}}]);