(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[334],{415:(en,Ne,ye)=>{var f,a;!function(){var u={version:"3.5.17"},C=[].slice,m=function(t){return C.call(t)},x=this.document;function O(t){return t&&(t.ownerDocument||t.document||t).documentElement}function v(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(x)try{m(x.documentElement.childNodes)}catch(t){m=function(e){for(var n=e.length,r=new Array(n);n--;)r[n]=e[n];return r}}if(Date.now||(Date.now=function(){return+new Date}),x)try{x.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var A=this.Element.prototype,W=A.setAttribute,tt=A.setAttributeNS,et=this.CSSStyleDeclaration.prototype,q=et.setProperty;A.setAttribute=function(e,n){W.call(this,e,n+"")},A.setAttributeNS=function(e,n,r){tt.call(this,e,n,r+"")},et.setProperty=function(e,n,r){q.call(this,e,n+"",r)}}function rt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function U(t){return null===t?NaN:+t}function Z(t){return!isNaN(t)}function lt(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}u.ascending=rt,u.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},u.min=function(t,e){var i,o,n=-1,r=t.length;if(1===arguments.length){for(;++n<r;)if(null!=(o=t[n])&&o>=o){i=o;break}for(;++n<r;)null!=(o=t[n])&&i>o&&(i=o)}else{for(;++n<r;)if(null!=(o=e.call(t,t[n],n))&&o>=o){i=o;break}for(;++n<r;)null!=(o=e.call(t,t[n],n))&&i>o&&(i=o)}return i},u.max=function(t,e){var i,o,n=-1,r=t.length;if(1===arguments.length){for(;++n<r;)if(null!=(o=t[n])&&o>=o){i=o;break}for(;++n<r;)null!=(o=t[n])&&o>i&&(i=o)}else{for(;++n<r;)if(null!=(o=e.call(t,t[n],n))&&o>=o){i=o;break}for(;++n<r;)null!=(o=e.call(t,t[n],n))&&o>i&&(i=o)}return i},u.extent=function(t,e){var i,o,s,n=-1,r=t.length;if(1===arguments.length){for(;++n<r;)if(null!=(o=t[n])&&o>=o){i=s=o;break}for(;++n<r;)null!=(o=t[n])&&(i>o&&(i=o),s<o&&(s=o))}else{for(;++n<r;)if(null!=(o=e.call(t,t[n],n))&&o>=o){i=s=o;break}for(;++n<r;)null!=(o=e.call(t,t[n],n))&&(i>o&&(i=o),s<o&&(s=o))}return[i,s]},u.sum=function(t,e){var i,n=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)Z(i=+t[o])&&(n+=i);else for(;++o<r;)Z(i=+e.call(t,t[o],o))&&(n+=i);return n},u.mean=function(t,e){var i,n=0,r=t.length,o=-1,s=r;if(1===arguments.length)for(;++o<r;)Z(i=U(t[o]))?n+=i:--s;else for(;++o<r;)Z(i=U(e.call(t,t[o],o)))?n+=i:--s;if(s)return n/s},u.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},u.median=function(t,e){var i,n=[],r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)Z(i=U(t[o]))&&n.push(i);else for(;++o<r;)Z(i=U(e.call(t,t[o],o)))&&n.push(i);if(n.length)return u.quantile(n.sort(rt),.5)},u.variance=function(t,e){var i,o,n=t.length,r=0,s=0,l=-1,c=0;if(1===arguments.length)for(;++l<n;)Z(i=U(t[l]))&&(s+=(o=i-r)*(i-(r+=o/++c)));else for(;++l<n;)Z(i=U(e.call(t,t[l],l)))&&(s+=(o=i-r)*(i-(r+=o/++c)));if(c>1)return s/(c-1)},u.deviation=function(){var t=u.variance.apply(this,arguments);return t&&Math.sqrt(t)};var j=lt(rt);function F(t){return t.length}u.bisectLeft=j.left,u.bisect=u.bisectRight=j.right,u.bisector=function(t){return lt(1===t.length?function(e,n){return rt(t(e),n)}:t)},u.shuffle=function(t,e,n){(r=arguments.length)<3&&(n=t.length,r<2&&(e=0));for(var i,o,r=n-e;r;)o=Math.random()*r--|0,i=t[r+e],t[r+e]=t[o+e],t[o+e]=i;return t},u.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},u.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);e<n;)o[e]=[i,i=t[++e]];return o},u.transpose=function(t){if(!(o=t.length))return[];for(var e=-1,n=u.min(t,F),r=new Array(n);++e<n;)for(var o,i=-1,s=r[e]=new Array(o);++i<o;)s[i]=t[i][e];return r},u.zip=function(){return u.transpose(arguments)},u.keys=function(t){var e=[];for(var n in t)e.push(n);return e},u.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},u.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},u.merge=function(t){for(var n,o,s,e=t.length,r=-1,i=0;++r<e;)i+=t[r].length;for(o=new Array(i);--e>=0;)for(n=(s=t[e]).length;--n>=0;)o[--i]=s[n];return o};var R=Math.abs;function B(t){for(var e=1;t*e%1;)e*=10;return e}function w(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function L(){this._=Object.create(null)}function M(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function b(t){return"\0"===(t+="")[0]?t.slice(1):t}function I(t){return M(t)in this._}function ot(t){return(t=M(t))in this._&&delete this._[t]}function ht(){var t=[];for(var e in this._)t.push(b(e));return t}function G(){var t=0;for(var e in this._)++t;return t}function p(){for(var t in this._)return!1;return!0}function _(){this._=Object.create(null)}function D(t){return t}function K(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function dt(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=ct.length;n<r;++n){var i=ct[n]+e;if(i in t)return i}}u.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var s,r=[],i=B(R(n)),o=-1;if(t*=i,e*=i,(n*=i)<0)for(;(s=t+n*++o)>e;)r.push(s/i);else for(;(s=t+n*++o)<e;)r.push(s/i);return r},u.map=function(t,e){var n=new L;if(t instanceof L)t.forEach(function(l,c){n.set(l,c)});else if(Array.isArray(t)){var o,r=-1,i=t.length;if(1===arguments.length)for(;++r<i;)n.set(r,t[r]);else for(;++r<i;)n.set(e.call(t,o=t[r],r),o)}else for(var s in t)n.set(s,t[s]);return n},w(L,{has:I,get:function(t){return this._[M(t)]},set:function(t,e){return this._[M(t)]=e},remove:ot,keys:ht,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:b(e),value:this._[e]});return t},size:G,empty:p,forEach:function(t){for(var e in this._)t.call(this,b(e),this._[e])}}),u.nest=function(){var r,i,t={},e=[],n=[];function o(l,c,d){if(d>=e.length)return i?i.call(t,c):r?c.sort(r):c;for(var Y,it,N,H,g=-1,y=c.length,k=e[d++],V=new L;++g<y;)(H=V.get(Y=k(it=c[g])))?H.push(it):V.set(Y,[it]);return l?(it=l(),N=function(nt,X){it.set(nt,o(l,X,d))}):(it={},N=function(nt,X){it[nt]=o(l,X,d)}),V.forEach(N),it}function s(l,c){if(c>=e.length)return l;var d=[],g=n[c++];return l.forEach(function(y,k){d.push({key:y,values:s(k,c)})}),g?d.sort(function(y,k){return g(y.key,k.key)}):d}return t.map=function(l,c){return o(c,l,0)},t.entries=function(l){return s(o(u.map,l,0),0)},t.key=function(l){return e.push(l),t},t.sortKeys=function(l){return n[e.length-1]=l,t},t.sortValues=function(l){return r=l,t},t.rollup=function(l){return i=l,t},t},u.set=function(t){var e=new _;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},w(_,{has:I,add:function(t){return this._[M(t+="")]=!0,t},remove:ot,values:ht,size:G,empty:p,forEach:function(t){for(var e in this._)t.call(this,b(e))}}),u.behavior={},u.rebind=function(t,e){for(var i,n=1,r=arguments.length;++n<r;)t[i=arguments[n]]=K(t,e,e[i]);return t};var ct=["webkit","ms","moz","Moz","o","O"];function h(){}function S(){}function at(t){var e=[],n=new L;function r(){for(var l,i=e,o=-1,s=i.length;++o<s;)(l=i[o].on)&&l.apply(this,arguments);return t}return r.on=function(i,o){var l,s=n.get(i);return arguments.length<2?s&&s.on:(s&&(s.on=null,e=e.slice(0,l=e.indexOf(s)).concat(e.slice(l+1)),n.remove(i)),o&&e.push(n.set(i,{on:o})),t)},r}function st(){u.event.preventDefault()}function Q(){for(var e,t=u.event;e=t.sourceEvent;)t=e;return t}function J(t){for(var e=new S,n=0,r=arguments.length;++n<r;)e[arguments[n]]=at(e);return e.of=function(i,o){return function(s){try{var l=s.sourceEvent=u.event;s.target=t,u.event=s,e[s.type].apply(i,o)}finally{u.event=l}}},e}u.dispatch=function(){for(var t=new S,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=at(t);return t},S.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},u.event=null,u.requote=function(t){return t.replace(yt,"\\$&")};var yt=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ct={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function St(t){return Ct(t,z),t}var gt=function(t,e){return e.querySelector(t)},E=function(t,e){return e.querySelectorAll(t)},ut=function(t,e){var n=t.matches||t[dt(t,"matchesSelector")];return(ut=function(r,i){return n.call(r,i)})(t,e)};"function"==typeof Sizzle&&(gt=function(t,e){return Sizzle(t,e)[0]||null},E=Sizzle,ut=Sizzle.matchesSelector),u.selection=function(){return u.select(x.documentElement)};var z=u.selection.prototype=[];function ft(t){return"function"==typeof t?t:function(){return gt(t,this)}}function xt(t){return"function"==typeof t?t:function(){return E(t,this)}}z.select=function(t){var n,r,i,o,e=[];t=ft(t);for(var s=-1,l=this.length;++s<l;){e.push(n=[]),n.parentNode=(i=this[s]).parentNode;for(var c=-1,d=i.length;++c<d;)(o=i[c])?(n.push(r=t.call(o,o.__data__,c,s)),r&&"__data__"in o&&(r.__data__=o.__data__)):n.push(null)}return St(e)},z.selectAll=function(t){var n,r,e=[];t=xt(t);for(var i=-1,o=this.length;++i<o;)for(var s=this[i],l=-1,c=s.length;++l<c;)(r=s[l])&&(e.push(n=m(t.call(r,r.__data__,l,i))),n.parentNode=r);return St(e)};var jt="http://www.w3.org/1999/xhtml",Ut={svg:"http://www.w3.org/2000/svg",xhtml:jt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _t(t,e){return t=u.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var c=e.apply(this,arguments);null==c?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,c)}:function(){var c=e.apply(this,arguments);null==c?this.removeAttribute(t):this.setAttribute(t,c)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function Pt(t){return t.trim().replace(/\s+/g," ")}function Bt(t){return new RegExp("(?:^|\\s+)"+u.requote(t)+"(?:\\s+|$)","g")}function ne(t){return(t+"").trim().split(/^|\s+/)}function Mt(t,e){var n=(t=ne(t).map(Ht)).length;return"function"==typeof e?function(){for(var o=-1,s=e.apply(this,arguments);++o<n;)t[o](this,s)}:function(){for(var o=-1;++o<n;)t[o](this,e)}}function Ht(t){var e=Bt(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",Pt(i+" "+t))):n.setAttribute("class",Pt(i.replace(e," ")))}}function Qt(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var s=e.apply(this,arguments);null==s?this.style.removeProperty(t):this.style.setProperty(t,s,n)}:function(){this.style.setProperty(t,e,n)}}function re(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var o=e.apply(this,arguments);null==o?delete this[t]:this[t]=o}:function(){this[t]=e}}function Lt(t){return"function"==typeof t?t:(t=u.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var r=this.ownerDocument,i=this.namespaceURI;return i===jt&&r.documentElement.namespaceURI===jt?r.createElement(t):r.createElementNS(i,t)}}function Xt(){var t=this.parentNode;t&&t.removeChild(this)}function zt(t){return{__data__:t}}function Ft(t){return function(){return ut(this,t)}}function ae(t){return arguments.length||(t=rt),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function ue(t,e){for(var n=0,r=t.length;n<r;n++)for(var l,i=t[n],o=0,s=i.length;o<s;o++)(l=i[o])&&e(l,o,n);return t}function xe(t){return Ct(t,ge),t}u.ns={prefix:Ut,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ut.hasOwnProperty(n)?{space:Ut[n],local:t}:t}},z.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=u.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(_t(e,t[e]));return this}return this.each(_t(t,e))},z.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=ne(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!Bt(t[i]).test(e))return!1;return!0}for(e in t)this.each(Mt(e,t[e]));return this}return this.each(Mt(t,e))},z.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(Qt(n,t[n],e));return this}if(r<2){var i=this.node();return v(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(Qt(t,e,n))},z.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(re(e,t[e]));return this}return this.each(re(t,e))},z.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},z.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},z.append=function(t){return t=Lt(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},z.insert=function(t,e){return t=Lt(t),e=ft(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},z.remove=function(){return this.each(Xt)},z.data=function(t,e){var i,o,n=-1,r=this.length;if(!arguments.length){for(t=new Array(r=(i=this[0]).length);++n<r;)(o=i[n])&&(t[n]=o.__data__);return t}function s(g,y){var k,X,$,Y=g.length,it=y.length,N=Math.min(Y,it),V=new Array(it),H=new Array(it),nt=new Array(Y);if(e){var mt,bt=new L,vt=new Array(Y);for(k=-1;++k<Y;)(X=g[k])&&(bt.has(mt=e.call(X,X.__data__,k))?nt[k]=X:bt.set(mt,X),vt[k]=mt);for(k=-1;++k<it;)(X=bt.get(mt=e.call(y,$=y[k],k)))?!0!==X&&(V[k]=X,X.__data__=$):H[k]=zt($),bt.set(mt,!0);for(k=-1;++k<Y;)k in vt&&!0!==bt.get(vt[k])&&(nt[k]=g[k])}else{for(k=-1;++k<N;)$=y[k],(X=g[k])?(X.__data__=$,V[k]=X):H[k]=zt($);for(;k<it;++k)H[k]=zt(y[k]);for(;k<Y;++k)nt[k]=g[k]}H.update=V,H.parentNode=V.parentNode=nt.parentNode=g.parentNode,l.push(H),c.push(V),d.push(nt)}var l=xe([]),c=St([]),d=St([]);if("function"==typeof t)for(;++n<r;)s(i=this[n],t.call(i,i.parentNode.__data__,n));else for(;++n<r;)s(i=this[n],t);return c.enter=function(){return l},c.exit=function(){return d},c},z.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},z.filter=function(t){var n,r,i,e=[];"function"!=typeof t&&(t=Ft(t));for(var o=0,s=this.length;o<s;o++){e.push(n=[]),n.parentNode=(r=this[o]).parentNode;for(var l=0,c=r.length;l<c;l++)(i=r[l])&&t.call(i,i.__data__,l,o)&&n.push(i)}return St(e)},z.order=function(){for(var t=-1,e=this.length;++t<e;)for(var o,n=this[t],r=n.length-1,i=n[r];--r>=0;)(o=n[r])&&(i&&i!==o.nextSibling&&i.parentNode.insertBefore(o,i),i=o);return this},z.sort=function(t){t=ae.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},z.each=function(t){return ue(this,function(e,n,r){t.call(e,e.__data__,n,r)})},z.call=function(t){var e=m(arguments);return t.apply(e[0]=this,e),this},z.empty=function(){return!this.node()},z.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},z.size=function(){var t=0;return ue(this,function(){++t}),t};var ge=[];function be(t){var e,n;return function(r,i,o){var c,s=t[o].update,l=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(c=s[e])&&++e<l;);return c}}function Ce(t,e,n){var r="__on"+t,i=t.indexOf("."),o=Dt;i>0&&(t=t.slice(0,i));var s=ke.get(t);function l(){var g=this[r];g&&(this.removeEventListener(t,g,g.$),delete this[r])}return s&&(t=s,o=se),i?e?function(){var g=o(e,m(arguments));l.call(this),this.addEventListener(t,this[r]=g,g.$=n),g._=e}:l:e?h:function(){var y,g=new RegExp("^__on([^.]+)"+u.requote(t)+"$");for(var k in this)if(y=k.match(g)){var Y=this[k];this.removeEventListener(y[1],Y,Y.$),delete this[k]}}}u.selection.enter=xe,u.selection.enter.prototype=ge,ge.append=z.append,ge.empty=z.empty,ge.node=z.node,ge.call=z.call,ge.size=z.size,ge.select=function(t){for(var n,r,i,o,s,e=[],l=-1,c=this.length;++l<c;){i=(o=this[l]).update,e.push(n=[]),n.parentNode=o.parentNode;for(var d=-1,g=o.length;++d<g;)(s=o[d])?(n.push(i[d]=r=t.call(o.parentNode,s.__data__,d,l)),r.__data__=s.__data__):n.push(null)}return St(e)},ge.insert=function(t,e){return arguments.length<2&&(e=be(this)),z.insert.call(this,t,e)},u.select=function(t){var e;return"string"==typeof t?(e=[gt(t,x)]).parentNode=x.documentElement:(e=[t]).parentNode=O(t),St([e])},u.selectAll=function(t){var e;return"string"==typeof t?(e=m(E(t,x))).parentNode=x.documentElement:(e=m(t)).parentNode=null,St([e])},z.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(Ce(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(Ce(t,e,n))};var ke=u.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Dt(t,e){return function(n){var r=u.event;u.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{u.event=r}}}function se(t,e){var n=Dt(t,e);return function(r){var i=this,o=r.relatedTarget;(!o||o!==i&&!(8&o.compareDocumentPosition(i)))&&n.call(i,r)}}x&&ke.forEach(function(t){"on"+t in x&&ke.remove(t)});var kt,Ot=0;function Jt(t){var e=".dragsuppress-"+ ++Ot,n="click"+e,r=u.select(v(t)).on("touchmove"+e,st).on("dragstart"+e,st).on("selectstart"+e,st);if(null==kt&&(kt=!("onselectstart"in t)&&dt(t.style,"userSelect")),kt){var i=O(t).style,o=i[kt];i[kt]="none"}return function(s){if(r.on(e,null),kt&&(i[kt]=o),s){var l=function(){r.on(n,null)};r.on(n,function(){st(),l()},!0),setTimeout(l,0)}}}u.mouse=function(t){return fe(t,Q())};var ee=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function fe(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(ee<0){var i=v(t);if(i.scrollX||i.scrollY){var o=(n=u.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();ee=!(o.f||o.e),n.remove()}}return ee?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function we(){return u.event.changedTouches[0].identifier}u.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=Q().changedTouches),e)for(var o,r=0,i=e.length;r<i;++r)if((o=e[r]).identifier===n)return fe(t,o)},u.behavior.drag=function(){var t=J(i,"drag","dragstart","dragend"),e=null,n=o(h,u.mouse,v,"mousemove","mouseup"),r=o(we,u.touch,D,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function o(s,l,c,d,g){return function(){var nt,y=this,k=u.event.target.correspondingElement||u.event.target,Y=y.parentNode,it=t.of(y,arguments),N=0,V=s(),H=".drag"+(null==V?"":"-"+V),X=u.select(c(k)).on(d+H,vt).on(g+H,mt),$=Jt(k),bt=l(Y,V);function vt(){var Et,Wt,pt=l(Y,V);!pt||(N|=(Et=pt[0]-bt[0])|(Wt=pt[1]-bt[1]),bt=pt,it({type:"drag",x:pt[0]+nt[0],y:pt[1]+nt[1],dx:Et,dy:Wt}))}function mt(){!l(Y,V)||(X.on(d+H,null).on(g+H,null),$(N),it({type:"dragend"}))}nt=e?[(nt=e.apply(y,arguments)).x-bt[0],nt.y-bt[1]]:[0,0],it({type:"dragstart"})}}return i.origin=function(s){return arguments.length?(e=s,i):e},u.rebind(i,t,"on")},u.touches=function(t,e){return arguments.length<2&&(e=Q().touches),e?m(e).map(function(n){var r=fe(t,n);return r.identifier=n.identifier,r}):[]};var Yt=1e-6,ce=1e-12,It=Math.PI,Kt=2*It,pe=Kt-Yt,ie=It/2,te=It/180,de=180/It;function tr(t){return t>0?1:t<0?-1:0}function Bn(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function er(t){return t>1?0:t<-1?It:Math.acos(t)}function nn(t){return t>1?ie:t<-1?-ie:Math.asin(t)}function io(t){return((t=Math.exp(t))+1/t)/2}function oo(t){return(t=Math.sin(t/2))*t}var In=Math.SQRT2;u.interpolateZoom=function(t,e){var y,k,n=t[0],r=t[1],i=t[2],l=e[2],c=e[0]-n,d=e[1]-r,g=c*c+d*d;if(g<ce)k=Math.log(l/i)/In,y=function(nt){return[n+nt*c,r+nt*d,i*Math.exp(In*nt*k)]};else{var Y=Math.sqrt(g),it=(l*l-i*i+4*g)/(2*i*2*Y),N=(l*l-i*i-4*g)/(2*l*2*Y),V=Math.log(Math.sqrt(it*it+1)-it),H=Math.log(Math.sqrt(N*N+1)-N);k=(H-V)/In,y=function(nt){var X=nt*k,$=io(V),bt=i/(2*Y)*($*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(In*X+V)-function(t){return((t=Math.exp(t))-1/t)/2}(V));return[n+bt*c,r+bt*d,i*$/io(In*X+V)]}}return y.duration=1e3*k,y},u.behavior.zoom=function(){var e,n,r,y,Y,N,V,H,nt,t={x:0,y:0,k:1},i=[960,500],o=uo,s=250,l=0,c="mousedown.zoom",d="mousemove.zoom",g="mouseup.zoom",k="touchstart.zoom",it=J(X,"zoomstart","zoom","zoomend");function X(At){At.on(c,Gt).on(Jr+".zoom",Nt).on("dblclick.zoom",Rt).on(k,wt)}function $(At){return[(At[0]-t.x)/t.k,(At[1]-t.y)/t.k]}function vt(At){t.k=Math.max(o[0],Math.min(o[1],At))}function mt(At,Tt){Tt=function(At){return[At[0]*t.k+t.x,At[1]*t.k+t.y]}(Tt),t.x+=At[0]-Tt[0],t.y+=At[1]-Tt[1]}function pt(At,Tt,Zt,oe){At.__chart__={x:t.x,y:t.y,k:t.k},vt(Math.pow(2,oe)),mt(n=Tt,Zt),At=u.select(At),s>0&&(At=At.transition().duration(s)),At.call(X.event)}function Et(){V&&V.domain(N.range().map(function(At){return(At-t.x)/t.k}).map(N.invert)),nt&&nt.domain(H.range().map(function(At){return(At-t.y)/t.k}).map(H.invert))}function Wt(At){l++||At({type:"zoomstart"})}function qt(At){Et(),At({type:"zoom",scale:t.k,translate:[t.x,t.y]})}function Vt(At){--l||(At({type:"zoomend"}),n=null)}function Gt(){var At=this,Tt=it.of(At,arguments),Zt=0,oe=u.select(v(At)).on(d,me).on(g,Se),le=$(u.mouse(At)),he=Jt(At);function me(){Zt=1,mt(u.mouse(At),le),qt(Tt)}function Se(){oe.on(d,null).on(g,null),he(Zt),Vt(Tt)}jr.call(At),Wt(Tt)}function wt(){var le,At=this,Tt=it.of(At,arguments),Zt={},oe=0,he=".zoom-"+u.event.changedTouches[0].identifier,me="touchmove"+he,Se="touchend"+he,De=[],Ee=u.select(At),ze=Jt(At);function Oe(){var qe=u.touches(At);return le=t.k,qe.forEach(function(Ae){Ae.identifier in Zt&&(Zt[Ae.identifier]=$(Ae))}),qe}function Fe(){var qe=u.event.target;u.select(qe).on(me,_n).on(Se,cc),De.push(qe);for(var Ae=u.event.changedTouches,Ie=0,Ke=Ae.length;Ie<Ke;++Ie)Zt[Ae[Ie].identifier]=null;var Re=Oe(),Tn=Date.now();if(1===Re.length)Tn-Y<500&&(pt(At,kn=Re[0],Zt[kn.identifier],Math.floor(Math.log(t.k)/Math.LN2)+1),st()),Y=Tn;else if(Re.length>1){var kn,cn=Re[1],$r=(kn=Re[0])[0]-cn[0],bu=kn[1]-cn[1];oe=$r*$r+bu*bu}}function _n(){var Ae,Ie,Ke,Re,qe=u.touches(At);jr.call(At);for(var Tn=0,kn=qe.length;Tn<kn;++Tn,Re=null)if(Re=Zt[(Ke=qe[Tn]).identifier]){if(Ie)break;Ae=Ke,Ie=Re}if(Re){var cn=(cn=Ke[0]-Ae[0])*cn+(cn=Ke[1]-Ae[1])*cn,$r=oe&&Math.sqrt(cn/oe);Ae=[(Ae[0]+Ke[0])/2,(Ae[1]+Ke[1])/2],Ie=[(Ie[0]+Re[0])/2,(Ie[1]+Re[1])/2],vt($r*le)}Y=null,mt(Ae,Ie),qt(Tt)}function cc(){if(u.event.touches.length){for(var qe=u.event.changedTouches,Ae=0,Ie=qe.length;Ae<Ie;++Ae)delete Zt[qe[Ae].identifier];for(var Ke in Zt)return void Oe()}u.selectAll(De).on(he,null),Ee.on(c,Gt).on(k,wt),ze(),Vt(Tt)}Fe(),Wt(Tt),Ee.on(c,null).on(k,Fe)}function Nt(){var At=it.of(this,arguments);y?clearTimeout(y):(jr.call(this),e=$(n=r||u.mouse(this)),Wt(At)),y=setTimeout(function(){y=null,Vt(At)},50),st(),vt(Math.pow(2,.002*nr())*t.k),mt(n,e),qt(At)}function Rt(){var At=u.mouse(this),Tt=Math.log(t.k)/Math.LN2;pt(this,At,$(At),u.event.shiftKey?Math.ceil(Tt)-1:Math.floor(Tt)+1)}return Jr||(Jr="onwheel"in x?(nr=function(){return-u.event.deltaY*(u.event.deltaMode?120:1)},"wheel"):"onmousewheel"in x?(nr=function(){return u.event.wheelDelta},"mousewheel"):(nr=function(){return-u.event.detail},"MozMousePixelScroll")),X.event=function(At){At.each(function(){var Tt=it.of(this,arguments),Zt=t;bn?u.select(this).transition().each("start.zoom",function(){t=this.__chart__||{x:0,y:0,k:1},Wt(Tt)}).tween("zoom:zoom",function(){var oe=i[0],he=n?n[0]:oe/2,me=n?n[1]:i[1]/2,Se=u.interpolateZoom([(he-t.x)/t.k,(me-t.y)/t.k,oe/t.k],[(he-Zt.x)/Zt.k,(me-Zt.y)/Zt.k,oe/Zt.k]);return function(De){var Ee=Se(De),ze=oe/Ee[2];this.__chart__=t={x:he-Ee[0]*ze,y:me-Ee[1]*ze,k:ze},qt(Tt)}}).each("interrupt.zoom",function(){Vt(Tt)}).each("end.zoom",function(){Vt(Tt)}):(this.__chart__=t,Wt(Tt),qt(Tt),Vt(Tt))})},X.translate=function(At){return arguments.length?(t={x:+At[0],y:+At[1],k:t.k},Et(),X):[t.x,t.y]},X.scale=function(At){return arguments.length?(t={x:t.x,y:t.y,k:null},vt(+At),Et(),X):t.k},X.scaleExtent=function(At){return arguments.length?(o=null==At?uo:[+At[0],+At[1]],X):o},X.center=function(At){return arguments.length?(r=At&&[+At[0],+At[1]],X):r},X.size=function(At){return arguments.length?(i=At&&[+At[0],+At[1]],X):i},X.duration=function(At){return arguments.length?(s=+At,X):s},X.x=function(At){return arguments.length?(V=At,N=At.copy(),t={x:0,y:0,k:1},X):V},X.y=function(At){return arguments.length?(nt=At,H=At.copy(),t={x:0,y:0,k:1},X):nt},u.rebind(X,it,"on")};var nr,Jr,uo=[0,1/0];function fn(){}function je(t,e,n){return this instanceof je?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof je?new je(t.h,t.s,t.l):po(""+t,vo,je):new je(t,e,n)}u.color=fn,fn.prototype.toString=function(){return this.rgb()+""},u.hsl=je;var ti=je.prototype=new fn;function ei(t,e,n){var r,i;function s(l){return Math.round(255*function(l){return l>360?l-=360:l<0&&(l+=360),l<60?r+(i-r)*l/60:l<180?i:l<240?r+(i-r)*(240-l)/60:r}(l))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new We(s(t+120),s(t),s(t-120))}function Ye(t,e,n){return this instanceof Ye?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Ye?new Ye(t.h,t.c,t.l):ho(t instanceof He?t.l:(t=mo((t=u.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Ye(t,e,n)}ti.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new je(this.h,this.s,this.l/t)},ti.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new je(this.h,this.s,t*this.l)},ti.rgb=function(){return ei(this.h,this.s,this.l)},u.hcl=Ye;var ni=Ye.prototype=new fn;function ri(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new He(n,Math.cos(t*=te)*e,Math.sin(t)*e)}function He(t,e,n){return this instanceof He?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof He?new He(t.l,t.a,t.b):t instanceof Ye?ri(t.h,t.c,t.l):mo((t=We(t)).r,t.g,t.b):new He(t,e,n)}ni.brighter=function(t){return new Ye(this.h,this.c,Math.min(100,this.l+rr*(arguments.length?t:1)))},ni.darker=function(t){return new Ye(this.h,this.c,Math.max(0,this.l-rr*(arguments.length?t:1)))},ni.rgb=function(){return ri(this.h,this.c,this.l).rgb()},u.lab=He;var rr=18,ii=He.prototype=new fn;function fo(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new We(ui(3.2404542*(i=.95047*oi(i))-1.5371385*(r=1*oi(r))-.4985314*(o=1.08883*oi(o))),ui(-.969266*i+1.8760108*r+.041556*o),ui(.0556434*i-.2040259*r+1.0572252*o))}function ho(t,e,n){return t>0?new Ye(Math.atan2(n,e)*de,Math.sqrt(e*e+n*n),t):new Ye(NaN,NaN,t)}function oi(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ai(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ui(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function We(t,e,n){return this instanceof We?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof We?new We(t.r,t.g,t.b):po(""+t,We,ei):new We(t,e,n)}function go(t){return new We(t>>16,t>>8&255,255&t)}function ir(t){return go(t)+""}ii.brighter=function(t){return new He(Math.min(100,this.l+rr*(arguments.length?t:1)),this.a,this.b)},ii.darker=function(t){return new He(Math.max(0,this.l-rr*(arguments.length?t:1)),this.a,this.b)},ii.rgb=function(){return fo(this.l,this.a,this.b)},u.rgb=We;var or=We.prototype=new fn;function wn(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function po(t,e,n){var s,l,c,r=0,i=0,o=0;if(s=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(l=s[2].split(","),s[1]){case"hsl":return n(parseFloat(l[0]),parseFloat(l[1])/100,parseFloat(l[2])/100);case"rgb":return e(si(l[0]),si(l[1]),si(l[2]))}return(c=ar.get(t))?e(c.r,c.g,c.b):(null!=t&&"#"===t.charAt(0)&&!isNaN(c=parseInt(t.slice(1),16))&&(4===t.length?(r=(3840&c)>>4,r|=r>>4,i=240&c,i|=i>>4,o=15&c,o|=o<<4):7===t.length&&(r=(16711680&c)>>16,i=(65280&c)>>8,o=255&c)),e(r,i,o))}function vo(t,e,n){var s,l,r=Math.min(t/=255,e/=255,n/=255),i=Math.max(t,e,n),o=i-r,c=(i+r)/2;return o?(l=c<.5?o/(i+r):o/(2-i-r),s=t==i?(e-n)/o+(e<n?6:0):e==i?(n-t)/o+2:(t-e)/o+4,s*=60):(s=NaN,l=c>0&&c<1?0:s),new je(s,l,c)}function mo(t,e,n){var r=ai((.4124564*(t=li(t))+.3575761*(e=li(e))+.1804375*(n=li(n)))/.95047),i=ai((.2126729*t+.7151522*e+.072175*n)/1);return He(116*i-16,500*(r-i),200*(i-ai((.0193339*t+.119192*e+.9503041*n)/1.08883)))}function li(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function si(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}or.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new We(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new We(i,i,i)},or.darker=function(t){return new We((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},or.hsl=function(){return vo(this.r,this.g,this.b)},or.toString=function(){return"#"+wn(this.r)+wn(this.g)+wn(this.b)};var ar=u.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ve(t){return"function"==typeof t?t:function(){return t}}function ci(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),ur(e,n,t,r)}}function ur(t,e,n,r){var i={},o=u.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,c=null;function d(){var y,g=l.status;if(!g&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(l)||g>=200&&g<300||304===g){try{y=n.call(i,l)}catch(k){return void o.error.call(i,k)}o.load.call(i,y)}else o.error.call(i,l)}return this.XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(t)&&(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=d:l.onreadystatechange=function(){l.readyState>3&&d()},l.onprogress=function(g){var y=u.event;u.event=g;try{o.progress.call(i,l)}finally{u.event=y}},i.header=function(g,y){return g=(g+"").toLowerCase(),arguments.length<2?s[g]:(null==y?delete s[g]:s[g]=y+"",i)},i.mimeType=function(g){return arguments.length?(e=null==g?null:g+"",i):e},i.responseType=function(g){return arguments.length?(c=g,i):c},i.response=function(g){return n=g,i},["get","post"].forEach(function(g){i[g]=function(){return i.send.apply(i,[g].concat(m(arguments)))}}),i.send=function(g,y,k){if(2===arguments.length&&"function"==typeof y&&(k=y,y=null),l.open(g,t,!0),null!=e&&!("accept"in s)&&(s.accept=e+",*/*"),l.setRequestHeader)for(var Y in s)l.setRequestHeader(Y,s[Y]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=c&&(l.responseType=c),null!=k&&i.on("error",k).on("load",function(it){k(null,it)}),o.beforesend.call(i,l),l.send(null==y?null:y),i},i.abort=function(){return l.abort(),i},u.rebind(i,o,"on"),null==r?i:i.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}ar.forEach(function(t,e){ar.set(t,go(e))}),u.functor=ve,u.xhr=ci(D),u.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(d,g,y){arguments.length<3&&(y=g,g=null);var k=ur(d,e,null==g?o:s(g),y);return k.row=function(Y){return arguments.length?k.response(null==(g=Y)?o:s(Y)):g},k}function o(d){return i.parse(d.responseText)}function s(d){return function(g){return i.parse(g.responseText,d)}}function l(d){return d.map(c).join(t)}function c(d){return n.test(d)?'"'+d.replace(/\"/g,'""')+'"':d}return i.parse=function(d,g){var y;return i.parseRows(d,function(k,Y){if(y)return y(k,Y-1);var it=new Function("d","return {"+k.map(function(N,V){return JSON.stringify(N)+": d["+V+"]"}).join(",")+"}");y=g?function(N,V){return g(it(N),V)}:it})},i.parseRows=function(d,g){var H,nt,y={},k={},Y=[],it=d.length,N=0,V=0;function X(){if(N>=it)return k;if(nt)return nt=!1,y;var bt=N;if(34===d.charCodeAt(bt)){for(var vt=bt;vt++<it;)if(34===d.charCodeAt(vt)){if(34!==d.charCodeAt(vt+1))break;++vt}return N=vt+2,13===(mt=d.charCodeAt(vt+1))?(nt=!0,10===d.charCodeAt(vt+2)&&++N):10===mt&&(nt=!0),d.slice(bt+1,vt).replace(/""/g,'"')}for(;N<it;){var mt,pt=1;if(10===(mt=d.charCodeAt(N++)))nt=!0;else if(13===mt)nt=!0,10===d.charCodeAt(N)&&(++N,++pt);else if(mt!==r)continue;return d.slice(bt,N-pt)}return d.slice(bt)}for(;(H=X())!==k;){for(var $=[];H!==y&&H!==k;)$.push(H),H=X();g&&null==($=g($,V++))||Y.push($)}return Y},i.format=function(d){if(Array.isArray(d[0]))return i.formatRows(d);var g=new _,y=[];return d.forEach(function(k){for(var Y in k)g.has(Y)||y.push(g.add(Y))}),[y.map(c).join(t)].concat(d.map(function(k){return y.map(function(Y){return c(k[Y])}).join(t)})).join("\n")},i.formatRows=function(d){return d.map(l).join("\n")},i},u.csv=u.dsv(",","text/csv"),u.tsv=u.dsv("\t","text/tab-separated-values");var lr,sr,cr,fr,yo=this[dt(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function dr(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,o={c:t,t:i,n:null};return sr?sr.n=o:lr=o,sr=o,cr||(fr=clearTimeout(fr),cr=1,yo(fi)),o}function fi(){var t=xo(),e=bo()-t;e>24?(isFinite(e)&&(clearTimeout(fr),fr=setTimeout(fi,e)),cr=0):(cr=1,yo(fi))}function xo(){for(var t=Date.now(),e=lr;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function bo(){for(var t,e=lr,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:lr=e.n;return sr=t,n}function di(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}u.timer=function(){dr.apply(this,arguments)},u.timer.flush=function(){xo(),bo()},u.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Cu=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*R(8-e));return{scale:e>8?function(r){return r/n}:function(r){return r*n},symbol:t}});function Pu(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(s,l){for(var c=s.length,d=[],g=0,y=r[0],k=0;c>0&&y>0&&(k+y+1>l&&(y=Math.max(1,l-k)),d.push(s.substring(c-=y,c+y)),!((k+=y+1)>l));)y=r[g=(g+1)%r.length];return d.reverse().join(n)}:D;return function(s){var l=Mo.exec(s),c=l[1]||" ",d=l[2]||">",g=l[3]||"-",y=l[4]||"",k=l[5],Y=+l[6],it=l[7],N=l[8],V=l[9],H=1,nt="",X="",$=!1,bt=!0;switch(N&&(N=+N.substring(1)),(k||"0"===c&&"="===d)&&(k=c="0",d="="),V){case"n":it=!0,V="g";break;case"%":H=100,X="%",V="f";break;case"p":H=100,X="%",V="r";break;case"b":case"o":case"x":case"X":"#"===y&&(nt="0"+V.toLowerCase());case"c":bt=!1;case"d":$=!0,N=0;break;case"s":H=-1,V="r"}"$"===y&&(nt=i[0],X=i[1]),"r"==V&&!N&&(V="g"),null!=N&&("g"==V?N=Math.max(1,Math.min(21,N)):("e"==V||"f"==V)&&(N=Math.max(0,Math.min(20,N)))),V=Ou.get(V)||Su;var vt=k&&it;return function(mt){var pt=X;if($&&mt%1)return"";var Et=mt<0||0===mt&&1/mt<0?(mt=-mt,"-"):"-"===g?"":g;if(H<0){var Wt=u.formatPrefix(mt,N);mt=Wt.scale(mt),pt=Wt.symbol+X}else mt*=H;var Vt,Gt,qt=(mt=V(mt,N)).lastIndexOf(".");if(qt<0){var wt=bt?mt.lastIndexOf("e"):-1;wt<0?(Vt=mt,Gt=""):(Vt=mt.substring(0,wt),Gt=mt.substring(wt))}else Vt=mt.substring(0,qt),Gt=e+mt.substring(qt+1);!k&&it&&(Vt=o(Vt,1/0));var Nt=nt.length+Vt.length+Gt.length+(vt?0:Et.length),Rt=Nt<Y?new Array(Nt=Y-Nt+1).join(c):"";return vt&&(Vt=o(Rt+Vt,Rt.length?Y-Gt.length:1/0)),Et+=nt,mt=Vt+Gt,("<"===d?Et+mt+Rt:">"===d?Rt+Et+mt:"^"===d?Rt.substring(0,Nt>>=1)+Et+mt+Rt.substring(Nt):Et+(vt?mt:Rt+mt))+pt}}}u.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=u.round(t,di(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Cu[8+n/3]};var Mo=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ou=u.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=u.round(t,di(t,e))).toFixed(Math.max(0,Math.min(20,di(t*(1+1e-15),e))))}});function Su(t){return t+""}var $t=u.time={},Pe=Date;function $e(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}$e.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Qe.setUTCDate.apply(this._,arguments)},setDay:function(){Qe.setUTCDay.apply(this._,arguments)},setFullYear:function(){Qe.setUTCFullYear.apply(this._,arguments)},setHours:function(){Qe.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Qe.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Qe.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Qe.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Qe.setUTCSeconds.apply(this._,arguments)},setTime:function(){Qe.setTime.apply(this._,arguments)}};var Qe=Date.prototype;function dn(t,e,n){function r(d){var g=t(d),y=o(g,1);return d-g<y-d?g:y}function i(d){return e(d=t(new Pe(d-1)),1),d}function o(d,g){return e(d=new Pe(+d),g),d}function s(d,g,y){var k=i(d),Y=[];if(y>1)for(;k<g;)n(k)%y||Y.push(new Date(+k)),e(k,1);else for(;k<g;)Y.push(new Date(+k)),e(k,1);return Y}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=s;var c=t.utc=hr(t);return c.floor=c,c.round=hr(r),c.ceil=hr(i),c.offset=hr(o),c.range=function(d,g,y){try{Pe=$e;var k=new $e;return k._=d,s(k,g,y)}finally{Pe=Date}},t}function hr(t){return function(e,n){try{Pe=$e;var r=new $e;return r._=e,t(r,n)._}finally{Pe=Date}}}function Eu(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,c=t.shortMonths;function d(wt){var Nt=wt.length;function Rt(At){for(var le,he,me,Tt=[],Zt=-1,oe=0;++Zt<Nt;)37===wt.charCodeAt(Zt)&&(Tt.push(wt.slice(oe,Zt)),null!=(he=_o[le=wt.charAt(++Zt)])&&(le=wt.charAt(++Zt)),(me=$[le])&&(le=me(At,null==he?"e"===le?" ":"0":he)),Tt.push(le),oe=Zt+1);return Tt.push(wt.slice(oe,Zt)),Tt.join("")}return Rt.parse=function(At){var Tt={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(g(Tt,wt,At,0)!=At.length)return null;"p"in Tt&&(Tt.H=Tt.H%12+12*Tt.p);var oe=null!=Tt.Z&&Pe!==$e,le=new(oe?$e:Pe);return"j"in Tt?le.setFullYear(Tt.y,0,Tt.j):"W"in Tt||"U"in Tt?("w"in Tt||(Tt.w="W"in Tt?1:0),le.setFullYear(Tt.y,0,1),le.setFullYear(Tt.y,0,"W"in Tt?(Tt.w+6)%7+7*Tt.W-(le.getDay()+5)%7:Tt.w+7*Tt.U-(le.getDay()+6)%7)):le.setFullYear(Tt.y,Tt.m,Tt.d),le.setHours(Tt.H+(Tt.Z/100|0),Tt.M+Tt.Z%100,Tt.S,Tt.L),oe?le._:le},Rt.toString=function(){return wt},Rt}function g(wt,Nt,Rt,At){for(var Tt,Zt,oe,le=0,he=Nt.length,me=Rt.length;le<he;){if(At>=me)return-1;if(37===(Tt=Nt.charCodeAt(le++))){if(oe=Nt.charAt(le++),!(Zt=bt[oe in _o?Nt.charAt(le++):oe])||(At=Zt(wt,Rt,At))<0)return-1}else if(Tt!=Rt.charCodeAt(At++))return-1}return At}d.utc=function(wt){var Nt=d(wt);function Rt(At){try{var Tt=new(Pe=$e);return Tt._=At,Nt(Tt)}finally{Pe=Date}}return Rt.parse=function(At){try{Pe=$e;var Tt=Nt.parse(At);return Tt&&Tt._}finally{Pe=Date}},Rt.toString=Nt.toString,Rt},d.multi=d.utc.multi=Gu;var y=u.map(),k=gr(o),Y=pr(o),it=gr(s),N=pr(s),V=gr(l),H=pr(l),nt=gr(c),X=pr(c);i.forEach(function(wt,Nt){y.set(wt.toLowerCase(),Nt)});var $={a:function(wt){return s[wt.getDay()]},A:function(wt){return o[wt.getDay()]},b:function(wt){return c[wt.getMonth()]},B:function(wt){return l[wt.getMonth()]},c:d(e),d:function(wt,Nt){return Le(wt.getDate(),Nt,2)},e:function(wt,Nt){return Le(wt.getDate(),Nt,2)},H:function(wt,Nt){return Le(wt.getHours(),Nt,2)},I:function(wt,Nt){return Le(wt.getHours()%12||12,Nt,2)},j:function(wt,Nt){return Le(1+$t.dayOfYear(wt),Nt,3)},L:function(wt,Nt){return Le(wt.getMilliseconds(),Nt,3)},m:function(wt,Nt){return Le(wt.getMonth()+1,Nt,2)},M:function(wt,Nt){return Le(wt.getMinutes(),Nt,2)},p:function(wt){return i[+(wt.getHours()>=12)]},S:function(wt,Nt){return Le(wt.getSeconds(),Nt,2)},U:function(wt,Nt){return Le($t.sundayOfYear(wt),Nt,2)},w:function(wt){return wt.getDay()},W:function(wt,Nt){return Le($t.mondayOfYear(wt),Nt,2)},x:d(n),X:d(r),y:function(wt,Nt){return Le(wt.getFullYear()%100,Nt,2)},Y:function(wt,Nt){return Le(wt.getFullYear()%1e4,Nt,4)},Z:Vu,"%":function(){return"%"}},bt={a:function(wt,Nt,Rt){it.lastIndex=0;var At=it.exec(Nt.slice(Rt));return At?(wt.w=N.get(At[0].toLowerCase()),Rt+At[0].length):-1},A:function(wt,Nt,Rt){k.lastIndex=0;var At=k.exec(Nt.slice(Rt));return At?(wt.w=Y.get(At[0].toLowerCase()),Rt+At[0].length):-1},b:function(wt,Nt,Rt){nt.lastIndex=0;var At=nt.exec(Nt.slice(Rt));return At?(wt.m=X.get(At[0].toLowerCase()),Rt+At[0].length):-1},B:function(wt,Nt,Rt){V.lastIndex=0;var At=V.exec(Nt.slice(Rt));return At?(wt.m=H.get(At[0].toLowerCase()),Rt+At[0].length):-1},c:function(wt,Nt,Rt){return g(wt,$.c.toString(),Nt,Rt)},d:wo,e:wo,H:Co,I:Co,j:Iu,L:Hu,m:Bu,M:Ru,p:function(wt,Nt,Rt){var At=y.get(Nt.slice(Rt,Rt+=2).toLowerCase());return null==At?-1:(wt.p=At,Rt)},S:Yu,U:Lu,w:Nu,W:Du,x:function(wt,Nt,Rt){return g(wt,$.x.toString(),Nt,Rt)},X:function(wt,Nt,Rt){return g(wt,$.X.toString(),Nt,Rt)},y:zu,Y:Wu,Z:Fu,"%":Xu};return d}$t.year=dn(function(t){return(t=$t.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),$t.years=$t.year.range,$t.years.utc=$t.year.utc.range,$t.day=dn(function(t){var e=new Pe(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),$t.days=$t.day.range,$t.days.utc=$t.day.utc.range,$t.dayOfYear=function(t){var e=$t.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=$t[t]=dn(function(r){return(r=$t.day(r)).setDate(r.getDate()-(r.getDay()+e)%7),r},function(r,i){r.setDate(r.getDate()+7*Math.floor(i))},function(r){var i=$t.year(r).getDay();return Math.floor(($t.dayOfYear(r)+(i+e)%7)/7)-(i!==e)});$t[t+"s"]=n.range,$t[t+"s"].utc=n.utc.range,$t[t+"OfYear"]=function(r){var i=$t.year(r).getDay();return Math.floor(($t.dayOfYear(r)+(i+e)%7)/7)}}),$t.week=$t.sunday,$t.weeks=$t.sunday.range,$t.weeks.utc=$t.sunday.utc.range,$t.weekOfYear=$t.sundayOfYear;var _o={"-":"",_:" ",0:"0"},Me=/^\s*\d+/,ko=/^%/;function Le(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function gr(t){return new RegExp("^(?:"+t.map(u.requote).join("|")+")","i")}function pr(t){for(var e=new L,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Nu(t,e,n){Me.lastIndex=0;var r=Me.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Lu(t,e,n){Me.lastIndex=0;var r=Me.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Du(t,e,n){Me.lastIndex=0;var r=Me.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Wu(t,e,n){Me.lastIndex=0;var r=Me.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function zu(t,e,n){Me.lastIndex=0;var r=Me.exec(e.slice(n,n+2));return r?(t.y=function(t){return t+(t>68?1900:2e3)}(+r[0]),n+r[0].length):-1}function Fu(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Bu(t,e,n){Me.lastIndex=0;var r=Me.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function wo(t,e,n){Me.lastIndex=0;var r=Me.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Iu(t,e,n){Me.lastIndex=0;var r=Me.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function Co(t,e,n){Me.lastIndex=0;var r=Me.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ru(t,e,n){Me.lastIndex=0;var r=Me.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Yu(t,e,n){Me.lastIndex=0;var r=Me.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Hu(t,e,n){Me.lastIndex=0;var r=Me.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Vu(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=R(e)/60|0,i=R(e)%60;return n+Le(r,"0",2)+Le(i,"0",2)}function Xu(t,e,n){ko.lastIndex=0;var r=ko.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Gu(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(r){for(var i=0,o=t[i];!o[1](r);)o=t[++i];return o[0](r)}}u.locale=function(t){return{numberFormat:Pu(t),timeFormat:Eu(t)}};var Ao=u.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hi(){}u.format=Ao.numberFormat,u.geo={},hi.prototype={s:0,t:0,add:function(t){Po(t,this.t,vr),Po(vr.s,this.s,this),this.s?this.t+=vr.t:this.s=vr.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var vr=new hi;function Po(t,e,n){var r=n.s=t+e,i=r-t;n.t=t-(r-i)+(e-i)}function mr(t,e){t&&So.hasOwnProperty(t.type)&&So[t.type](t,e)}u.geo.stream=function(t,e){t&&Oo.hasOwnProperty(t.type)?Oo[t.type](t,e):mr(t,e)};var Oo={Feature:function(t,e){mr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)mr(n[r].geometry,e)}},So={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)e.point((t=n[r])[0],t[1],t[2])},LineString:function(t,e){gi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)gi(n[r],e,0)},Polygon:function(t,e){Eo(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Eo(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)mr(n[r],e)}};function gi(t,e,n){var o,r=-1,i=t.length-n;for(e.lineStart();++r<i;)e.point((o=t[r])[0],o[1],o[2]);e.lineEnd()}function Eo(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)gi(t[n],e,1);e.polygonEnd()}u.geo.area=function(t){return yr=0,u.geo.stream(t,Te),yr};var yr,hn=new hi,Te={sphere:function(){yr+=4*It},point:h,lineStart:h,lineEnd:h,polygonStart:function(){hn.reset(),Te.lineStart=qu},polygonEnd:function(){var t=2*hn;yr+=t<0?4*It+t:t,Te.lineStart=Te.lineEnd=Te.point=h}};function qu(){var t,e,n,r,i;function o(s,l){l=l*te/2+It/4;var c=(s*=te)-n,d=c>=0?1:-1,g=d*c,y=Math.cos(l),k=Math.sin(l),Y=i*k,it=r*y+Y*Math.cos(g),N=Y*d*Math.sin(g);hn.add(Math.atan2(N,it)),n=s,r=y,i=k}Te.point=function(s,l){Te.point=o,n=(t=s)*te,r=Math.cos(l=(e=l)*te/2+It/4),i=Math.sin(l)},Te.lineEnd=function(){o(t,e)}}function gn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function xr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Cn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function pi(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function br(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Mr(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function _r(t){return[Math.atan2(t[1],t[0]),nn(t[2])]}function kr(t,e){return R(t[0]-e[0])<Yt&&R(t[1]-e[1])<Yt}u.geo.bounds=function(){var t,e,n,r,i,o,s,l,c,d,g,y={point:k,lineStart:it,lineEnd:N,polygonStart:function(){y.point=V,y.lineStart=H,y.lineEnd=nt,c=0,Te.polygonStart()},polygonEnd:function(){Te.polygonEnd(),y.point=k,y.lineStart=it,y.lineEnd=N,hn<0?(t=-(n=180),e=-(r=90)):c>Yt?r=90:c<-Yt&&(e=-90),g[0]=t,g[1]=n}};function k(vt,mt){d.push(g=[t=vt,n=vt]),mt<e&&(e=mt),mt>r&&(r=mt)}function Y(vt,mt){var pt=gn([vt*te,mt*te]);if(l){var Et=Cn(l,pt),qt=Cn([Et[1],-Et[0],0],Et);Mr(qt),qt=_r(qt);var Vt=vt-i,Gt=Vt>0?1:-1,wt=qt[0]*de*Gt,Nt=R(Vt)>180;if(Nt^(Gt*i<wt&&wt<Gt*vt))(Rt=qt[1]*de)>r&&(r=Rt);else if(Nt^(Gt*i<(wt=(wt+360)%360-180)&&wt<Gt*vt)){var Rt;(Rt=-qt[1]*de)<e&&(e=Rt)}else mt<e&&(e=mt),mt>r&&(r=mt);Nt?vt<i?X(t,vt)>X(t,n)&&(n=vt):X(vt,n)>X(t,n)&&(t=vt):n>=t?(vt<t&&(t=vt),vt>n&&(n=vt)):vt>i?X(t,vt)>X(t,n)&&(n=vt):X(vt,n)>X(t,n)&&(t=vt)}else k(vt,mt);l=pt,i=vt}function it(){y.point=Y}function N(){g[0]=t,g[1]=n,y.point=k,l=null}function V(vt,mt){if(l){var pt=vt-i;c+=R(pt)>180?pt+(pt>0?360:-360):pt}else o=vt,s=mt;Te.point(vt,mt),Y(vt,mt)}function H(){Te.lineStart()}function nt(){V(o,s),Te.lineEnd(),R(c)>Yt&&(t=-(n=180)),g[0]=t,g[1]=n,l=null}function X(vt,mt){return(mt-=vt)<0?mt+360:mt}function $(vt,mt){return vt[0]-mt[0]}function bt(vt,mt){return mt[0]<=mt[1]?mt[0]<=vt&&vt<=mt[1]:vt<mt[0]||mt[1]<vt}return function(vt){if(r=n=-(t=e=1/0),d=[],u.geo.stream(vt,y),mt=d.length){d.sort($);for(var pt=1,qt=[Et=d[0]];pt<mt;++pt)bt((Wt=d[pt])[0],Et)||bt(Wt[1],Et)?(X(Et[0],Wt[1])>X(Et[0],Et[1])&&(Et[1]=Wt[1]),X(Wt[0],Et[1])>X(Et[0],Et[1])&&(Et[0]=Wt[0])):qt.push(Et=Wt);for(var Gt,mt,Wt,Vt=-1/0,Et=(pt=0,qt[mt=qt.length-1]);pt<=mt;Et=Wt,++pt)(Gt=X(Et[1],(Wt=qt[pt])[0]))>Vt&&(Vt=Gt,t=Wt[0],n=Et[1])}return d=g=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),u.geo.centroid=function(t){Rn=wr=pn=vn=Je=rn=on=Ue=An=Pn=an=0,u.geo.stream(t,Ve);var e=An,n=Pn,r=an,i=e*e+n*n+r*r;return i<ce&&(e=rn,n=on,r=Ue,wr<Yt&&(e=pn,n=vn,r=Je),(i=e*e+n*n+r*r)<ce)?[NaN,NaN]:[Math.atan2(n,e)*de,nn(r/Math.sqrt(i))*de]};var Rn,wr,pn,vn,Je,rn,on,Ue,An,Pn,an,Ve={sphere:h,point:vi,lineStart:No,lineEnd:Lo,polygonStart:function(){Ve.lineStart=ju},polygonEnd:function(){Ve.lineStart=No}};function vi(t,e){t*=te;var n=Math.cos(e*=te);Yn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Yn(t,e,n){++Rn,pn+=(t-pn)/Rn,vn+=(e-vn)/Rn,Je+=(n-Je)/Rn}function No(){var t,e,n;function r(i,o){i*=te;var s=Math.cos(o*=te),l=s*Math.cos(i),c=s*Math.sin(i),d=Math.sin(o),g=Math.atan2(Math.sqrt((g=e*d-n*c)*g+(g=n*l-t*d)*g+(g=t*c-e*l)*g),t*l+e*c+n*d);wr+=g,rn+=g*(t+(t=l)),on+=g*(e+(e=c)),Ue+=g*(n+(n=d)),Yn(t,e,n)}Ve.point=function(i,o){i*=te;var s=Math.cos(o*=te);t=s*Math.cos(i),e=s*Math.sin(i),n=Math.sin(o),Ve.point=r,Yn(t,e,n)}}function Lo(){Ve.point=vi}function ju(){var t,e,n,r,i;function o(s,l){s*=te;var c=Math.cos(l*=te),d=c*Math.cos(s),g=c*Math.sin(s),y=Math.sin(l),k=r*y-i*g,Y=i*d-n*y,it=n*g-r*d,N=Math.sqrt(k*k+Y*Y+it*it),V=n*d+r*g+i*y,H=N&&-er(V)/N,nt=Math.atan2(N,V);An+=H*k,Pn+=H*Y,an+=H*it,wr+=nt,rn+=nt*(n+(n=d)),on+=nt*(r+(r=g)),Ue+=nt*(i+(i=y)),Yn(n,r,i)}Ve.point=function(s,l){t=s,e=l,Ve.point=o,s*=te;var c=Math.cos(l*=te);n=c*Math.cos(s),r=c*Math.sin(s),i=Math.sin(l),Yn(n,r,i)},Ve.lineEnd=function(){o(t,e),Ve.lineEnd=Lo,Ve.point=vi}}function Do(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return(r=e.invert(r,i))&&t.invert(r[0],r[1])}),n}function Hn(){return!0}function Wo(t,e,n,r,i){var o=[],s=[];if(t.forEach(function(N){if(!((V=N.length-1)<=0)){var V,H=N[0],nt=N[V];if(kr(H,nt)){i.lineStart();for(var X=0;X<V;++X)i.point((H=N[X])[0],H[1]);return void i.lineEnd()}var $=new Cr(H,N,null,!0),bt=new Cr(H,null,$,!1);$.o=bt,o.push($),s.push(bt),$=new Cr(nt,N,null,!1),bt=new Cr(nt,null,$,!0),$.o=bt,o.push($),s.push(bt)}}),s.sort(e),zo(o),zo(s),o.length){for(var l=0,c=n,d=s.length;l<d;++l)s[l].e=c=!c;for(var y,k,g=o[0];;){for(var Y=g,it=!0;Y.v;)if((Y=Y.n)===g)return;y=Y.z,i.lineStart();do{if(Y.v=Y.o.v=!0,Y.e){if(it)for(l=0,d=y.length;l<d;++l)i.point((k=y[l])[0],k[1]);else r(Y.x,Y.n.x,1,i);Y=Y.n}else{if(it)for(l=(y=Y.p.z).length-1;l>=0;--l)i.point((k=y[l])[0],k[1]);else r(Y.x,Y.p.x,-1,i);Y=Y.p}y=(Y=Y.o).z,it=!it}while(!Y.v);i.lineEnd()}}}function zo(t){if(e=t.length){for(var e,i,n=0,r=t[0];++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Cr(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Fo(t,e,n,r){return function(i,o){var s=e(o),l=i.invert(r[0],r[1]),c={point:d,lineStart:y,lineEnd:k,polygonStart:function(){c.point=X,c.lineStart=$,c.lineEnd=bt,Y=[],H=[]},polygonEnd:function(){c.point=d,c.lineStart=y,c.lineEnd=k,Y=u.merge(Y);var vt=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,s=0;hn.reset();for(var l=0,c=e.length;l<c;++l){var d=e[l],g=d.length;if(g)for(var y=d[0],k=y[0],Y=y[1]/2+It/4,it=Math.sin(Y),N=Math.cos(Y),V=1;;){V===g&&(V=0);var H=(t=d[V])[0],nt=t[1]/2+It/4,X=Math.sin(nt),$=Math.cos(nt),bt=H-k,vt=bt>=0?1:-1,mt=vt*bt,pt=mt>It,Et=it*X;if(hn.add(Math.atan2(Et*vt*Math.sin(mt),N*$+Et*Math.cos(mt))),o+=pt?bt+vt*Kt:bt,pt^k>=n^H>=n){var Wt=Cn(gn(y),gn(t));Mr(Wt);var qt=Cn(i,Wt);Mr(qt);var Vt=(pt^bt>=0?-1:1)*nn(qt[2]);(r>Vt||r===Vt&&(Wt[0]||Wt[1]))&&(s+=pt^bt>=0?1:-1)}if(!V++)break;k=H,it=X,N=$,y=t}}return(o<-Yt||o<Yt&&hn<-Yt)^1&s}(l,H);Y.length?(V||(o.polygonStart(),V=!0),Wo(Y,Zu,vt,n,o)):vt&&(V||(o.polygonStart(),V=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),V&&(o.polygonEnd(),V=!1),Y=H=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function d(vt,mt){var pt=i(vt,mt);t(vt=pt[0],mt=pt[1])&&o.point(vt,mt)}function g(vt,mt){var pt=i(vt,mt);s.point(pt[0],pt[1])}function y(){c.point=g,s.lineStart()}function k(){c.point=d,s.lineEnd()}var Y,H,nt,it=To(),N=e(it),V=!1;function X(vt,mt){nt.push([vt,mt]);var pt=i(vt,mt);N.point(pt[0],pt[1])}function $(){N.lineStart(),nt=[]}function bt(){X(nt[0][0],nt[0][1]),N.lineEnd();var pt,vt=N.clean(),mt=it.buffer(),Et=mt.length;if(nt.pop(),H.push(nt),nt=null,Et){if(1&vt){var qt,Wt=-1;if((Et=(pt=mt[0]).length-1)>0){for(V||(o.polygonStart(),V=!0),o.lineStart();++Wt<Et;)o.point((qt=pt[Wt])[0],qt[1]);o.lineEnd()}return}Et>1&&2&vt&&mt.push(mt.pop().concat(mt.shift())),Y.push(mt.filter(Uu))}}return c}}function Uu(t){return t.length>1}function To(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(n,r){e.push([n,r])},lineEnd:h,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Zu(t,e){return((t=t.x)[0]<0?t[1]-ie-Yt:ie-t[1])-((e=e.x)[0]<0?e[1]-ie-Yt:ie-e[1])}var Bo=Fo(Hn,function(t){var i,e=NaN,n=NaN,r=NaN;return{lineStart:function(){t.lineStart(),i=1},point:function(o,s){var l=o>0?It:-It,c=R(o-e);R(c-It)<Yt?(t.point(e,n=(n+s)/2>0?ie:-ie),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(l,n),t.point(o,n),i=0):r!==l&&c>=It&&(R(e-r)<Yt&&(e-=r*Yt),R(o-l)<Yt&&(o-=l*Yt),n=function(t,e,n,r){var i,o,s=Math.sin(t-n);return R(s)>Yt?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*s)):(e+r)/2}(e,n,o,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(l,n),i=0),t.point(e=o,n=s),r=l},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}},function(t,e,n,r){var i;if(null==t)r.point(-It,i=n*ie),r.point(0,i),r.point(It,i),r.point(It,0),r.point(It,-i),r.point(0,-i),r.point(-It,-i),r.point(-It,0),r.point(-It,i);else if(R(t[0]-e[0])>Yt){var o=t[0]<e[0]?It:-It;r.point(-o,i=n*o/2),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-It,-It/2]);function tl(t){var e=Math.cos(t),n=e>0,r=R(e)>Yt;return Fo(o,function(d){var g,y,k,Y,it;return{lineStart:function(){Y=k=!1,it=1},point:function(N,V){var nt,H=[N,V],X=o(N,V),$=n?X?0:c(N,V):X?c(N+(N<0?It:-It),V):0;if(!g&&(Y=k=X)&&d.lineStart(),X!==k&&(nt=l(g,H),(kr(g,nt)||kr(H,nt))&&(H[0]+=Yt,H[1]+=Yt,X=o(H[0],H[1]))),X!==k)it=0,X?(d.lineStart(),nt=l(H,g),d.point(nt[0],nt[1])):(nt=l(g,H),d.point(nt[0],nt[1]),d.lineEnd()),g=nt;else if(r&&g&&n^X){var bt;!($&y)&&(bt=l(H,g,!0))&&(it=0,n?(d.lineStart(),d.point(bt[0][0],bt[0][1]),d.point(bt[1][0],bt[1][1]),d.lineEnd()):(d.point(bt[1][0],bt[1][1]),d.lineEnd(),d.lineStart(),d.point(bt[0][0],bt[0][1])))}X&&(!g||!kr(g,H))&&d.point(H[0],H[1]),g=H,k=X,y=$},lineEnd:function(){k&&d.lineEnd(),g=null},clean:function(){return it|(Y&&k)<<1}}},_i(t,6*te),n?[0,-t]:[-It,t-It]);function o(d,g){return Math.cos(d)*Math.cos(g)>e}function l(d,g,y){var it=[1,0,0],N=Cn(gn(d),gn(g)),V=xr(N,N),H=N[0],nt=V-H*H;if(!nt)return!y&&d;var X=e*V/nt,$=-e*H/nt,bt=Cn(it,N),vt=br(it,X);pi(vt,br(N,$));var pt=bt,Et=xr(vt,pt),Wt=xr(pt,pt),qt=Et*Et-Wt*(xr(vt,vt)-1);if(!(qt<0)){var Vt=Math.sqrt(qt),Gt=br(pt,(-Et-Vt)/Wt);if(pi(Gt,vt),Gt=_r(Gt),!y)return Gt;var Tt,wt=d[0],Nt=g[0],Rt=d[1],At=g[1];Nt<wt&&(Tt=wt,wt=Nt,Nt=Tt);var Zt=Nt-wt,oe=R(Zt-It)<Yt;if(!oe&&At<Rt&&(Tt=Rt,Rt=At,At=Tt),oe||Zt<Yt?oe?Rt+At>0^Gt[1]<(R(Gt[0]-wt)<Yt?Rt:At):Rt<=Gt[1]&&Gt[1]<=At:Zt>It^(wt<=Gt[0]&&Gt[0]<=Nt)){var he=br(pt,(-Et+Vt)/Wt);return pi(he,vt),[Gt,_r(he)]}}}function c(d,g){var y=n?t:It-t,k=0;return d<-y?k|=1:d>y&&(k|=2),g<-y?k|=4:g>y&&(k|=8),k}}function Io(t,e,n,r){return function(i){var N,o=i.a,s=i.b,l=o.x,c=o.y,y=0,k=1,Y=s.x-l,it=s.y-c;if(N=t-l,Y||!(N>0)){if(N/=Y,Y<0){if(N<y)return;N<k&&(k=N)}else if(Y>0){if(N>k)return;N>y&&(y=N)}if(N=n-l,Y||!(N<0)){if(N/=Y,Y<0){if(N>k)return;N>y&&(y=N)}else if(Y>0){if(N<y)return;N<k&&(k=N)}if(N=e-c,it||!(N>0)){if(N/=it,it<0){if(N<y)return;N<k&&(k=N)}else if(it>0){if(N>k)return;N>y&&(y=N)}if(N=r-c,it||!(N<0)){if(N/=it,it<0){if(N>k)return;N>y&&(y=N)}else if(it>0){if(N<y)return;N<k&&(k=N)}return y>0&&(i.a={x:l+y*Y,y:c+y*it}),k<1&&(i.b={x:l+k*Y,y:c+k*it}),i}}}}}}var Ar=1e9;function Ro(t,e,n,r){return function(l){var y,k,Y,X,$,bt,vt,mt,pt,Et,Wt,c=l,d=To(),g=Io(t,e,n,r),it={point:nt,lineStart:function(){it.point=Gt,k&&k.push(Y=[]),Et=!0,pt=!1,vt=mt=NaN},lineEnd:function(){y&&(Gt(X,$),bt&&pt&&d.rejoin(),y.push(d.buffer())),it.point=nt,pt&&l.lineEnd()},polygonStart:function(){l=d,y=[],k=[],Wt=!0},polygonEnd:function(){l=c,y=u.merge(y);var wt=function(wt){for(var Nt=0,Rt=k.length,At=wt[1],Tt=0;Tt<Rt;++Tt)for(var me,Zt=1,oe=k[Tt],le=oe.length,he=oe[0];Zt<le;++Zt)me=oe[Zt],he[1]<=At?me[1]>At&&Bn(he,me,wt)>0&&++Nt:me[1]<=At&&Bn(he,me,wt)<0&&--Nt,he=me;return 0!==Nt}([t,r]),Nt=Wt&&wt,Rt=y.length;(Nt||Rt)&&(l.polygonStart(),Nt&&(l.lineStart(),V(null,null,1,l),l.lineEnd()),Rt&&Wo(y,o,wt,V,l),l.polygonEnd()),y=k=Y=null}};function V(wt,Nt,Rt,At){var Tt=0,Zt=0;if(null==wt||(Tt=i(wt,Rt))!==(Zt=i(Nt,Rt))||s(wt,Nt)<0^Rt>0)do{At.point(0===Tt||3===Tt?t:n,Tt>1?r:e)}while((Tt=(Tt+Rt+4)%4)!==Zt);else At.point(Nt[0],Nt[1])}function H(wt,Nt){return t<=wt&&wt<=n&&e<=Nt&&Nt<=r}function nt(wt,Nt){H(wt,Nt)&&l.point(wt,Nt)}function Gt(wt,Nt){var Rt=H(wt=Math.max(-Ar,Math.min(Ar,wt)),Nt=Math.max(-Ar,Math.min(Ar,Nt)));if(k&&Y.push([wt,Nt]),Et)X=wt,$=Nt,bt=Rt,Et=!1,Rt&&(l.lineStart(),l.point(wt,Nt));else if(Rt&&pt)l.point(wt,Nt);else{var At={a:{x:vt,y:mt},b:{x:wt,y:Nt}};g(At)?(pt||(l.lineStart(),l.point(At.a.x,At.a.y)),l.point(At.b.x,At.b.y),Rt||l.lineEnd(),Wt=!1):Rt&&(l.lineStart(),l.point(wt,Nt),Wt=!1)}vt=wt,mt=Nt,pt=Rt}return it};function i(l,c){return R(l[0]-t)<Yt?c>0?0:3:R(l[0]-n)<Yt?c>0?2:1:R(l[1]-e)<Yt?c>0?1:0:c>0?3:2}function o(l,c){return s(l.x,c.x)}function s(l,c){var d=i(l,1),g=i(c,1);return d!==g?d-g:0===d?c[1]-l[1]:1===d?l[0]-c[0]:2===d?l[1]-c[1]:c[0]-l[0]}}function mi(t){var e=0,n=It/3,r=bi(t),i=r(e,n);return i.parallels=function(o){return arguments.length?r(e=o[0]*It/180,n=o[1]*It/180):[e/It*180,n/It*180]},i}function Yo(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function s(l,c){var d=Math.sqrt(i-2*r*Math.sin(c))/r;return[d*Math.sin(l*=r),o-d*Math.cos(l)]}return s.invert=function(l,c){var d=o-c;return[Math.atan2(l,d)/r,nn((i-(l*l+d*d)*r*r)/(2*r))]},s}u.geo.clipExtent=function(){var t,e,n,r,i,o,s={stream:function(l){return i&&(i.valid=!1),(i=o(l)).valid=!0,i},extent:function(l){return arguments.length?(o=Ro(t=+l[0][0],e=+l[0][1],n=+l[1][0],r=+l[1][1]),i&&(i.valid=!1,i=null),s):[[t,e],[n,r]]}};return s.extent([[0,0],[960,500]])},(u.geo.conicEqualArea=function(){return mi(Yo)}).raw=Yo,u.geo.albers=function(){return u.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},u.geo.albersUsa=function(){var r,o,s,l,t=u.geo.albers(),e=u.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),n=u.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i={point:function(d,g){r=[d,g]}};function c(d){var g=d[0],y=d[1];return r=null,o(g,y),r||(s(g,y),r)||l(g,y),r}return c.invert=function(d){var g=t.scale(),y=t.translate(),k=(d[0]-y[0])/g,Y=(d[1]-y[1])/g;return(Y>=.12&&Y<.234&&k>=-.425&&k<-.214?e:Y>=.166&&Y<.234&&k>=-.214&&k<-.115?n:t).invert(d)},c.stream=function(d){var g=t.stream(d),y=e.stream(d),k=n.stream(d);return{point:function(Y,it){g.point(Y,it),y.point(Y,it),k.point(Y,it)},sphere:function(){g.sphere(),y.sphere(),k.sphere()},lineStart:function(){g.lineStart(),y.lineStart(),k.lineStart()},lineEnd:function(){g.lineEnd(),y.lineEnd(),k.lineEnd()},polygonStart:function(){g.polygonStart(),y.polygonStart(),k.polygonStart()},polygonEnd:function(){g.polygonEnd(),y.polygonEnd(),k.polygonEnd()}}},c.precision=function(d){return arguments.length?(t.precision(d),e.precision(d),n.precision(d),c):t.precision()},c.scale=function(d){return arguments.length?(t.scale(d),e.scale(.35*d),n.scale(d),c.translate(t.translate())):t.scale()},c.translate=function(d){if(!arguments.length)return t.translate();var g=t.scale(),y=+d[0],k=+d[1];return o=t.translate(d).clipExtent([[y-.455*g,k-.238*g],[y+.455*g,k+.238*g]]).stream(i).point,s=e.translate([y-.307*g,k+.201*g]).clipExtent([[y-.425*g+Yt,k+.12*g+Yt],[y-.214*g-Yt,k+.234*g-Yt]]).stream(i).point,l=n.translate([y-.205*g,k+.212*g]).clipExtent([[y-.214*g+Yt,k+.166*g+Yt],[y-.115*g-Yt,k+.234*g-Yt]]).stream(i).point,c},c.scale(1070)};var yi,xi,un={point:h,lineStart:h,lineEnd:h,polygonStart:function(){xi=0,un.lineStart=el},polygonEnd:function(){un.lineStart=un.lineEnd=un.point=h,yi+=R(xi/2)}};function el(){var t,e,n,r;function i(o,s){xi+=r*o-n*s,n=o,r=s}un.point=function(o,s){un.point=i,t=n=o,e=r=s},un.lineEnd=function(){i(t,e)}}var Pr,Or,Sr,Er,nl={point:function(t,e){t<Pr&&(Pr=t),t>Sr&&(Sr=t),e<Or&&(Or=e),e>Er&&(Er=e)},lineStart:h,lineEnd:h,polygonStart:h,polygonEnd:h};function il(){var t=Ho(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:s,polygonStart:function(){n.lineEnd=l},polygonEnd:function(){n.lineEnd=s,n.point=r},pointRadius:function(c){return t=Ho(c),n},result:function(){if(e.length){var c=e.join("");return e=[],c}}};function r(c,d){e.push("M",c,",",d,t)}function i(c,d){e.push("M",c,",",d),n.point=o}function o(c,d){e.push("L",c,",",d)}function s(){n.point=r}function l(){e.push("Z")}return n}function Ho(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Xe={point:mn,lineStart:Vo,lineEnd:Xo,polygonStart:function(){Xe.lineStart=ol},polygonEnd:function(){Xe.point=mn,Xe.lineStart=Vo,Xe.lineEnd=Xo}};function mn(t,e){pn+=t,vn+=e,++Je}function Vo(){var t,e;function n(r,i){var o=r-t,s=i-e,l=Math.sqrt(o*o+s*s);rn+=l*(t+r)/2,on+=l*(e+i)/2,Ue+=l,mn(t=r,e=i)}Xe.point=function(r,i){Xe.point=n,mn(t=r,e=i)}}function Xo(){Xe.point=mn}function ol(){var t,e,n,r;function i(o,s){var l=o-n,c=s-r,d=Math.sqrt(l*l+c*c);rn+=d*(n+o)/2,on+=d*(r+s)/2,Ue+=d,An+=(d=r*o-n*s)*(n+o),Pn+=d*(r+s),an+=3*d,mn(n=o,r=s)}Xe.point=function(o,s){Xe.point=i,mn(t=n=o,e=r=s)},Xe.lineEnd=function(){i(t,e)}}function al(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:s,polygonStart:function(){n.lineEnd=l},polygonEnd:function(){n.lineEnd=s,n.point=r},pointRadius:function(c){return e=c,n},result:h};function r(c,d){t.moveTo(c+e,d),t.arc(c,d,e,0,Kt)}function i(c,d){t.moveTo(c,d),n.point=o}function o(c,d){t.lineTo(c,d)}function s(){n.point=r}function l(){t.closePath()}return n}function Go(t){var e=.5,n=Math.cos(30*te),r=16;function i(c){return(r?s:o)(c)}function o(c){return jo(c,function(d,g){d=t(d,g),c.point(d[0],d[1])})}function s(c){var d,y,k,Y,it,N,V,H,nt,X,$,bt,vt={point:mt,lineStart:pt,lineEnd:Wt,polygonStart:function(){c.polygonStart(),vt.lineStart=qt},polygonEnd:function(){c.polygonEnd(),vt.lineStart=pt}};function mt(wt,Nt){wt=t(wt,Nt),c.point(wt[0],wt[1])}function pt(){H=NaN,vt.point=Et,c.lineStart()}function Et(wt,Nt){var Rt=gn([wt,Nt]),At=t(wt,Nt);l(H,nt,V,X,$,bt,H=At[0],nt=At[1],V=wt,X=Rt[0],$=Rt[1],bt=Rt[2],r,c),c.point(H,nt)}function Wt(){vt.point=mt,c.lineEnd()}function qt(){pt(),vt.point=Vt,vt.lineEnd=Gt}function Vt(wt,Nt){Et(d=wt,Nt),y=H,k=nt,Y=X,it=$,N=bt,vt.point=Et}function Gt(){l(H,nt,V,X,$,bt,y,k,d,Y,it,N,r,c),vt.lineEnd=Wt,Wt()}return vt}function l(c,d,g,y,k,Y,it,N,V,H,nt,X,$,bt){var vt=it-c,mt=N-d,pt=vt*vt+mt*mt;if(pt>4*e&&$--){var Et=y+H,Wt=k+nt,qt=Y+X,Vt=Math.sqrt(Et*Et+Wt*Wt+qt*qt),Gt=Math.asin(qt/=Vt),wt=R(R(qt)-1)<Yt||R(g-V)<Yt?(g+V)/2:Math.atan2(Wt,Et),Nt=t(wt,Gt),Rt=Nt[0],At=Nt[1],Tt=Rt-c,Zt=At-d,oe=mt*Tt-vt*Zt;(oe*oe/pt>e||R((vt*Tt+mt*Zt)/pt-.5)>.3||y*H+k*nt+Y*X<n)&&(l(c,d,g,y,k,Y,Rt,At,wt,Et/=Vt,Wt/=Vt,qt,$,bt),bt.point(Rt,At),l(Rt,At,wt,Et,Wt,qt,it,N,V,H,nt,X,$,bt))}}return i.precision=function(c){return arguments.length?(r=(e=c*c)>0&&16,i):Math.sqrt(e)},i}function ul(t){var e=Go(function(n,r){return t([n*de,r*de])});return function(n){return Uo(e(n))}}function qo(t){this.stream=t}function jo(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function ln(t){return bi(function(){return t})()}function bi(t){var e,n,r,Y,it,X,i=Go(function(pt,Et){return[(pt=e(pt,Et))[0]*o+Y,it-pt[1]*o]}),o=150,s=480,l=250,c=0,d=0,g=0,y=0,k=0,N=Bo,V=D,H=null,nt=null;function $(pt){return[(pt=r(pt[0]*te,pt[1]*te))[0]*o+Y,it-pt[1]*o]}function bt(pt){return(pt=r.invert((pt[0]-Y)/o,(it-pt[1])/o))&&[pt[0]*de,pt[1]*de]}function vt(){r=Do(n=Mi(g,y,k),e);var pt=e(c,d);return Y=s-pt[0]*o,it=l+pt[1]*o,mt()}function mt(){return X&&(X.valid=!1,X=null),$}return $.stream=function(pt){return X&&(X.valid=!1),(X=Uo(N(n,i(V(pt))))).valid=!0,X},$.clipAngle=function(pt){return arguments.length?(N=null==pt?(H=pt,Bo):tl((H=+pt)*te),mt()):H},$.clipExtent=function(pt){return arguments.length?(nt=pt,V=pt?Ro(pt[0][0],pt[0][1],pt[1][0],pt[1][1]):D,mt()):nt},$.scale=function(pt){return arguments.length?(o=+pt,vt()):o},$.translate=function(pt){return arguments.length?(s=+pt[0],l=+pt[1],vt()):[s,l]},$.center=function(pt){return arguments.length?(c=pt[0]%360*te,d=pt[1]%360*te,vt()):[c*de,d*de]},$.rotate=function(pt){return arguments.length?(g=pt[0]%360*te,y=pt[1]%360*te,k=pt.length>2?pt[2]%360*te:0,vt()):[g*de,y*de,k*de]},u.rebind($,i,"precision"),function(){return e=t.apply(this,arguments),$.invert=e.invert&&bt,vt()}}function Uo(t){return jo(t,function(e,n){t.point(e*te,n*te)})}function Vn(t,e){return[t,e]}function Zo(t,e){return[t>It?t-Kt:t<-It?t+Kt:t,e]}function Mi(t,e,n){return t?e||n?Do($o(t),Qo(e,n)):$o(t):e||n?Qo(e,n):Zo}function Ko(t){return function(e,n){return[(e+=t)>It?e-Kt:e<-It?e+Kt:e,n]}}function $o(t){var e=Ko(t);return e.invert=Ko(-t),e}function Qo(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),o=Math.sin(e);function s(l,c){var d=Math.cos(c),g=Math.cos(l)*d,y=Math.sin(l)*d,k=Math.sin(c),Y=k*n+g*r;return[Math.atan2(y*i-Y*o,g*n-k*r),nn(Y*i+y*o)]}return s.invert=function(l,c){var d=Math.cos(c),g=Math.cos(l)*d,y=Math.sin(l)*d,k=Math.sin(c),Y=k*i-y*o;return[Math.atan2(y*i+k*o,g*n+Y*r),nn(Y*n-g*r)]},s}function _i(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,s,l){var c=s*e;null!=i?(i=Jo(n,i),o=Jo(n,o),(s>0?i<o:i>o)&&(i+=s*Kt)):(i=t+s*Kt,o=t-.5*c);for(var d,g=i;s>0?g>o:g<o;g-=c)l.point((d=_r([n,-r*Math.cos(g),-r*Math.sin(g)]))[0],d[1])}}function Jo(t,e){var n=gn(e);n[0]-=t,Mr(n);var r=er(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Yt)%(2*Math.PI)}function ta(t,e,n){var r=u.range(t,e-Yt,n).concat(e);return function(i){return r.map(function(o){return[i,o]})}}function ea(t,e,n){var r=u.range(t,e-Yt,n).concat(e);return function(i){return r.map(function(o){return[o,i]})}}function ki(t){return t.source}function wi(t){return t.target}u.geo.path=function(){var e,n,r,i,o,t=4.5;function s(c){return c&&("function"==typeof t&&i.pointRadius(+t.apply(this,arguments)),(!o||!o.valid)&&(o=r(i)),u.geo.stream(c,o)),i.result()}function l(){return o=null,s}return s.area=function(c){return yi=0,u.geo.stream(c,r(un)),yi},s.centroid=function(c){return pn=vn=Je=rn=on=Ue=An=Pn=an=0,u.geo.stream(c,r(Xe)),an?[An/an,Pn/an]:Ue?[rn/Ue,on/Ue]:Je?[pn/Je,vn/Je]:[NaN,NaN]},s.bounds=function(c){return Sr=Er=-(Pr=Or=1/0),u.geo.stream(c,r(nl)),[[Pr,Or],[Sr,Er]]},s.projection=function(c){return arguments.length?(r=(e=c)?c.stream||ul(c):D,l()):e},s.context=function(c){return arguments.length?(i=null==(n=c)?new il:new al(c),"function"!=typeof t&&i.pointRadius(t),l()):n},s.pointRadius=function(c){return arguments.length?(t="function"==typeof c?c:(i.pointRadius(+c),+c),s):t},s.projection(u.geo.albersUsa()).context(null)},u.geo.transform=function(t){return{stream:function(e){var n=new qo(e);for(var r in t)n[r]=t[r];return n}}},qo.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},u.geo.projection=ln,u.geo.projectionMutator=bi,(u.geo.equirectangular=function(){return ln(Vn)}).raw=Vn.invert=Vn,u.geo.rotation=function(t){function e(n){return(n=t(n[0]*te,n[1]*te))[0]*=de,n[1]*=de,n}return t=Mi(t[0]%360*te,t[1]*te,t.length>2?t[2]*te:0),e.invert=function(n){return(n=t.invert(n[0]*te,n[1]*te))[0]*=de,n[1]*=de,n},e},Zo.invert=Vn,u.geo.circle=function(){var e,r,t=[0,0],n=6;function i(){var o="function"==typeof t?t.apply(this,arguments):t,s=Mi(-o[0]*te,-o[1]*te,0).invert,l=[];return r(null,null,1,{point:function(c,d){l.push(c=s(c,d)),c[0]*=de,c[1]*=de}}),{type:"Polygon",coordinates:[l]}}return i.origin=function(o){return arguments.length?(t=o,i):t},i.angle=function(o){return arguments.length?(r=_i((e=+o)*te,n*te),i):e},i.precision=function(o){return arguments.length?(r=_i(e*te,(n=+o)*te),i):n},i.angle(90)},u.geo.distance=function(t,e){var y,n=(e[0]-t[0])*te,r=t[1]*te,i=e[1]*te,o=Math.sin(n),s=Math.cos(n),l=Math.sin(r),c=Math.cos(r),d=Math.sin(i),g=Math.cos(i);return Math.atan2(Math.sqrt((y=g*o)*y+(y=c*d-l*g*s)*y),l*d+c*g*s)},u.geo.graticule=function(){var t,e,n,r,i,o,s,l,k,Y,it,N,c=10,d=c,g=90,y=360,V=2.5;function H(){return{type:"MultiLineString",coordinates:nt()}}function nt(){return u.range(Math.ceil(r/g)*g,n,g).map(it).concat(u.range(Math.ceil(l/y)*y,s,y).map(N)).concat(u.range(Math.ceil(e/c)*c,t,c).filter(function(X){return R(X%g)>Yt}).map(k)).concat(u.range(Math.ceil(o/d)*d,i,d).filter(function(X){return R(X%y)>Yt}).map(Y))}return H.lines=function(){return nt().map(function(X){return{type:"LineString",coordinates:X}})},H.outline=function(){return{type:"Polygon",coordinates:[it(r).concat(N(s).slice(1),it(n).reverse().slice(1),N(l).reverse().slice(1))]}},H.extent=function(X){return arguments.length?H.majorExtent(X).minorExtent(X):H.minorExtent()},H.majorExtent=function(X){return arguments.length?(l=+X[0][1],s=+X[1][1],(r=+X[0][0])>(n=+X[1][0])&&(X=r,r=n,n=X),l>s&&(X=l,l=s,s=X),H.precision(V)):[[r,l],[n,s]]},H.minorExtent=function(X){return arguments.length?(o=+X[0][1],i=+X[1][1],(e=+X[0][0])>(t=+X[1][0])&&(X=e,e=t,t=X),o>i&&(X=o,o=i,i=X),H.precision(V)):[[e,o],[t,i]]},H.step=function(X){return arguments.length?H.majorStep(X).minorStep(X):H.minorStep()},H.majorStep=function(X){return arguments.length?(g=+X[0],y=+X[1],H):[g,y]},H.minorStep=function(X){return arguments.length?(c=+X[0],d=+X[1],H):[c,d]},H.precision=function(X){return arguments.length?(V=+X,k=ta(o,i,90),Y=ea(e,t,V),it=ta(l,s,90),N=ea(r,n,V),H):V},H.majorExtent([[-180,-90+Yt],[180,90-Yt]]).minorExtent([[-180,-80-Yt],[180,80+Yt]])},u.geo.greatArc=function(){var e,r,t=ki,n=wi;function i(){return{type:"LineString",coordinates:[e||t.apply(this,arguments),r||n.apply(this,arguments)]}}return i.distance=function(){return u.geo.distance(e||t.apply(this,arguments),r||n.apply(this,arguments))},i.source=function(o){return arguments.length?(t=o,e="function"==typeof o?null:o,i):t},i.target=function(o){return arguments.length?(n=o,r="function"==typeof o?null:o,i):n},i.precision=function(){return arguments.length?i:0},i},u.geo.interpolate=function(t,e){return function(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),s=Math.cos(r),l=Math.sin(r),c=i*Math.cos(t),d=i*Math.sin(t),g=s*Math.cos(n),y=s*Math.sin(n),k=2*Math.asin(Math.sqrt(oo(r-e)+i*s*oo(n-t))),Y=1/Math.sin(k),it=k?function(N){var V=Math.sin(N*=k)*Y,H=Math.sin(k-N)*Y,nt=H*c+V*g,X=H*d+V*y,$=H*o+V*l;return[Math.atan2(X,nt)*de,Math.atan2($,Math.sqrt(nt*nt+X*X))*de]}:function(){return[t*de,e*de]};return it.distance=k,it}(t[0]*te,t[1]*te,e[0]*te,e[1]*te)},u.geo.length=function(t){return Ci=0,u.geo.stream(t,On),Ci};var Ci,On={sphere:h,point:h,lineStart:function(){var t,e,n;function r(i,o){var s=Math.sin(o*=te),l=Math.cos(o),c=R((i*=te)-t),d=Math.cos(c);Ci+=Math.atan2(Math.sqrt((c=l*Math.sin(c))*c+(c=n*s-e*l*d)*c),e*s+n*l*d),t=i,e=s,n=l}On.point=function(i,o){t=i*te,e=Math.sin(o*=te),n=Math.cos(o),On.point=r},On.lineEnd=function(){On.point=On.lineEnd=h}},lineEnd:h,polygonStart:h,polygonEnd:h};function Xn(t,e){function n(r,i){var o=Math.cos(r),s=Math.cos(i),l=t(o*s);return[l*s*Math.sin(r),l*Math.sin(i)]}return n.invert=function(r,i){var o=Math.sqrt(r*r+i*i),s=e(o),l=Math.sin(s),c=Math.cos(s);return[Math.atan2(r*l,o*c),Math.asin(o&&i*l/o)]},n}var na=Xn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(u.geo.azimuthalEqualArea=function(){return ln(na)}).raw=na;var ra=Xn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},D);function ia(t,e){var n=Math.cos(t),r=function(l){return Math.tan(It/4+l/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),o=n*Math.pow(r(t),i)/i;if(!i)return Nr;function s(l,c){o>0?c<-ie+Yt&&(c=-ie+Yt):c>ie-Yt&&(c=ie-Yt);var d=o/Math.pow(r(c),i);return[d*Math.sin(i*l),o-d*Math.cos(i*l)]}return s.invert=function(l,c){var d=o-c,g=tr(i)*Math.sqrt(l*l+d*d);return[Math.atan2(l,d)/i,2*Math.atan(Math.pow(o/g,1/i))-ie]},s}function oa(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(R(r)<Yt)return Vn;function o(s,l){var c=i-l;return[c*Math.sin(r*s),i-c*Math.cos(r*s)]}return o.invert=function(s,l){var c=i-l;return[Math.atan2(s,c)/r,i-tr(r)*Math.sqrt(s*s+c*c)]},o}(u.geo.azimuthalEquidistant=function(){return ln(ra)}).raw=ra,(u.geo.conicConformal=function(){return mi(ia)}).raw=ia,(u.geo.conicEquidistant=function(){return mi(oa)}).raw=oa;var aa=Xn(function(t){return 1/t},Math.atan);function Nr(t,e){return[t,Math.log(Math.tan(It/4+e/2))]}function ua(t){var o,e=ln(t),n=e.scale,r=e.translate,i=e.clipExtent;return e.scale=function(){var s=n.apply(e,arguments);return s===e?o?e.clipExtent(null):e:s},e.translate=function(){var s=r.apply(e,arguments);return s===e?o?e.clipExtent(null):e:s},e.clipExtent=function(s){var l=i.apply(e,arguments);if(l===e){if(o=null==s){var c=It*n(),d=r();i([[d[0]-c,d[1]-c],[d[0]+c,d[1]+c]])}}else o&&(l=null);return l},e.clipExtent(null)}(u.geo.gnomonic=function(){return ln(aa)}).raw=aa,Nr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-ie]},(u.geo.mercator=function(){return ua(Nr)}).raw=Nr;var la=Xn(function(){return 1},Math.asin);(u.geo.orthographic=function(){return ln(la)}).raw=la;var sa=Xn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function Ai(t,e){return[Math.log(Math.tan(It/4+e/2)),-t]}function Sn(t){return t[0]}function Gn(t){return t[1]}function ca(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&Bn(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function cl(t,e){return t[0]-e[0]||t[1]-e[1]}(u.geo.stereographic=function(){return ln(sa)}).raw=sa,Ai.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-ie]},(u.geo.transverseMercator=function(){var t=ua(Ai),e=t.center,n=t.rotate;return t.center=function(r){return r?e([-r[1],r[0]]):[(r=e())[1],-r[0]]},t.rotate=function(r){return r?n([r[0],r[1],r.length>2?r[2]+90:90]):[(r=n())[0],r[1],r[2]-90]},n([0,0,90])}).raw=Ai,u.geom={},u.geom.hull=function(t){var e=Sn,n=Gn;if(arguments.length)return r(t);function r(i){if(i.length<3)return[];var l,o=ve(e),s=ve(n),c=i.length,d=[],g=[];for(l=0;l<c;l++)d.push([+o.call(this,i[l],l),+s.call(this,i[l],l),l]);for(d.sort(cl),l=0;l<c;l++)g.push([d[l][0],-d[l][1]]);var y=ca(d),k=ca(g),Y=k[0]===y[0],it=k[k.length-1]===y[y.length-1],N=[];for(l=y.length-1;l>=0;--l)N.push(i[d[y[l]][2]]);for(l=+Y;l<k.length-it;++l)N.push(i[d[k[l]][2]]);return N}return r.x=function(i){return arguments.length?(e=i,r):e},r.y=function(i){return arguments.length?(n=i,r):n},r},u.geom.polygon=function(t){return Ct(t,Lr),t};var Lr=u.geom.polygon.prototype=[];function Pi(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Oi(t,e,n,r){var i=t[0],o=n[0],s=e[0]-i,l=r[0]-o,c=t[1],d=n[1],g=e[1]-c,y=r[1]-d,k=(l*(c-d)-y*(i-o))/(y*s-l*g);return[i+k*s,c+k*g]}function fa(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}Lr.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],i=0;++t<e;)i+=(n=r)[1]*(r=this[t])[0]-n[0]*r[1];return.5*i},Lr.centroid=function(t){var o,l,e=-1,n=this.length,r=0,i=0,s=this[n-1];for(arguments.length||(t=-1/(6*this.area()));++e<n;)r+=((o=s)[0]+(s=this[e])[0])*(l=o[0]*s[1]-s[0]*o[1]),i+=(o[1]+s[1])*l;return[r*t,i*t]},Lr.clip=function(t){for(var e,o,s,c,d,g,n=fa(t),r=-1,i=this.length-fa(this),l=this[i-1];++r<i;){for(e=t.slice(),t.length=0,c=this[r],d=e[(s=e.length-n)-1],o=-1;++o<s;)Pi(g=e[o],l,c)?(Pi(d,l,c)||t.push(Oi(d,g,l,c)),t.push(g)):Pi(d,l,c)&&t.push(Oi(d,g,l,c)),d=g;n&&t.push(t[0]),l=c}return t};var En,yn,Nn,Si,qn,da=[],ha=[];function fl(){zr(this),this.edge=this.site=this.circle=null}function ga(t){var e=da.pop()||new fl;return e.site=t,e}function Ei(t){Dn(t),Nn.remove(t),da.push(t),zr(t)}function dl(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,s=t.N,l=[t];Ei(t);for(var c=o;c.circle&&R(n-c.circle.x)<Yt&&R(r-c.circle.cy)<Yt;)o=c.P,l.unshift(c),Ei(c),c=o;l.unshift(c),Dn(c);for(var d=s;d.circle&&R(n-d.circle.x)<Yt&&R(r-d.circle.cy)<Yt;)s=d.N,l.push(d),Ei(d),d=s;l.push(d),Dn(d);var y,g=l.length;for(y=1;y<g;++y)Dr((d=l[y]).edge,(c=l[y-1]).site,d.site,i);(d=l[g-1]).edge=jn((c=l[0]).site,d.site,null,i),Ln(c),Ln(d)}function hl(t){for(var r,i,o,s,e=t.x,n=t.y,l=Nn._;l;)if((o=pa(l,n)-e)>Yt)l=l.L;else{if(!((s=e-gl(l,n))>Yt)){o>-Yt?(r=l.P,i=l):s>-Yt?(r=l,i=l.N):r=i=l;break}if(!l.R){r=l;break}l=l.R}var c=ga(t);if(Nn.insert(r,c),r||i){if(r===i)return Dn(r),i=ga(r.site),Nn.insert(c,i),c.edge=i.edge=jn(r.site,c.site),Ln(r),void Ln(i);if(!i)return void(c.edge=jn(r.site,c.site));Dn(r),Dn(i);var d=r.site,g=d.x,y=d.y,k=t.x-g,Y=t.y-y,it=i.site,N=it.x-g,V=it.y-y,H=2*(k*V-Y*N),nt=k*k+Y*Y,X=N*N+V*V,$={x:(V*nt-Y*X)/H+g,y:(k*X-N*nt)/H+y};Dr(i.edge,d,it,$),c.edge=jn(d,t,null,$),i.edge=jn(t,it,null,$),Ln(r),Ln(i)}}function pa(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var s=t.P;if(!s)return-1/0;var l=(n=s.site).x,c=n.y,d=c-e;if(!d)return l;var g=l-r,y=1/o-1/d,k=g/d;return y?(-k+Math.sqrt(k*k-2*y*(g*g/(-2*d)-c+d/2+i-o/2)))/y+r:(r+l)/2}function gl(t,e){var n=t.N;if(n)return pa(n,e);var r=t.site;return r.y===e?r.x:1/0}function va(t){this.site=t,this.edges=[]}function ma(t,e){return e.angle-t.angle}function vl(){zr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ln(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i.x,l=i.y,c=r.x-s,d=r.y-l,g=o.x-s,k=2*(c*(y=o.y-l)-d*g);if(!(k>=-ce)){var Y=c*c+d*d,it=g*g+y*y,N=(y*Y-d*it)/k,V=(c*it-g*Y)/k,y=V+l,H=ha.pop()||new vl;H.arc=t,H.site=i,H.x=N+s,H.y=y+Math.sqrt(N*N+V*V),H.cy=y,t.circle=H;for(var nt=null,X=qn._;X;)if(H.y<X.y||H.y===X.y&&H.x<=X.x){if(!X.L){nt=X.P;break}X=X.L}else{if(!X.R){nt=X;break}X=X.R}qn.insert(nt,H),nt||(Si=H)}}}}function Dn(t){var e=t.circle;e&&(e.P||(Si=e.N),qn.remove(e),ha.push(e),zr(e),t.circle=null)}function yl(t,e){var n=t.b;if(n)return!0;var V,H,r=t.a,i=e[0][0],o=e[1][0],s=e[0][1],l=e[1][1],c=t.l,d=t.r,g=c.x,y=c.y,k=d.x,Y=d.y,it=(g+k)/2;if(Y===y){if(it<i||it>=o)return;if(g>k){if(r){if(r.y>=l)return}else r={x:it,y:s};n={x:it,y:l}}else{if(r){if(r.y<s)return}else r={x:it,y:l};n={x:it,y:s}}}else if(H=(y+Y)/2-(V=(g-k)/(Y-y))*it,V<-1||V>1)if(g>k){if(r){if(r.y>=l)return}else r={x:(s-H)/V,y:s};n={x:(l-H)/V,y:l}}else{if(r){if(r.y<s)return}else r={x:(l-H)/V,y:l};n={x:(s-H)/V,y:s}}else if(y<Y){if(r){if(r.x>=o)return}else r={x:i,y:V*i+H};n={x:o,y:V*o+H}}else{if(r){if(r.x<i)return}else r={x:o,y:V*o+H};n={x:i,y:V*i+H}}return t.a=r,t.b=n,!0}function ya(t,e){this.l=t,this.r=e,this.a=this.b=null}function jn(t,e,n,r){var i=new ya(t,e);return En.push(i),n&&Dr(i,t,e,n),r&&Dr(i,e,t,r),yn[t.i].edges.push(new Wr(i,t,e)),yn[e.i].edges.push(new Wr(i,e,t)),i}function xl(t,e,n){var r=new ya(t,null);return r.a=e,r.b=n,En.push(r),r}function Dr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Wr(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Ni(){this._=null}function zr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Un(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Zn(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function xa(t){for(;t.L;)t=t.L;return t}function Li(t,e){var r,i,o,n=t.sort(bl).pop();for(En=[],yn=new Array(t.length),Nn=new Ni,qn=new Ni;;)if(o=Si,n&&(!o||n.y<o.y||n.y===o.y&&n.x<o.x))(n.x!==r||n.y!==i)&&(yn[n.i]=new va(n),hl(n),r=n.x,i=n.y),n=t.pop();else{if(!o)break;dl(o.arc)}e&&(function(t){for(var i,e=En,n=Io(t[0][0],t[0][1],t[1][0],t[1][1]),r=e.length;r--;)(!yl(i=e[r],t)||!n(i)||R(i.a.x-i.b.x)<Yt&&R(i.a.y-i.b.y)<Yt)&&(i.a=i.b=null,e.splice(r,1))}(e),function(t){for(var o,s,l,c,y,k,Y,it,N,V,e=t[0][0],n=t[1][0],r=t[0][1],i=t[1][1],d=yn,g=d.length;g--;)if((y=d[g])&&y.prepare())for(it=(Y=y.edges).length,k=0;k<it;)l=(V=Y[k].end()).x,c=V.y,s=(N=Y[++k%it].start()).y,(R(l-(o=N.x))>Yt||R(c-s)>Yt)&&(Y.splice(k,0,new Wr(xl(y.site,V,R(l-e)<Yt&&i-c>Yt?{x:e,y:R(o-e)<Yt?s:i}:R(c-i)<Yt&&n-l>Yt?{x:R(s-i)<Yt?o:n,y:i}:R(l-n)<Yt&&c-r>Yt?{x:n,y:R(o-n)<Yt?s:r}:R(c-r)<Yt&&l-e>Yt?{x:R(s-r)<Yt?o:e,y:r}:null),y.site,null)),++it)}(e));var s={cells:yn,edges:En};return Nn=qn=En=yn=null,s}function bl(t,e){return e.y-t.y||e.x-t.x}va.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)(!(n=t[e].edge).b||!n.a)&&t.splice(e,1);return t.sort(ma),t.length},Wr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Ni.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=xa(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Un(this,n),n=(t=n).U),n.C=!1,r.C=!0,Zn(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Zn(this,n),n=(t=n).U),n.C=!1,r.C=!0,Un(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,o,s,e=t.U,r=t.L,i=t.R;if(o=r?i?xa(i):r:i,e?e.L===t?e.L=o:e.R=o:this._=o,r&&i?(s=o.C,o.C=t.C,o.L=r,r.U=o,o!==i?(e=o.U,o.U=t.U,e.L=t=o.R,o.R=i,i.U=o):(o.U=e,e=o,t=o.R)):(s=t.C,t=o),t&&(t.U=e),!s){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===e.L){if((n=e.R).C&&(n.C=!1,e.C=!0,Un(this,e),n=e.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,Zn(this,n),n=e.R),n.C=e.C,e.C=n.R.C=!1,Un(this,e),t=this._;break}}else if((n=e.L).C&&(n.C=!1,e.C=!0,Zn(this,e),n=e.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,Un(this,n),n=e.L),n.C=e.C,e.C=n.L.C=!1,Zn(this,e),t=this._;break}n.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}},u.geom.voronoi=function(t){var e=Sn,n=Gn,r=e,i=n,o=Fr;if(t)return s(t);function s(c){var d=new Array(c.length),g=o[0][0],y=o[0][1],k=o[1][0],Y=o[1][1];return Li(l(c),o).cells.forEach(function(it,N){var V=it.edges,H=it.site;(d[N]=V.length?V.map(function(X){var $=X.start();return[$.x,$.y]}):H.x>=g&&H.x<=k&&H.y>=y&&H.y<=Y?[[g,Y],[k,Y],[k,y],[g,y]]:[]).point=c[N]}),d}function l(c){return c.map(function(d,g){return{x:Math.round(r(d,g)/Yt)*Yt,y:Math.round(i(d,g)/Yt)*Yt,i:g}})}return s.links=function(c){return Li(l(c)).edges.filter(function(d){return d.l&&d.r}).map(function(d){return{source:c[d.l.i],target:c[d.r.i]}})},s.triangles=function(c){var d=[];return Li(l(c)).cells.forEach(function(g,y){for(var H,k=g.site,Y=g.edges.sort(ma),it=-1,N=Y.length,nt=Y[N-1].edge,X=nt.l===k?nt.r:nt.l;++it<N;)H=X,X=(nt=Y[it].edge).l===k?nt.r:nt.l,y<H.i&&y<X.i&&Ml(k,H,X)<0&&d.push([c[y],c[H.i],c[X.i]])}),d},s.x=function(c){return arguments.length?(r=ve(e=c),s):e},s.y=function(c){return arguments.length?(i=ve(n=c),s):n},s.clipExtent=function(c){return arguments.length?(o=null==c?Fr:c,s):o===Fr?null:o},s.size=function(c){return arguments.length?s.clipExtent(c&&[[0,0],c]):o===Fr?null:o&&o[1]},s};var Fr=[[-1e6,-1e6],[1e6,1e6]];function Ml(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function _l(t){return t.x}function kl(t){return t.y}function Kn(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var s=.5*(n+i),l=.5*(r+o),c=e.nodes;c[0]&&Kn(t,c[0],n,r,s,l),c[1]&&Kn(t,c[1],s,r,i,l),c[2]&&Kn(t,c[2],n,l,s,o),c[3]&&Kn(t,c[3],s,l,i,o)}}function wl(t,e,n,r,i,o,s){var c,l=1/0;return function d(g,y,k,Y,it){if(!(y>o||k>s||Y<r||it<i)){if(N=g.point){var N,V=e-g.x,H=n-g.y,nt=V*V+H*H;if(nt<l){var X=Math.sqrt(l=nt);r=e-X,i=n-X,o=e+X,s=n+X,c=N}}for(var $=g.nodes,bt=.5*(y+Y),vt=.5*(k+it),Et=(n>=vt)<<1|e>=bt,Wt=Et+4;Et<Wt;++Et)if(g=$[3&Et])switch(3&Et){case 0:d(g,y,k,bt,vt);break;case 1:d(g,bt,k,Y,vt);break;case 2:d(g,y,vt,bt,it);break;case 3:d(g,bt,vt,Y,it)}}}(t,r,i,o,s),c}function Di(t,e){t=u.rgb(t),e=u.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,s=e.g-r,l=e.b-i;return function(c){return"#"+wn(Math.round(n+o*c))+wn(Math.round(r+s*c))+wn(Math.round(i+l*c))}}function Ma(t,e){var i,n={},r={};for(i in t)i in e?n[i]=xn(t[i],e[i]):r[i]=t[i];for(i in e)i in t||(r[i]=e[i]);return function(o){for(i in n)r[i]=n[i](o);return r}}function tn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function _a(t,e){var r,i,o,n=Wi.lastIndex=zi.lastIndex=0,s=-1,l=[],c=[];for(t+="",e+="";(r=Wi.exec(t))&&(i=zi.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:tn(r,i)})),n=zi.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?(e=c[0].x,function(d){return e(d)+""}):function(){return e}:(e=c.length,function(d){for(var y,g=0;g<e;++g)l[(y=c[g]).i]=y.x(d);return l.join("")})}u.geom.delaunay=function(t){return u.geom.voronoi().triangles(t)},u.geom.quadtree=function(t,e,n,r,i){var l,o=Sn,s=Gn;if(l=arguments.length)return o=_l,s=kl,3===l&&(i=n,r=e,n=e=0),c(t);function c(d){var g,Y,it,N,V,H,nt,X,$,y=ve(o),k=ve(s);if(null!=e)H=e,nt=n,X=r,$=i;else if(X=$=-(H=nt=1/0),Y=[],it=[],V=d.length,l)for(N=0;N<V;++N)(g=d[N]).x<H&&(H=g.x),g.y<nt&&(nt=g.y),g.x>X&&(X=g.x),g.y>$&&($=g.y),Y.push(g.x),it.push(g.y);else for(N=0;N<V;++N){var bt=+y(g=d[N],N),vt=+k(g,N);bt<H&&(H=bt),vt<nt&&(nt=vt),bt>X&&(X=bt),vt>$&&($=vt),Y.push(bt),it.push(vt)}var mt=X-H,pt=$-nt;function Et(Vt,Gt,wt,Nt,Rt,At,Tt,Zt){if(!isNaN(wt)&&!isNaN(Nt))if(Vt.leaf){var oe=Vt.x,le=Vt.y;if(null!=oe)if(R(oe-wt)+R(le-Nt)<.01)Wt(Vt,Gt,wt,Nt,Rt,At,Tt,Zt);else{var he=Vt.point;Vt.x=Vt.y=Vt.point=null,Wt(Vt,he,oe,le,Rt,At,Tt,Zt),Wt(Vt,Gt,wt,Nt,Rt,At,Tt,Zt)}else Vt.x=wt,Vt.y=Nt,Vt.point=Gt}else Wt(Vt,Gt,wt,Nt,Rt,At,Tt,Zt)}function Wt(Vt,Gt,wt,Nt,Rt,At,Tt,Zt){var oe=.5*(Rt+Tt),le=.5*(At+Zt),he=wt>=oe,me=Nt>=le,Se=me<<1|he;Vt.leaf=!1,he?Rt=oe:Tt=oe,me?At=le:Zt=le,Et(Vt=Vt.nodes[Se]||(Vt.nodes[Se]={leaf:!0,nodes:[],point:null,x:null,y:null}),Gt,wt,Nt,Rt,At,Tt,Zt)}mt>pt?$=nt+mt:X=H+pt;var qt={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Vt){Et(qt,Vt,+y(Vt,++N),+k(Vt,N),H,nt,X,$)},visit:function(Vt){Kn(Vt,qt,H,nt,X,$)},find:function(Vt){return wl(qt,Vt[0],Vt[1],H,nt,X,$)}};if(N=-1,null==e){for(;++N<V;)Et(qt,d[N],Y[N],it[N],H,nt,X,$);--N}else d.forEach(qt.add);return Y=it=d=g=null,qt}return c.x=function(d){return arguments.length?(o=d,c):o},c.y=function(d){return arguments.length?(s=d,c):s},c.extent=function(d){return arguments.length?(null==d?e=n=r=i=null:(e=+d[0][0],n=+d[0][1],r=+d[1][0],i=+d[1][1]),c):null==e?null:[[e,n],[r,i]]},c.size=function(d){return arguments.length?(null==d?e=n=r=i=null:(e=n=0,r=+d[0],i=+d[1]),c):null==e?null:[r-e,i-n]},c},u.interpolateRgb=Di,u.interpolateObject=Ma,u.interpolateNumber=tn,u.interpolateString=_a;var Wi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zi=new RegExp(Wi.source,"g");function xn(t,e){for(var r,n=u.interpolators.length;--n>=0&&!(r=u.interpolators[n](t,e)););return r}function Tr(t,e){var l,n=[],r=[],i=t.length,o=e.length,s=Math.min(t.length,e.length);for(l=0;l<s;++l)n.push(xn(t[l],e[l]));for(;l<i;++l)r[l]=t[l];for(;l<o;++l)r[l]=e[l];return function(c){for(l=0;l<s;++l)r[l]=n[l](c);return r}}u.interpolate=xn,u.interpolators=[function(t,e){var n=typeof e;return("string"===n?ar.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Di:_a:e instanceof fn?Di:Array.isArray(e)?Tr:"object"===n&&isNaN(e)?Ma:tn)(t,e)}],u.interpolateArray=Tr;var ka=function(){return D},Cl=u.map({linear:ka,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return Ol},cubic:function(){return Sl},sin:function(){return Ll},exp:function(){return Dl},circle:function(){return Wl},elastic:function(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Kt*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Kt/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return Tl}}),Al=u.map({in:D,out:wa,"in-out":Ca,"out-in":function(t){return Ca(wa(t))}});function Pl(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function wa(t){return function(e){return 1-t(1-e)}}function Ca(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Ol(t){return t*t}function Sl(t){return t*t*t}function El(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Ll(t){return 1-Math.cos(t*ie)}function Dl(t){return Math.pow(2,10*(t-1))}function Wl(t){return 1-Math.sqrt(1-t*t)}function Tl(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Aa(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Pa(t){var e=[t.a,t.b],n=[t.c,t.d],r=Sa(e),i=Oa(e,n),o=Sa(function(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*de,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*de:0}function Oa(t,e){return t[0]*e[0]+t[1]*e[1]}function Sa(t){var e=Math.sqrt(Oa(t,t));return e&&(t[0]/=e,t[1]/=e),e}u.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=Cl.get(n)||ka,Pl((r=Al.get(r)||D)(n.apply(null,C.call(arguments,1))))},u.interpolateHcl=function(t,e){t=u.hcl(t),e=u.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,s=e.c-r,l=e.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(c){return ri(n+o*c,r+s*c,i+l*c)+""}},u.interpolateHsl=function(t,e){t=u.hsl(t),e=u.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,s=e.s-r,l=e.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(c){return ei(n+o*c,r+s*c,i+l*c)+""}},u.interpolateLab=function(t,e){t=u.lab(t),e=u.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,s=e.a-r,l=e.b-i;return function(c){return fo(n+o*c,r+s*c,i+l*c)+""}},u.interpolateRound=Aa,u.transform=function(t){var e=x.createElementNS(u.ns.prefix.svg,"g");return(u.transform=function(n){if(null!=n){e.setAttribute("transform",n);var r=e.transform.baseVal.consolidate()}return new Pa(r?r.matrix:Hl)})(t)},Pa.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Hl={a:1,b:0,c:0,d:1,e:0,f:0};function Wn(t){return t.length?t.pop()+",":""}function Ea(t,e){var n=[],r=[];return t=u.transform(t),e=u.transform(e),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:tn(t[0],e[0])},{i:i-2,x:tn(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,r),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(Wn(n)+"rotate(",null,")")-2,x:tn(t,e)})):e&&n.push(Wn(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,r),function(t,e,n,r){t!==e?r.push({i:n.push(Wn(n)+"skewX(",null,")")-2,x:tn(t,e)}):e&&n.push(Wn(n)+"skewX("+e+")")}(t.skew,e.skew,n,r),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Wn(n)+"scale(",null,",",null,")");r.push({i:i-4,x:tn(t[0],e[0])},{i:i-2,x:tn(t[1],e[1])})}else(1!==e[0]||1!==e[1])&&n.push(Wn(n)+"scale("+e+")")}(t.scale,e.scale,n,r),t=e=null,function(i){for(var l,o=-1,s=r.length;++o<s;)n[(l=r[o]).i]=l.x(i);return n.join("")}}function jl(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Ul(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Zl(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;for(var n=Na(t),r=Na(e),i=n.pop(),o=r.pop(),s=null;i===o;)s=i,i=n.pop(),o=r.pop();return s}(e,n),i=[e];e!==r;)i.push(e=e.parent);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Na(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function $l(t){t.fixed|=2}function Ql(t){t.fixed&=-7}function Jl(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ts(t){t.fixed&=-5}function La(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var c,o=t.nodes,s=o.length,l=-1;++l<s;)null!=(c=o[l])&&(La(c,e,n),t.charge+=c.charge,r+=c.charge*c.cx,i+=c.charge*c.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var d=e*n[t.point.index];t.charge+=t.pointCharge=d,r+=d*t.point.x,i+=d*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}u.interpolateTransform=Ea,u.layout={},u.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Zl(t[n]));return e}},u.layout.chord=function(){var e,n,r,i,s,l,c,t={},o=0;function d(){var N,V,H,nt,X,y={},k=[],Y=u.range(i),it=[];for(e=[],n=[],N=0,nt=-1;++nt<i;){for(V=0,X=-1;++X<i;)V+=r[nt][X];k.push(V),it.push(u.range(i)),N+=V}for(s&&Y.sort(function(qt,Vt){return s(k[qt],k[Vt])}),l&&it.forEach(function(qt,Vt){qt.sort(function(Gt,wt){return l(r[Vt][Gt],r[Vt][wt])})}),N=(Kt-o*i)/N,V=0,nt=-1;++nt<i;){for(H=V,X=-1;++X<i;){var $=Y[nt],bt=it[$][X],vt=r[$][bt],mt=V,pt=V+=vt*N;y[$+"-"+bt]={index:$,subindex:bt,startAngle:mt,endAngle:pt,value:vt}}n[$]={index:$,startAngle:H,endAngle:V,value:k[$]},V+=o}for(nt=-1;++nt<i;)for(X=nt-1;++X<i;){var Et=y[nt+"-"+X],Wt=y[X+"-"+nt];(Et.value||Wt.value)&&e.push(Et.value<Wt.value?{source:Wt,target:Et}:{source:Et,target:Wt})}c&&g()}function g(){e.sort(function(y,k){return c((y.source.value+y.target.value)/2,(k.source.value+k.target.value)/2)})}return t.matrix=function(y){return arguments.length?(i=(r=y)&&r.length,e=n=null,t):r},t.padding=function(y){return arguments.length?(o=y,e=n=null,t):o},t.sortGroups=function(y){return arguments.length?(s=y,e=n=null,t):s},t.sortSubgroups=function(y){return arguments.length?(l=y,e=null,t):l},t.sortChords=function(y){return arguments.length?(c=y,e&&g(),t):c},t.chords=function(){return e||d(),e},t.groups=function(){return n||d(),n},t},u.layout.force=function(){var n,i,o,N,V,H,t={},e=u.dispatch("start","tick","end"),r=[1,1],s=.9,l=es,c=ns,d=-30,g=rs,y=.1,k=.64,Y=[],it=[];function nt($){return function(bt,vt,mt,pt){if(bt.point!==$){var Gt,Et=bt.cx-$.x,Wt=bt.cy-$.y,qt=pt-vt,Vt=Et*Et+Wt*Wt;if(qt*qt/k<Vt)return Vt<g&&($.px-=Et*(Gt=bt.charge/Vt),$.py-=Wt*Gt),!0;bt.point&&Vt&&Vt<g&&($.px-=Et*(Gt=bt.pointCharge/Vt),$.py-=Wt*Gt)}return!bt.charge}}function X($){$.px=u.event.x,$.py=u.event.y,t.resume()}return t.tick=function(){if((o*=.99)<.005)return n=null,e.end({type:"end",alpha:o=0}),!0;var vt,mt,pt,Et,Wt,qt,Vt,Gt,wt,$=Y.length,bt=it.length;for(mt=0;mt<bt;++mt)(qt=(Gt=(Wt=(pt=it[mt]).target).x-(Et=pt.source).x)*Gt+(wt=Wt.y-Et.y)*wt)&&(wt*=qt=o*V[mt]*((qt=Math.sqrt(qt))-N[mt])/qt,Wt.x-=(Gt*=qt)*(Vt=Et.weight+Wt.weight?Et.weight/(Et.weight+Wt.weight):.5),Wt.y-=wt*Vt,Et.x+=Gt*(Vt=1-Vt),Et.y+=wt*Vt);if((Vt=o*y)&&(Gt=r[0]/2,wt=r[1]/2,mt=-1,Vt))for(;++mt<$;)(pt=Y[mt]).x+=(Gt-pt.x)*Vt,pt.y+=(wt-pt.y)*Vt;if(d)for(La(vt=u.geom.quadtree(Y),o,H),mt=-1;++mt<$;)(pt=Y[mt]).fixed||vt.visit(nt(pt));for(mt=-1;++mt<$;)(pt=Y[mt]).fixed?(pt.x=pt.px,pt.y=pt.py):(pt.x-=(pt.px-(pt.px=pt.x))*s,pt.y-=(pt.py-(pt.py=pt.y))*s);e.tick({type:"tick",alpha:o})},t.nodes=function($){return arguments.length?(Y=$,t):Y},t.links=function($){return arguments.length?(it=$,t):it},t.size=function($){return arguments.length?(r=$,t):r},t.linkDistance=function($){return arguments.length?(l="function"==typeof $?$:+$,t):l},t.distance=t.linkDistance,t.linkStrength=function($){return arguments.length?(c="function"==typeof $?$:+$,t):c},t.friction=function($){return arguments.length?(s=+$,t):s},t.charge=function($){return arguments.length?(d="function"==typeof $?$:+$,t):d},t.chargeDistance=function($){return arguments.length?(g=$*$,t):Math.sqrt(g)},t.gravity=function($){return arguments.length?(y=+$,t):y},t.theta=function($){return arguments.length?(k=$*$,t):Math.sqrt(k)},t.alpha=function($){return arguments.length?($=+$,o?$>0?o=$:(n.c=null,n.t=NaN,n=null,e.end({type:"end",alpha:o=0})):$>0&&(e.start({type:"start",alpha:o=$}),n=dr(t.tick)),t):o},t.start=function(){var $,Et,Wt,bt=Y.length,vt=it.length,mt=r[0],pt=r[1];for($=0;$<bt;++$)(Wt=Y[$]).index=$,Wt.weight=0;for($=0;$<vt;++$)"number"==typeof(Wt=it[$]).source&&(Wt.source=Y[Wt.source]),"number"==typeof Wt.target&&(Wt.target=Y[Wt.target]),++Wt.source.weight,++Wt.target.weight;for($=0;$<bt;++$)Wt=Y[$],isNaN(Wt.x)&&(Wt.x=qt("x",mt)),isNaN(Wt.y)&&(Wt.y=qt("y",pt)),isNaN(Wt.px)&&(Wt.px=Wt.x),isNaN(Wt.py)&&(Wt.py=Wt.y);if(N=[],"function"==typeof l)for($=0;$<vt;++$)N[$]=+l.call(this,it[$],$);else for($=0;$<vt;++$)N[$]=l;if(V=[],"function"==typeof c)for($=0;$<vt;++$)V[$]=+c.call(this,it[$],$);else for($=0;$<vt;++$)V[$]=c;if(H=[],"function"==typeof d)for($=0;$<bt;++$)H[$]=+d.call(this,Y[$],$);else for($=0;$<bt;++$)H[$]=d;function qt(Vt,Gt){if(!Et){for(Et=new Array(bt),Rt=0;Rt<bt;++Rt)Et[Rt]=[];for(Rt=0;Rt<vt;++Rt){var wt=it[Rt];Et[wt.source.index].push(wt.target),Et[wt.target.index].push(wt.source)}}for(var Tt,Nt=Et[$],Rt=-1,At=Nt.length;++Rt<At;)if(!isNaN(Tt=Nt[Rt][Vt]))return Tt;return Math.random()*Gt}return t.resume()},t.resume=function(){return t.alpha(.1)},t.stop=function(){return t.alpha(0)},t.drag=function(){if(i||(i=u.behavior.drag().origin(D).on("dragstart.force",$l).on("drag.force",X).on("dragend.force",Ql)),!arguments.length)return i;this.on("mouseover.force",Jl).on("mouseout.force",ts).call(i)},u.rebind(t,e,"on")};var es=20,ns=1,rs=1/0;function $n(t,e){return u.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=us,t}function Qn(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Ze(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(s=t.children)&&(o=s.length))for(var o,s,i=-1;++i<o;)n.push(s[i]);for(;null!=(t=r.pop());)e(t)}function is(t){return t.children}function os(t){return t.value}function as(t,e){return e.value-t.value}function us(t){return u.merge(t.map(function(e){return(e.children||[]).map(function(n){return{source:e,target:n}})}))}u.layout.hierarchy=function(){var t=as,e=is,n=os;function r(i){var l,o=[i],s=[];for(i.depth=0;null!=(l=o.pop());)if(s.push(l),(d=e.call(r,l,l.depth))&&(c=d.length)){for(var c,d,g;--c>=0;)o.push(g=d[c]),g.parent=l,g.depth=l.depth+1;n&&(l.value=0),l.children=d}else n&&(l.value=+n.call(r,l,l.depth)||0),delete l.children;return Ze(i,function(y){var k,Y;t&&(k=y.children)&&k.sort(t),n&&(Y=y.parent)&&(Y.value+=y.value)}),s}return r.sort=function(i){return arguments.length?(t=i,r):t},r.children=function(i){return arguments.length?(e=i,r):e},r.value=function(i){return arguments.length?(n=i,r):n},r.revalue=function(i){return n&&(Qn(i,function(o){o.children&&(o.value=0)}),Ze(i,function(o){var s;o.children||(o.value=+n.call(r,o,o.depth)||0),(s=o.parent)&&(s.value+=o.value)})),i},r},u.layout.partition=function(){var t=u.layout.hierarchy(),e=[1,1];function n(o,s,l,c){var d=o.children;if(o.x=s,o.y=o.depth*c,o.dx=l,o.dy=c,d&&(y=d.length)){var y,k,Y,g=-1;for(l=o.value?l/o.value:0;++g<y;)n(k=d[g],s,Y=k.value*l,c),s+=Y}}function r(o){var s=o.children,l=0;if(s&&(d=s.length))for(var d,c=-1;++c<d;)l=Math.max(l,r(s[c]));return 1+l}function i(o,s){var l=t.call(this,o,s);return n(l[0],0,e[0],e[1]/r(l[0])),l}return i.size=function(o){return arguments.length?(e=o,i):e},$n(i,t)},u.layout.pie=function(){var t=Number,e=Da,n=0,r=Kt,i=0;function o(s){var H,l=s.length,c=s.map(function(nt,X){return+t.call(o,nt,X)}),d=+("function"==typeof n?n.apply(this,arguments):n),g=("function"==typeof r?r.apply(this,arguments):r)-d,y=Math.min(Math.abs(g)/l,+("function"==typeof i?i.apply(this,arguments):i)),k=y*(g<0?-1:1),Y=u.sum(c),it=Y?(g-l*k)/Y:0,N=u.range(l),V=[];return null!=e&&N.sort(e===Da?function(nt,X){return c[X]-c[nt]}:function(nt,X){return e(s[nt],s[X])}),N.forEach(function(nt){V[nt]={data:s[nt],value:H=c[nt],startAngle:d,endAngle:d+=H*it+k,padAngle:y}}),V}return o.value=function(s){return arguments.length?(t=s,o):t},o.sort=function(s){return arguments.length?(e=s,o):e},o.startAngle=function(s){return arguments.length?(n=s,o):n},o.endAngle=function(s){return arguments.length?(r=s,o):r},o.padAngle=function(s){return arguments.length?(i=s,o):i},o};var Da={};function ls(t){return t.x}function ss(t){return t.y}function cs(t,e,n){t.y0=e,t.y=n}u.layout.stack=function(){var t=D,e=Fi,n=Ti,r=cs,i=ls,o=ss;function s(l,c){if(!(it=l.length))return l;var d=l.map(function(nt,X){return t.call(s,nt,X)}),g=d.map(function(nt){return nt.map(function(X,$){return[i.call(s,X,$),o.call(s,X,$)]})}),y=e.call(s,g,c);d=u.permute(d,y),g=u.permute(g,y);var it,N,V,H,k=n.call(s,g,c),Y=d[0].length;for(V=0;V<Y;++V)for(r.call(s,d[0][V],H=k[V],g[0][V][1]),N=1;N<it;++N)r.call(s,d[N][V],H+=g[N-1][V][1],g[N][V][1]);return l}return s.values=function(l){return arguments.length?(t=l,s):t},s.order=function(l){return arguments.length?(e="function"==typeof l?l:fs.get(l)||Fi,s):e},s.offset=function(l){return arguments.length?(n="function"==typeof l?l:ds.get(l)||Ti,s):n},s.x=function(l){return arguments.length?(i=l,s):i},s.y=function(l){return arguments.length?(o=l,s):o},s.out=function(l){return arguments.length?(r=l,s):r},s};var fs=u.map({"inside-out":function(t){var n,r,e=t.length,i=t.map(hs),o=t.map(gs),s=u.range(e).sort(function(y,k){return i[y]-i[k]}),l=0,c=0,d=[],g=[];for(n=0;n<e;++n)r=s[n],l<c?(l+=o[r],d.push(r)):(c+=o[r],g.push(r));return g.reverse().concat(d)},reverse:function(t){return u.range(t.length).reverse()},default:Fi}),ds=u.map({silhouette:function(t){var o,s,l,e=t.length,n=t[0].length,r=[],i=0,c=[];for(s=0;s<n;++s){for(o=0,l=0;o<e;o++)l+=t[o][s][1];l>i&&(i=l),r.push(l)}for(s=0;s<n;++s)c[s]=(i-r[s])/2;return c},wiggle:function(t){var i,o,s,l,c,d,g,y,k,e=t.length,n=t[0],r=n.length,Y=[];for(Y[0]=y=k=0,o=1;o<r;++o){for(i=0,l=0;i<e;++i)l+=t[i][o][1];for(i=0,c=0,g=n[o][0]-n[o-1][0];i<e;++i){for(s=0,d=(t[i][o][1]-t[i][o-1][1])/(2*g);s<i;++s)d+=(t[s][o][1]-t[s][o-1][1])/g;c+=d*t[i][o][1]}Y[o]=y-=l?c/l*g:0,y<k&&(k=y)}for(o=0;o<r;++o)Y[o]-=k;return Y},expand:function(t){var i,o,s,e=t.length,n=t[0].length,r=1/e,l=[];for(o=0;o<n;++o){for(i=0,s=0;i<e;i++)s+=t[i][o][1];if(s)for(i=0;i<e;i++)t[i][o][1]/=s;else for(i=0;i<e;i++)t[i][o][1]=r}for(o=0;o<n;++o)l[o]=0;return l},zero:Ti});function Fi(t){return u.range(t.length)}function Ti(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function hs(t){for(var i,e=1,n=0,r=t[0][1],o=t.length;e<o;++e)(i=t[e][1])>r&&(n=e,r=i);return n}function gs(t){return t.reduce(ps,0)}function ps(t,e){return t+e[1]}function vs(t,e){return Wa(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Wa(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function ms(t){return[u.min(t),u.max(t)]}function ys(t,e){return t.value-e.value}function Bi(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function za(t,e){t._pack_next=e,e._pack_prev=t}function Fa(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function Ta(t){if((e=t.children)&&(k=e.length)){var e,s,l,c,d,g,y,k,n=1/0,r=-1/0,i=1/0,o=-1/0;if(e.forEach(xs),(s=e[0]).x=-s.r,s.y=0,Y(s),k>1&&((l=e[1]).x=l.r,l.y=0,Y(l),k>2))for(Ia(s,l,c=e[2]),Y(c),Bi(s,c),s._pack_prev=c,Bi(c,l),l=s._pack_next,d=3;d<k;d++){Ia(s,l,c=e[d]);var it=0,N=1,V=1;for(g=l._pack_next;g!==l;g=g._pack_next,N++)if(Fa(g,c)){it=1;break}if(1==it)for(y=s._pack_prev;y!==g._pack_prev&&!Fa(y,c);y=y._pack_prev,V++);it?(N<V||N==V&&l.r<s.r?za(s,l=g):za(s=y,l),d--):(Bi(s,c),l=c,Y(c))}var H=(n+r)/2,nt=(i+o)/2,X=0;for(d=0;d<k;d++)(c=e[d]).x-=H,c.y-=nt,X=Math.max(X,c.r+Math.sqrt(c.x*c.x+c.y*c.y));t.r=X,e.forEach(bs)}function Y($){n=Math.min($.x-$.r,n),r=Math.max($.x+$.r,r),i=Math.min($.y-$.r,i),o=Math.max($.y+$.r,o)}}function xs(t){t._pack_next=t._pack_prev=t}function bs(t){delete t._pack_next,delete t._pack_prev}function Ba(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,s=i.length;++o<s;)Ba(i[o],e,n,r)}function Ia(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var s=e.r+n.r,l=i*i+o*o,c=.5+((r*=r)-(s*=s))/(2*l),d=Math.sqrt(Math.max(0,2*s*(r+l)-(r-=l)*r-s*s))/(2*l);n.x=t.x+c*i+d*o,n.y=t.y+c*o-d*i}else n.x=t.x+r,n.y=t.y}function Ra(t,e){return t.parent==e.parent?1:2}function Ii(t){var e=t.children;return e.length?e[0]:t.t}function Ri(t){var n,e=t.children;return(n=e.length)?e[n-1]:t.t}function Ms(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function ks(t,e,n){return t.a.parent===e.parent?t.a:n}function Ya(t){var e=t.children;return e&&e.length?Ya(e[0]):t}function Ha(t){var n,e=t.children;return e&&(n=e.length)?Ha(e[n-1]):t}function Yi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Va(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function zn(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Br(t){return t.rangeExtent?t.rangeExtent():zn(t.range())}function As(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(s){return o(i(s))}}function Ir(t,e){var s,n=0,r=t.length-1,i=t[n],o=t[r];return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Xa(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Ps}u.layout.histogram=function(){var t=!0,e=Number,n=ms,r=vs;function i(o,s){for(var y,N,l=[],c=o.map(e,this),d=n.call(this,c,s),g=r.call(this,d,c,s),k=(s=-1,c.length),Y=g.length-1,it=t?1:1/k;++s<Y;)(y=l[s]=[]).dx=g[s+1]-(y.x=g[s]),y.y=0;if(Y>0)for(s=-1;++s<k;)(N=c[s])>=d[0]&&N<=d[1]&&((y=l[u.bisect(g,N,1,Y)-1]).y+=it,y.push(o[s]));return l}return i.value=function(o){return arguments.length?(e=o,i):e},i.range=function(o){return arguments.length?(n=ve(o),i):n},i.bins=function(o){return arguments.length?(r="number"==typeof o?function(s){return Wa(s,o)}:ve(o),i):r},i.frequency=function(o){return arguments.length?(t=!!o,i):t},i},u.layout.pack=function(){var r,t=u.layout.hierarchy().sort(ys),e=0,n=[1,1];function i(o,s){var l=t.call(this,o,s),c=l[0],d=n[0],g=n[1],y=null==r?Math.sqrt:"function"==typeof r?r:function(){return r};if(c.x=c.y=0,Ze(c,function(Y){Y.r=+y(Y.value)}),Ze(c,Ta),e){var k=e*(r?1:Math.max(2*c.r/d,2*c.r/g))/2;Ze(c,function(Y){Y.r+=k}),Ze(c,Ta),Ze(c,function(Y){Y.r-=k})}return Ba(c,d/2,g/2,r?1:1/Math.max(2*c.r/d,2*c.r/g)),l}return i.size=function(o){return arguments.length?(n=o,i):n},i.radius=function(o){return arguments.length?(r=null==o||"function"==typeof o?o:+o,i):r},i.padding=function(o){return arguments.length?(e=+o,i):e},$n(i,t)},u.layout.tree=function(){var t=u.layout.hierarchy().sort(null).value(null),e=Ra,n=[1,1],r=null;function i(g,y){var k=t.call(this,g,y),Y=k[0],it=function(g){for(var Y,y={A:null,children:[g]},k=[y];null!=(Y=k.pop());)for(var N,it=Y.children,V=0,H=it.length;V<H;++V)k.push((it[V]=N={_:it[V],parent:Y,children:(N=it[V].children)&&N.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:V}).a=N);return y.children[0]}(Y);if(Ze(it,s),it.parent.m=-it.z,Qn(it,l),r)Qn(Y,d);else{var N=Y,V=Y,H=Y;Qn(Y,function(bt){bt.x<N.x&&(N=bt),bt.x>V.x&&(V=bt),bt.depth>H.depth&&(H=bt)});var nt=e(N,V)/2-N.x,X=n[0]/(V.x+e(V,N)/2+nt),$=n[1]/(H.depth||1);Qn(Y,function(bt){bt.x=(bt.x+nt)*X,bt.y=bt.depth*$})}return k}function s(g){var y=g.children,k=g.parent.children,Y=g.i?k[g.i-1]:null;if(y.length){!function(t){for(var o,e=0,n=0,r=t.children,i=r.length;--i>=0;)(o=r[i]).z+=e,o.m+=e,e+=o.s+(n+=o.c)}(g);var it=(y[0].z+y[y.length-1].z)/2;Y?(g.z=Y.z+e(g._,Y._),g.m=g.z-it):g.z=it}else Y&&(g.z=Y.z+e(g._,Y._));g.parent.A=function(g,y,k){if(y){for(var bt,Y=g,it=g,N=y,V=Y.parent.children[0],H=Y.m,nt=it.m,X=N.m,$=V.m;N=Ri(N),Y=Ii(Y),N&&Y;)V=Ii(V),(it=Ri(it)).a=g,(bt=N.z+X-Y.z-H+e(N._,Y._))>0&&(Ms(ks(N,g,k),g,bt),H+=bt,nt+=bt),X+=N.m,H+=Y.m,$+=V.m,nt+=it.m;N&&!Ri(it)&&(it.t=N,it.m+=X-nt),Y&&!Ii(V)&&(V.t=Y,V.m+=H-$,k=g)}return k}(g,Y,g.parent.A||k[0])}function l(g){g._.x=g.z+g.parent.m,g.m+=g.parent.m}function d(g){g.x*=n[0],g.y=g.depth*n[1]}return i.separation=function(g){return arguments.length?(e=g,i):e},i.size=function(g){return arguments.length?(r=null==(n=g)?d:null,i):r?null:n},i.nodeSize=function(g){return arguments.length?(r=null==(n=g)?null:d,i):r?n:null},$n(i,t)},u.layout.cluster=function(){var t=u.layout.hierarchy().sort(null).value(null),e=Ra,n=[1,1],r=!1;function i(o,s){var d,l=t.call(this,o,s),c=l[0],g=0;Ze(c,function(N){var V=N.children;V&&V.length?(N.x=function(t){return t.reduce(function(e,n){return e+n.x},0)/t.length}(V),N.y=function(t){return 1+u.max(t,function(e){return e.y})}(V)):(N.x=d?g+=e(N,d):0,N.y=0,d=N)});var y=Ya(c),k=Ha(c),Y=y.x-e(y,k)/2,it=k.x+e(k,y)/2;return Ze(c,r?function(N){N.x=(N.x-c.x)*n[0],N.y=(c.y-N.y)*n[1]}:function(N){N.x=(N.x-Y)/(it-Y)*n[0],N.y=(1-(c.y?N.y/c.y:1))*n[1]}),l}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=null==(n=o),i):r?null:n},i.nodeSize=function(o){return arguments.length?(r=null!=(n=o),i):r?n:null},$n(i,t)},u.layout.treemap=function(){var s,t=u.layout.hierarchy(),e=Math.round,n=[1,1],r=null,i=Yi,o=!1,l="squarify",c=.5*(1+Math.sqrt(5));function d(N,V){for(var X,$,H=-1,nt=N.length;++H<nt;)$=(X=N[H]).value*(V<0?0:V),X.area=isNaN($)||$<=0?0:$}function g(N){var V=N.children;if(V&&V.length){var $,vt,pt,H=i(N),nt=[],X=V.slice(),bt=1/0,mt="slice"===l?H.dx:"dice"===l?H.dy:"slice-dice"===l?1&N.depth?H.dy:H.dx:Math.min(H.dx,H.dy);for(d(X,H.dx*H.dy/N.value),nt.area=0;(pt=X.length)>0;)nt.push($=X[pt-1]),nt.area+=$.area,"squarify"!==l||(vt=k(nt,mt))<=bt?(X.pop(),bt=vt):(nt.area-=nt.pop().area,Y(nt,mt,H,!1),mt=Math.min(H.dx,H.dy),nt.length=nt.area=0,bt=1/0);nt.length&&(Y(nt,mt,H,!0),nt.length=nt.area=0),V.forEach(g)}}function y(N){var V=N.children;if(V&&V.length){var X,H=i(N),nt=V.slice(),$=[];for(d(nt,H.dx*H.dy/N.value),$.area=0;X=nt.pop();)$.push(X),$.area+=X.area,null!=X.z&&(Y($,X.z?H.dx:H.dy,H,!nt.length),$.length=$.area=0);V.forEach(y)}}function k(N,V){for(var nt,H=N.area,X=0,$=1/0,bt=-1,vt=N.length;++bt<vt;)!(nt=N[bt].area)||(nt<$&&($=nt),nt>X&&(X=nt));return V*=V,(H*=H)?Math.max(V*X*c/H,H/(V*$*c)):1/0}function Y(N,V,H,nt){var pt,X=-1,$=N.length,bt=H.x,vt=H.y,mt=V?e(N.area/V):0;if(V==H.dx){for((nt||mt>H.dy)&&(mt=H.dy);++X<$;)(pt=N[X]).x=bt,pt.y=vt,pt.dy=mt,bt+=pt.dx=Math.min(H.x+H.dx-bt,mt?e(pt.area/mt):0);pt.z=!0,pt.dx+=H.x+H.dx-bt,H.y+=mt,H.dy-=mt}else{for((nt||mt>H.dx)&&(mt=H.dx);++X<$;)(pt=N[X]).x=bt,pt.y=vt,pt.dx=mt,vt+=pt.dy=Math.min(H.y+H.dy-vt,mt?e(pt.area/mt):0);pt.z=!1,pt.dy+=H.y+H.dy-vt,H.x+=mt,H.dx-=mt}}function it(N){var V=s||t(N),H=V[0];return H.x=H.y=0,H.value?(H.dx=n[0],H.dy=n[1]):H.dx=H.dy=0,s&&t.revalue(H),d([H],H.dx*H.dy/H.value),(s?y:g)(H),o&&(s=V),V}return it.size=function(N){return arguments.length?(n=N,it):n},it.padding=function(N){if(!arguments.length)return r;function V(X){var $=N.call(it,X,X.depth);return null==$?Yi(X):Va(X,"number"==typeof $?[$,$,$,$]:$)}function H(X){return Va(X,N)}var nt;return i=null==(r=N)?Yi:"function"==(nt=typeof N)?V:("number"===nt&&(N=[N,N,N,N]),H),it},it.round=function(N){return arguments.length?(e=N?Math.round:Number,it):e!=Number},it.sticky=function(N){return arguments.length?(o=N,s=null,it):o},it.ratio=function(N){return arguments.length?(c=N,it):c},it.mode=function(N){return arguments.length?(l=N+"",it):l},$n(it,t)},u.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var r,i,o;do{o=(r=2*Math.random()-1)*r+(i=2*Math.random()-1)*i}while(!o||o>1);return t+e*r*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=u.random.normal.apply(u,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=u.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},u.scale={};var Ps={floor:D,ceil:D};function Os(t,e,n,r){var i=[],o=[],s=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=l;)i.push(n(t[s-1],t[s])),o.push(r(e[s-1],e[s]));return function(c){var d=u.bisect(t,c,1,l)-1;return o[d](i[d](c))}}function Ga(t,e,n,r){var i,o;function s(){var c=Math.min(t.length,e.length)>2?Os:As,d=r?Ul:jl;return i=c(t,e,d,n),o=c(e,t,d,xn),l}function l(c){return i(c)}return l.invert=function(c){return o(c)},l.domain=function(c){return arguments.length?(t=c.map(Number),s()):t},l.range=function(c){return arguments.length?(e=c,s()):e},l.rangeRound=function(c){return l.range(c).interpolate(Aa)},l.clamp=function(c){return arguments.length?(r=c,s()):r},l.interpolate=function(c){return arguments.length?(n=c,s()):n},l.ticks=function(c){return Vi(t,c)},l.tickFormat=function(c,d){return Xi(t,c,d)},l.nice=function(c){return qa(t,c),s()},l.copy=function(){return Ga(t,e,n,r)},s()}function Hi(t,e){return u.rebind(t,e,"range","rangeRound","interpolate","clamp")}function qa(t,e){return Ir(t,Xa(Fn(t,e)[2])),Ir(t,Xa(Fn(t,e)[2])),t}function Fn(t,e){null==e&&(e=10);var n=zn(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Vi(t,e){return u.range.apply(u,Fn(t,e))}function Xi(t,e,n){var r=Fn(t,e);if(n){var i=Mo.exec(n);if(i.shift(),"s"===i[8]){var o=u.formatPrefix(Math.max(R(r[0]),R(r[1])));return i[7]||(i[7]="."+Rr(o.scale(r[2]))),i[8]="f",n=u.format(i.join("")),function(s){return n(o.scale(s))+o.symbol}}i[7]||(i[7]="."+function(t,e){var n=Rr(e[2]);return t in Ss?Math.abs(n-Rr(Math.max(R(e[0]),R(e[1]))))+ +("e"!==t):n-2*("%"===t)}(i[8],r)),n=i.join("")}else n=",."+Rr(r[2])+"f";return u.format(n)}u.scale.linear=function(){return Ga([0,1],[0,1],xn,!1)};var Ss={s:1,g:1,p:1,r:1,e:1};function Rr(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function ja(t,e,n,r){function i(l){return(n?Math.log(l<0?0:l):-Math.log(l>0?0:-l))/Math.log(e)}function o(l){return n?Math.pow(e,l):-Math.pow(e,-l)}function s(l){return t(i(l))}return s.invert=function(l){return o(t.invert(l))},s.domain=function(l){return arguments.length?(n=l[0]>=0,t.domain((r=l.map(Number)).map(i)),s):r},s.base=function(l){return arguments.length?(e=+l,t.domain(r.map(i)),s):e},s.nice=function(){var l=Ir(r.map(i),n?Math:Ns);return t.domain(l),r=l.map(o),s},s.ticks=function(){var l=zn(r),c=[],d=l[0],g=l[1],y=Math.floor(i(d)),k=Math.ceil(i(g)),Y=e%1?2:e;if(isFinite(k-y)){if(n){for(;y<k;y++)for(var it=1;it<Y;it++)c.push(o(y)*it);c.push(o(y))}else for(c.push(o(y));y++<k;)for(it=Y-1;it>0;it--)c.push(o(y)*it);for(y=0;c[y]<d;y++);for(k=c.length;c[k-1]>g;k--);c=c.slice(y,k)}return c},s.tickFormat=function(l,c){if(!arguments.length)return Ua;arguments.length<2?c=Ua:"function"!=typeof c&&(c=u.format(c));var d=Math.max(1,e*l/s.ticks().length);return function(g){var y=g/o(Math.round(i(g)));return y*e<e-.5&&(y*=e),y<=d?c(g):""}},s.copy=function(){return ja(t.copy(),e,n,r)},Hi(s,t)}u.scale.log=function(){return ja(u.scale.linear().domain([0,1]),10,!0,[1,10])};var Ua=u.format(".0e"),Ns={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Za(t,e,n){var r=Yr(e),i=Yr(1/e);function o(s){return t(r(s))}return o.invert=function(s){return i(t.invert(s))},o.domain=function(s){return arguments.length?(t.domain((n=s.map(Number)).map(r)),o):n},o.ticks=function(s){return Vi(n,s)},o.tickFormat=function(s,l){return Xi(n,s,l)},o.nice=function(s){return o.domain(qa(n,s))},o.exponent=function(s){return arguments.length?(r=Yr(e=s),i=Yr(1/e),t.domain(n.map(r)),o):e},o.copy=function(){return Za(t.copy(),e,n)},Hi(o,t)}function Yr(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ka(t,e){var n,r,i;function o(l){return r[((n.get(l)||("range"===e.t?n.set(l,t.push(l)):NaN))-1)%r.length]}function s(l,c){return u.range(t.length).map(function(d){return l+c*d})}return o.domain=function(l){if(!arguments.length)return t;t=[],n=new L;for(var g,c=-1,d=l.length;++c<d;)n.has(g=l[c])||n.set(g,t.push(g));return o[e.t].apply(o,e.a)},o.range=function(l){return arguments.length?(r=l,i=0,e={t:"range",a:arguments},o):r},o.rangePoints=function(l,c){arguments.length<2&&(c=0);var d=l[0],g=l[1],y=t.length<2?(d=(d+g)/2,0):(g-d)/(t.length-1+c);return r=s(d+y*c/2,y),i=0,e={t:"rangePoints",a:arguments},o},o.rangeRoundPoints=function(l,c){arguments.length<2&&(c=0);var d=l[0],g=l[1],y=t.length<2?(d=g=Math.round((d+g)/2),0):(g-d)/(t.length-1+c)|0;return r=s(d+Math.round(y*c/2+(g-d-(t.length-1+c)*y)/2),y),i=0,e={t:"rangeRoundPoints",a:arguments},o},o.rangeBands=function(l,c,d){arguments.length<2&&(c=0),arguments.length<3&&(d=c);var g=l[1]<l[0],y=l[g-0],k=l[1-g],Y=(k-y)/(t.length-c+2*d);return r=s(y+Y*d,Y),g&&r.reverse(),i=Y*(1-c),e={t:"rangeBands",a:arguments},o},o.rangeRoundBands=function(l,c,d){arguments.length<2&&(c=0),arguments.length<3&&(d=c);var g=l[1]<l[0],y=l[g-0],k=l[1-g],Y=Math.floor((k-y)/(t.length-c+2*d));return r=s(y+Math.round((k-y-(t.length-c)*Y)/2),Y),g&&r.reverse(),i=Math.round(Y*(1-c)),e={t:"rangeRoundBands",a:arguments},o},o.rangeBand=function(){return i},o.rangeExtent=function(){return zn(e.a[0])},o.copy=function(){return Ka(t,e)},o.domain(t)}u.scale.pow=function(){return Za(u.scale.linear(),1,[0,1])},u.scale.sqrt=function(){return u.scale.pow().exponent(.5)},u.scale.ordinal=function(){return Ka([],{t:"range",a:[[]]})},u.scale.category10=function(){return u.scale.ordinal().range(Ls)},u.scale.category20=function(){return u.scale.ordinal().range(Ds)},u.scale.category20b=function(){return u.scale.ordinal().range(Ws)},u.scale.category20c=function(){return u.scale.ordinal().range(zs)};var Ls=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ir),Ds=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ir),Ws=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ir),zs=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ir);function $a(t,e){var n;function r(){var o=0,s=e.length;for(n=[];++o<s;)n[o-1]=u.quantile(t,o/s);return i}function i(o){if(!isNaN(o=+o))return e[u.bisect(n,o)]}return i.domain=function(o){return arguments.length?(t=o.map(U).filter(Z).sort(rt),r()):t},i.range=function(o){return arguments.length?(e=o,r()):e},i.quantiles=function(){return n},i.invertExtent=function(o){return(o=e.indexOf(o))<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},i.copy=function(){return $a(t,e)},r()}function Qa(t,e,n){var r,i;function o(l){return n[Math.max(0,Math.min(i,Math.floor(r*(l-t))))]}function s(){return r=n.length/(e-t),i=n.length-1,o}return o.domain=function(l){return arguments.length?(t=+l[0],e=+l[l.length-1],s()):[t,e]},o.range=function(l){return arguments.length?(n=l,s()):n},o.invertExtent=function(l){return[l=(l=n.indexOf(l))<0?NaN:l/r+t,l+1/r]},o.copy=function(){return Qa(t,e,n)},s()}function Ja(t,e){function n(r){if(r<=r)return e[u.bisect(t,r)]}return n.domain=function(r){return arguments.length?(t=r,n):t},n.range=function(r){return arguments.length?(e=r,n):e},n.invertExtent=function(r){return r=e.indexOf(r),[t[r-1],t[r]]},n.copy=function(){return Ja(t,e)},n}function tu(t){function e(n){return+n}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(n){return Vi(t,n)},e.tickFormat=function(n,r){return Xi(t,n,r)},e.copy=function(){return tu(t)},e}function Fs(){return 0}u.scale.quantile=function(){return $a([],[])},u.scale.quantize=function(){return Qa(0,1,[0,1])},u.scale.threshold=function(){return Ja([.5],[0,1])},u.scale.identity=function(){return tu([0,1])},u.svg={},u.svg.arc=function(){var t=Ts,e=Bs,n=Fs,r=Hr,i=eu,o=nu,s=Is;function l(){var d=Math.max(0,+t.apply(this,arguments)),g=Math.max(0,+e.apply(this,arguments)),y=i.apply(this,arguments)-ie,k=o.apply(this,arguments)-ie,Y=Math.abs(k-y),it=y>k?0:1;if(g<d&&(N=g,g=d,d=N),Y>=pe)return c(g,it)+(d?c(d,1-it):"")+"Z";var N,V,H,nt,bt,vt,mt,pt,Et,Wt,qt,Vt,X=0,$=0,Gt=[];if((nt=(+s.apply(this,arguments)||0)/2)&&(H=r===Hr?Math.sqrt(d*d+g*g):+r.apply(this,arguments),it||($*=-1),g&&($=nn(H/g*Math.sin(nt))),d&&(X=nn(H/d*Math.sin(nt)))),g){bt=g*Math.cos(y+$),vt=g*Math.sin(y+$),mt=g*Math.cos(k-$),pt=g*Math.sin(k-$);var wt=Math.abs(k-y-2*$)<=It?0:1;if($&&Vr(bt,vt,mt,pt)===it^wt){var Nt=(y+k)/2;bt=g*Math.cos(Nt),vt=g*Math.sin(Nt),mt=pt=null}}else bt=vt=0;if(d){Et=d*Math.cos(k-X),Wt=d*Math.sin(k-X),qt=d*Math.cos(y+X),Vt=d*Math.sin(y+X);var Rt=Math.abs(y-k+2*X)<=It?0:1;if(X&&Vr(Et,Wt,qt,Vt)===1-it^Rt){var At=(y+k)/2;Et=d*Math.cos(At),Wt=d*Math.sin(At),qt=Vt=null}}else Et=Wt=0;if(Y>Yt&&(N=Math.min(Math.abs(g-d)/2,+n.apply(this,arguments)))>.001){V=d<g^it?0:1;var Tt=N,Zt=N;if(Y<It){var oe=null==qt?[Et,Wt]:null==mt?[bt,vt]:Oi([bt,vt],[qt,Vt],[mt,pt],[Et,Wt]),le=bt-oe[0],he=vt-oe[1],me=mt-oe[0],Se=pt-oe[1],De=1/Math.sin(Math.acos((le*me+he*Se)/(Math.sqrt(le*le+he*he)*Math.sqrt(me*me+Se*Se)))/2),Ee=Math.sqrt(oe[0]*oe[0]+oe[1]*oe[1]);Zt=Math.min(N,(d-Ee)/(De-1)),Tt=Math.min(N,(g-Ee)/(De+1))}if(null!=mt){var ze=Xr(null==qt?[Et,Wt]:[qt,Vt],[bt,vt],g,Tt,it),Oe=Xr([mt,pt],[Et,Wt],g,Tt,it);N===Tt?Gt.push("M",ze[0],"A",Tt,",",Tt," 0 0,",V," ",ze[1],"A",g,",",g," 0 ",1-it^Vr(ze[1][0],ze[1][1],Oe[1][0],Oe[1][1]),",",it," ",Oe[1],"A",Tt,",",Tt," 0 0,",V," ",Oe[0]):Gt.push("M",ze[0],"A",Tt,",",Tt," 0 1,",V," ",Oe[0])}else Gt.push("M",bt,",",vt);if(null!=qt){var Fe=Xr([bt,vt],[qt,Vt],d,-Zt,it),_n=Xr([Et,Wt],null==mt?[bt,vt]:[mt,pt],d,-Zt,it);N===Zt?Gt.push("L",_n[0],"A",Zt,",",Zt," 0 0,",V," ",_n[1],"A",d,",",d," 0 ",it^Vr(_n[1][0],_n[1][1],Fe[1][0],Fe[1][1]),",",1-it," ",Fe[1],"A",Zt,",",Zt," 0 0,",V," ",Fe[0]):Gt.push("L",_n[0],"A",Zt,",",Zt," 0 0,",V," ",Fe[0])}else Gt.push("L",Et,",",Wt)}else Gt.push("M",bt,",",vt),null!=mt&&Gt.push("A",g,",",g," 0 ",wt,",",it," ",mt,",",pt),Gt.push("L",Et,",",Wt),null!=qt&&Gt.push("A",d,",",d," 0 ",Rt,",",1-it," ",qt,",",Vt);return Gt.push("Z"),Gt.join("")}function c(d,g){return"M0,"+d+"A"+d+","+d+" 0 1,"+g+" 0,"+-d+"A"+d+","+d+" 0 1,"+g+" 0,"+d}return l.innerRadius=function(d){return arguments.length?(t=ve(d),l):t},l.outerRadius=function(d){return arguments.length?(e=ve(d),l):e},l.cornerRadius=function(d){return arguments.length?(n=ve(d),l):n},l.padRadius=function(d){return arguments.length?(r=d==Hr?Hr:ve(d),l):r},l.startAngle=function(d){return arguments.length?(i=ve(d),l):i},l.endAngle=function(d){return arguments.length?(o=ve(d),l):o},l.padAngle=function(d){return arguments.length?(s=ve(d),l):s},l.centroid=function(){var d=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,g=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-ie;return[Math.cos(g)*d,Math.sin(g)*d]},l};var Hr="auto";function Ts(t){return t.innerRadius}function Bs(t){return t.outerRadius}function eu(t){return t.startAngle}function nu(t){return t.endAngle}function Is(t){return t&&t.padAngle}function Vr(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function Xr(t,e,n,r,i){var o=t[0]-e[0],s=t[1]-e[1],l=(i?r:-r)/Math.sqrt(o*o+s*s),c=l*s,d=-l*o,g=t[0]+c,y=t[1]+d,k=e[0]+c,Y=e[1]+d,it=(g+k)/2,N=(y+Y)/2,V=k-g,H=Y-y,nt=V*V+H*H,X=n-r,$=g*Y-k*y,bt=(H<0?-1:1)*Math.sqrt(Math.max(0,X*X*nt-$*$)),vt=($*H-V*bt)/nt,mt=(-$*V-H*bt)/nt,pt=($*H+V*bt)/nt,Et=(-$*V+H*bt)/nt,Wt=vt-it,qt=mt-N,Vt=pt-it,Gt=Et-N;return Wt*Wt+qt*qt>Vt*Vt+Gt*Gt&&(vt=pt,mt=Et),[[vt-c,mt-d],[vt*n/X,mt*n/X]]}function ru(t){var e=Sn,n=Gn,r=Hn,i=Ge,o=i.key,s=.7;function l(c){var Y,d=[],g=[],y=-1,k=c.length,it=ve(e),N=ve(n);function V(){d.push("M",i(t(g),s))}for(;++y<k;)r.call(this,Y=c[y],y)?g.push([+it.call(this,Y,y),+N.call(this,Y,y)]):g.length&&(V(),g=[]);return g.length&&V(),d.length?d.join(""):null}return l.x=function(c){return arguments.length?(e=c,l):e},l.y=function(c){return arguments.length?(n=c,l):n},l.defined=function(c){return arguments.length?(r=c,l):r},l.interpolate=function(c){return arguments.length?(o="function"==typeof c?i=c:(i=Gi.get(c)||Ge).key,l):o},l.tension=function(c){return arguments.length?(s=c,l):s},l}u.svg.line=function(){return ru(D)};var Gi=u.map({linear:Ge,"linear-closed":iu,step:function(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")},"step-before":qi,"step-after":ji,basis:ou,"basis-open":function(t){if(t.length<4)return Ge(t);for(var i,e=[],n=-1,r=t.length,o=[0],s=[0];++n<3;)o.push((i=t[n])[0]),s.push(i[1]);for(e.push(Be(sn,o)+","+Be(sn,s)),--n;++n<r;)i=t[n],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),Zi(e,o,s);return e.join("")},"basis-closed":function(t){for(var e,o,n=-1,r=t.length,i=r+4,s=[],l=[];++n<4;)s.push((o=t[n%r])[0]),l.push(o[1]);for(e=[Be(sn,s),",",Be(sn,l)],--n;++n<i;)o=t[n%r],s.shift(),s.push(o[0]),l.shift(),l.push(o[1]),Zi(e,s,l);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var c,d,r=t[0][0],i=t[0][1],o=t[n][0]-r,s=t[n][1]-i,l=-1;++l<=n;)(c=t[l])[0]=e*c[0]+(1-e)*(r+(d=l/n)*o),c[1]=e*c[1]+(1-e)*(i+d*s);return ou(t)},cardinal:function(t,e){return t.length<3?Ge(t):t[0]+Gr(t,Ui(t,e))},"cardinal-open":function(t,e){return t.length<4?Ge(t):t[1]+Gr(t.slice(1,-1),Ui(t,e))},"cardinal-closed":function(t,e){return t.length<3?iu(t):t[0]+Gr((t.push(t[0]),t),Ui([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Ge(t):t[0]+Gr(t,function(t){for(var n,r,i,o,e=[],s=function(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],s=r[0]=Ki(i,o);++e<n;)r[e]=(s+(s=Ki(i=o,o=t[e+1])))/2;return r[e]=s,r}(t),l=-1,c=t.length-1;++l<c;)n=Ki(t[l],t[l+1]),R(n)<Yt?s[l]=s[l+1]=0:(o=(r=s[l]/n)*r+(i=s[l+1]/n)*i)>9&&(o=3*n/Math.sqrt(o),s[l]=o*r,s[l+1]=o*i);for(l=-1;++l<=c;)o=(t[Math.min(c,l+1)][0]-t[Math.max(0,l-1)][0])/(6*(1+s[l]*s[l])),e.push([o||0,s[l]*o||0]);return e}(t))}});function Ge(t){return t.length>1?t.join("L"):t+"Z"}function iu(t){return t.join("L")+"Z"}function qi(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function ji(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Gr(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ge(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],s=e[0],l=s,c=1;if(n&&(r+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],i=t[1],c=2),e.length>1){o=t[c],c++,r+="C"+(i[0]+s[0])+","+(i[1]+s[1])+","+(o[0]-(l=e[1])[0])+","+(o[1]-l[1])+","+o[0]+","+o[1];for(var d=2;d<e.length;d++,c++)r+="S"+((o=t[c])[0]-(l=e[d])[0])+","+(o[1]-l[1])+","+o[0]+","+o[1]}if(n){var g=t[c];r+="Q"+(o[0]+2*l[0]/3)+","+(o[1]+2*l[1]/3)+","+g[0]+","+g[1]}return r}function Ui(t,e){for(var i,n=[],r=(1-e)/2,o=t[0],s=t[1],l=1,c=t.length;++l<c;)i=o,o=s,n.push([r*((s=t[l])[0]-i[0]),r*(s[1]-i[1])]);return n}function ou(t){if(t.length<3)return Ge(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],s=[i,i,i,(r=t[1])[0]],l=[o,o,o,r[1]],c=[i,",",o,"L",Be(sn,s),",",Be(sn,l)];for(t.push(t[n-1]);++e<=n;)r=t[e],s.shift(),s.push(r[0]),l.shift(),l.push(r[1]),Zi(c,s,l);return t.pop(),c.push("L",r),c.join("")}function Be(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Gi.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var au=[0,2/3,1/3,0],uu=[0,1/3,2/3,0],sn=[0,1/6,2/3,1/6];function Zi(t,e,n){t.push("C",Be(au,e),",",Be(au,n),",",Be(uu,e),",",Be(uu,n),",",Be(sn,e),",",Be(sn,n))}function Ki(t,e){return(e[1]-t[1])/(e[0]-t[0])}function lu(t){for(var e,i,o,n=-1,r=t.length;++n<r;)o=(e=t[n])[1]-ie,e[0]=(i=e[0])*Math.cos(o),e[1]=i*Math.sin(o);return t}function su(t){var e=Sn,n=Sn,r=0,i=Gn,o=Hn,s=Ge,l=s.key,c=s,d="L",g=.7;function y(k){var nt,mt,pt,Y=[],it=[],N=[],V=-1,H=k.length,X=ve(e),$=ve(r),bt=e===n?function(){return mt}:ve(n),vt=r===i?function(){return pt}:ve(i);function Et(){Y.push("M",s(t(N),g),d,c(t(it.reverse()),g),"Z")}for(;++V<H;)o.call(this,nt=k[V],V)?(it.push([mt=+X.call(this,nt,V),pt=+$.call(this,nt,V)]),N.push([+bt.call(this,nt,V),+vt.call(this,nt,V)])):it.length&&(Et(),it=[],N=[]);return it.length&&Et(),Y.length?Y.join(""):null}return y.x=function(k){return arguments.length?(e=n=k,y):n},y.x0=function(k){return arguments.length?(e=k,y):e},y.x1=function(k){return arguments.length?(n=k,y):n},y.y=function(k){return arguments.length?(r=i=k,y):i},y.y0=function(k){return arguments.length?(r=k,y):r},y.y1=function(k){return arguments.length?(i=k,y):i},y.defined=function(k){return arguments.length?(o=k,y):o},y.interpolate=function(k){return arguments.length?(l="function"==typeof k?s=k:(s=Gi.get(k)||Ge).key,c=s.reverse||s,d=s.closed?"M":"L",y):l},y.tension=function(k){return arguments.length?(g=k,y):g},y}function Ks(t){return t.radius}function cu(t){return[t.x,t.y]}function $s(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-ie;return[n*Math.cos(r),n*Math.sin(r)]}}function Qs(){return 64}function Js(){return"circle"}function fu(t){var e=Math.sqrt(t/It);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}u.svg.line.radial=function(){var t=ru(lu);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},qi.reverse=ji,ji.reverse=qi,u.svg.area=function(){return su(D)},u.svg.area.radial=function(){var t=su(lu);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},u.svg.chord=function(){var t=ki,e=wi,n=Ks,r=eu,i=nu;function o(g,y){var k=s(this,t,g,y),Y=s(this,e,g,y);return"M"+k.p0+c(k.r,k.p1,k.a1-k.a0)+(function(g,y){return g.a0==y.a0&&g.a1==y.a1}(k,Y)?d(0,0,0,k.p0):d(0,0,0,Y.p0)+c(Y.r,Y.p1,Y.a1-Y.a0)+d(0,0,0,k.p0))+"Z"}function s(g,y,k,Y){var it=y.call(g,k,Y),N=n.call(g,it,Y),V=r.call(g,it,Y)-ie,H=i.call(g,it,Y)-ie;return{r:N,a0:V,a1:H,p0:[N*Math.cos(V),N*Math.sin(V)],p1:[N*Math.cos(H),N*Math.sin(H)]}}function c(g,y,k){return"A"+g+","+g+" 0 "+ +(k>It)+",1 "+y}function d(g,y,k,Y){return"Q 0,0 "+Y}return o.radius=function(g){return arguments.length?(n=ve(g),o):n},o.source=function(g){return arguments.length?(t=ve(g),o):t},o.target=function(g){return arguments.length?(e=ve(g),o):e},o.startAngle=function(g){return arguments.length?(r=ve(g),o):r},o.endAngle=function(g){return arguments.length?(i=ve(g),o):i},o},u.svg.diagonal=function(){var t=ki,e=wi,n=cu;function r(i,o){var s=t.call(this,i,o),l=e.call(this,i,o),c=(s.y+l.y)/2,d=[s,{x:s.x,y:c},{x:l.x,y:c},l];return"M"+(d=d.map(n))[0]+"C"+d[1]+" "+d[2]+" "+d[3]}return r.source=function(i){return arguments.length?(t=ve(i),r):t},r.target=function(i){return arguments.length?(e=ve(i),r):e},r.projection=function(i){return arguments.length?(n=i,r):n},r},u.svg.diagonal.radial=function(){var t=u.svg.diagonal(),e=cu,n=t.projection;return t.projection=function(r){return arguments.length?n($s(e=r)):e},t},u.svg.symbol=function(){var t=Js,e=Qs;function n(r,i){return(du.get(t.call(this,r,i))||fu)(e.call(this,r,i))}return n.type=function(r){return arguments.length?(t=ve(r),n):t},n.size=function(r){return arguments.length?(e=ve(r),n):e},n};var du=u.map({circle:fu,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*hu)),n=e*hu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/qr),n=e*qr/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/qr),n=e*qr/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});u.svg.symbolTypes=du.keys();var qr=Math.sqrt(3),hu=Math.tan(30*te);z.transition=function(t){for(var i,o,e=bn||++pu,n=Qi(t),r=[],s=Ur||{time:Date.now(),ease:El,delay:0,duration:250},l=-1,c=this.length;++l<c;){r.push(i=[]);for(var d=this[l],g=-1,y=d.length;++g<y;)(o=d[g])&&Zr(o,g,n,e,s),i.push(o)}return Jn(r,n,e)},z.interrupt=function(t){return this.each(null==t?jr:gu(Qi(t)))};var jr=gu(Qi());function gu(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Jn(t,e,n){return Ct(t,_e),t.namespace=e,t.id=n,t}var bn,Ur,_e=[],pu=0;function $i(t,e,n,r){var i=t.id,o=t.namespace;return ue(t,"function"==typeof n?function(s,l,c){s[o][i].tween.set(e,r(n.call(s,s.__data__,l,c)))}:(n=r(n),function(s){s[o][i].tween.set(e,n)}))}function tc(t){return null==t&&(t=""),function(){this.textContent=t}}function Qi(t){return null==t?"__transition__":"__transition_"+t+"__"}function Zr(t,e,n,r,i){var l,c,d,g,y,o=t[n]||(t[n]={active:0,count:0}),s=o[r];function Y(N){var V=o.active,H=o[V];for(var nt in H&&(H.timer.c=null,H.timer.t=NaN,--o.count,delete o[V],H.event&&H.event.interrupt.call(t,t.__data__,H.index)),o)if(+nt<r){var X=o[nt];X.timer.c=null,X.timer.t=NaN,--o.count,delete o[nt]}c.c=it,dr(function(){return c.c&&it(N||1)&&(c.c=null,c.t=NaN),1},0,l),o.active=r,s.event&&s.event.start.call(t,t.__data__,e),y=[],s.tween.forEach(function($,bt){(bt=bt.call(t,t.__data__,e))&&y.push(bt)}),g=s.ease,d=s.duration}function it(N){for(var V=N/d,H=g(V),nt=y.length;nt>0;)y[--nt].call(t,H);if(V>=1)return s.event&&s.event.end.call(t,t.__data__,e),--o.count?delete o[r]:delete t[n],1}s||(c=dr(function(N){var V=s.delay;if(c.t=V+l,V<=N)return Y(N-V);c.c=Y},0,l=i.time),s=o[r]={tween:new L,time:l,timer:c,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++o.count)}_e.call=z.call,_e.empty=z.empty,_e.node=z.node,_e.size=z.size,u.transition=function(t,e){return t&&t.transition?bn?t.transition(e):t:u.selection().transition(t)},u.transition.prototype=_e,_e.select=function(t){var i,o,s,e=this.id,n=this.namespace,r=[];t=ft(t);for(var l=-1,c=this.length;++l<c;){r.push(i=[]);for(var d=this[l],g=-1,y=d.length;++g<y;)(s=d[g])&&(o=t.call(s,s.__data__,g,l))?("__data__"in s&&(o.__data__=s.__data__),Zr(o,g,n,e,s[n][e]),i.push(o)):i.push(null)}return Jn(r,n,e)},_e.selectAll=function(t){var i,o,s,l,c,e=this.id,n=this.namespace,r=[];t=xt(t);for(var d=-1,g=this.length;++d<g;)for(var y=this[d],k=-1,Y=y.length;++k<Y;)if(s=y[k]){c=s[n][e],o=t.call(s,s.__data__,k,d),r.push(i=[]);for(var it=-1,N=o.length;++it<N;)(l=o[it])&&Zr(l,it,n,e,c),i.push(l)}return Jn(r,n,e)},_e.filter=function(t){var n,i,e=[];"function"!=typeof t&&(t=Ft(t));for(var o=0,s=this.length;o<s;o++){e.push(n=[]);for(var r,l=0,c=(r=this[o]).length;l<c;l++)(i=r[l])&&t.call(i,i.__data__,l,o)&&n.push(i)}return Jn(e,this.namespace,this.id)},_e.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):ue(this,null==e?function(i){i[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},_e.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?Ea:xn,r=u.ns.qualify(t);function i(){this.removeAttribute(r)}function o(){this.removeAttributeNS(r.space,r.local)}function s(c){return null==c?i:(c+="",function(){var g,d=this.getAttribute(r);return d!==c&&(g=n(d,c),function(y){this.setAttribute(r,g(y))})})}function l(c){return null==c?o:(c+="",function(){var g,d=this.getAttributeNS(r.space,r.local);return d!==c&&(g=n(d,c),function(y){this.setAttributeNS(r.space,r.local,g(y))})})}return $i(this,"attr."+t,e,r.local?l:s)},_e.attrTween=function(t,e){var n=u.ns.qualify(t);return this.tween("attr."+t,n.local?function(o,s){var l=e.call(this,o,s,this.getAttributeNS(n.space,n.local));return l&&function(c){this.setAttributeNS(n.space,n.local,l(c))}}:function(o,s){var l=e.call(this,o,s,this.getAttribute(n));return l&&function(c){this.setAttribute(n,l(c))}})},_e.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}function o(s){return null==s?i:(s+="",function(){var c,l=v(this).getComputedStyle(this,null).getPropertyValue(t);return l!==s&&(c=xn(l,s),function(d){this.style.setProperty(t,c(d),n)})})}return $i(this,"style."+t,e,o)},_e.styleTween=function(t,e,n){function r(i,o){var s=e.call(this,i,o,v(this).getComputedStyle(this,null).getPropertyValue(t));return s&&function(l){this.style.setProperty(t,s(l),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},_e.text=function(t){return $i(this,"text",t,tc)},_e.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},_e.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=u.ease.apply(u,arguments)),ue(this,function(r){r[n][e].ease=t}))},_e.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:ue(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},_e.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:ue(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},_e.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Ur,o=bn;try{bn=n,ue(this,function(s,l,c){Ur=s[r][n],t.call(s,s.__data__,l,c)})}finally{Ur=i,bn=o}}else ue(this,function(s){var l=s[r][n];(l.event||(l.event=u.dispatch("start","end","interrupt"))).on(t,e)});return this},_e.transition=function(){for(var i,s,l,t=this.id,e=++pu,n=this.namespace,r=[],c=0,d=this.length;c<d;c++){r.push(i=[]);for(var o,g=0,y=(o=this[c]).length;g<y;g++)(s=o[g])&&Zr(s,g,n,e,{time:(l=s[n][t]).time,ease:l.ease,delay:l.delay+l.duration,duration:l.duration}),i.push(s)}return Jn(r,n,e)},u.svg.axis=function(){var l,t=u.scale.linear(),e=vu,n=6,r=6,i=3,o=[10],s=null;function c(d){d.each(function(){var $,g=u.select(this),y=this.__chart__||t,k=this.__chart__=t.copy(),Y=null==s?k.ticks?k.ticks.apply(k,o):k.domain():s,it=null==l?k.tickFormat?k.tickFormat.apply(k,o):D:l,N=g.selectAll(".tick").data(Y,k),V=N.enter().insert("g",".domain").attr("class","tick").style("opacity",Yt),H=u.transition(N.exit()).style("opacity",Yt).remove(),nt=u.transition(N.order()).style("opacity",1),X=Math.max(n,0)+i,bt=Br(k),vt=g.selectAll(".domain").data([0]),mt=(vt.enter().append("path").attr("class","domain"),u.transition(vt));V.append("line"),V.append("text");var wt,Nt,Rt,At,pt=V.select("line"),Et=nt.select("line"),Wt=N.select("text").text(it),qt=V.select("text"),Vt=nt.select("text"),Gt="top"===e||"left"===e?-1:1;if("bottom"===e||"top"===e?($=nc,wt="x",Rt="y",Nt="x2",At="y2",Wt.attr("dy",Gt<0?"0em":".71em").style("text-anchor","middle"),mt.attr("d","M"+bt[0]+","+Gt*r+"V0H"+bt[1]+"V"+Gt*r)):($=rc,wt="y",Rt="x",Nt="y2",At="x2",Wt.attr("dy",".32em").style("text-anchor",Gt<0?"end":"start"),mt.attr("d","M"+Gt*r+","+bt[0]+"H0V"+bt[1]+"H"+Gt*r)),pt.attr(At,Gt*n),qt.attr(Rt,Gt*X),Et.attr(Nt,0).attr(At,Gt*n),Vt.attr(wt,0).attr(Rt,Gt*X),k.rangeBand){var Tt=k,Zt=Tt.rangeBand()/2;y=k=function(oe){return Tt(oe)+Zt}}else y.rangeBand?y=k:H.call($,k,y);V.call($,y,k),nt.call($,k,k)})}return c.scale=function(d){return arguments.length?(t=d,c):t},c.orient=function(d){return arguments.length?(e=d in ec?d+"":vu,c):e},c.ticks=function(){return arguments.length?(o=m(arguments),c):o},c.tickValues=function(d){return arguments.length?(s=d,c):s},c.tickFormat=function(d){return arguments.length?(l=d,c):l},c.tickSize=function(d){var g=arguments.length;return g?(n=+d,r=+arguments[g-1],c):n},c.innerTickSize=function(d){return arguments.length?(n=+d,c):n},c.outerTickSize=function(d){return arguments.length?(r=+d,c):r},c.tickPadding=function(d){return arguments.length?(i=+d,c):i},c.tickSubdivide=function(){return arguments.length&&c},c};var vu="bottom",ec={top:1,right:1,bottom:1,left:1};function nc(t,e,n){t.attr("transform",function(r){var i=e(r);return"translate("+(isFinite(i)?i:n(r))+",0)"})}function rc(t,e,n){t.attr("transform",function(r){var i=e(r);return"translate(0,"+(isFinite(i)?i:n(r))+")"})}u.svg.brush=function(){var o,s,t=J(g,"brushstart","brush","brushend"),e=null,n=null,r=[0,0],i=[0,0],l=!0,c=!0,d=Ji[0];function g(N){N.each(function(){var V=u.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",it).on("touchstart.brush",it),H=V.selectAll(".background").data([0]);H.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),V.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var nt=V.selectAll(".resize").data(d,D);nt.exit().remove(),nt.enter().append("g").attr("class",function(vt){return"resize "+vt}).style("cursor",function(vt){return ic[vt]}).append("rect").attr("x",function(vt){return/[ew]$/.test(vt)?-3:null}).attr("y",function(vt){return/^[ns]/.test(vt)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),nt.style("display",g.empty()?"none":null);var bt,X=u.transition(V),$=u.transition(H);e&&(bt=Br(e),$.attr("x",bt[0]).attr("width",bt[1]-bt[0]),k(X)),n&&(bt=Br(n),$.attr("y",bt[0]).attr("height",bt[1]-bt[0]),Y(X)),y(X)})}function y(N){N.selectAll(".resize").attr("transform",function(V){return"translate("+r[+/e$/.test(V)]+","+i[+/^s/.test(V)]+")"})}function k(N){N.select(".extent").attr("x",r[0]),N.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1]-r[0])}function Y(N){N.select(".extent").attr("y",i[0]),N.selectAll(".extent,.e>rect,.w>rect").attr("height",i[1]-i[0])}function it(){var pt,Wt,N=this,V=u.select(u.event.target),H=t.of(N,arguments),nt=u.select(N),X=V.datum(),$=!/^(n|s)$/.test(X)&&e,bt=!/^(e|w)$/.test(X)&&n,vt=V.classed("extent"),mt=Jt(N),Et=u.mouse(N),qt=u.select(v(N)).on("keydown.brush",wt).on("keyup.brush",Nt);if(u.event.changedTouches?qt.on("touchmove.brush",Rt).on("touchend.brush",Tt):qt.on("mousemove.brush",Rt).on("mouseup.brush",Tt),nt.interrupt().selectAll("*").interrupt(),vt)Et[0]=r[0]-Et[0],Et[1]=i[0]-Et[1];else if(X){var Vt=+/w$/.test(X),Gt=+/^n/.test(X);Wt=[r[1-Vt]-Et[0],i[1-Gt]-Et[1]],Et[0]=r[Vt],Et[1]=i[Gt]}else u.event.altKey&&(pt=Et.slice());function wt(){32==u.event.keyCode&&(vt||(pt=null,Et[0]-=r[1],Et[1]-=i[1],vt=2),st())}function Nt(){32==u.event.keyCode&&2==vt&&(Et[0]+=r[1],Et[1]+=i[1],vt=0,st())}function Rt(){var Zt=u.mouse(N),oe=!1;Wt&&(Zt[0]+=Wt[0],Zt[1]+=Wt[1]),vt||(u.event.altKey?(pt||(pt=[(r[0]+r[1])/2,(i[0]+i[1])/2]),Et[0]=r[+(Zt[0]<pt[0])],Et[1]=i[+(Zt[1]<pt[1])]):pt=null),$&&At(Zt,e,0)&&(k(nt),oe=!0),bt&&At(Zt,n,1)&&(Y(nt),oe=!0),oe&&(y(nt),H({type:"brush",mode:vt?"move":"resize"}))}function At(Zt,oe,le){var Oe,Fe,he=Br(oe),me=he[0],Se=he[1],De=Et[le],Ee=le?i:r,ze=Ee[1]-Ee[0];if(vt&&(me-=De,Se-=ze+De),Oe=(le?c:l)?Math.max(me,Math.min(Se,Zt[le])):Zt[le],vt?Fe=(Oe+=De)+ze:(pt&&(De=Math.max(me,Math.min(Se,2*pt[le]-Oe))),De<Oe?(Fe=Oe,Oe=De):Fe=De),Ee[0]!=Oe||Ee[1]!=Fe)return le?s=null:o=null,Ee[0]=Oe,Ee[1]=Fe,!0}function Tt(){Rt(),nt.style("pointer-events","all").selectAll(".resize").style("display",g.empty()?"none":null),u.select("body").style("cursor",null),qt.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),mt(),H({type:"brushend"})}nt.style("pointer-events","none").selectAll(".resize").style("display",null),u.select("body").style("cursor",V.style("cursor")),H({type:"brushstart"}),Rt()}return g.event=function(N){N.each(function(){var V=t.of(this,arguments),H={x:r,y:i,i:o,j:s},nt=this.__chart__||H;this.__chart__=H,bn?u.select(this).transition().each("start.brush",function(){o=nt.i,s=nt.j,r=nt.x,i=nt.y,V({type:"brushstart"})}).tween("brush:brush",function(){var X=Tr(r,H.x),$=Tr(i,H.y);return o=s=null,function(bt){r=H.x=X(bt),i=H.y=$(bt),V({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=H.i,s=H.j,V({type:"brush",mode:"resize"}),V({type:"brushend"})}):(V({type:"brushstart"}),V({type:"brush",mode:"resize"}),V({type:"brushend"}))})},g.x=function(N){return arguments.length?(d=Ji[!(e=N)<<1|!n],g):e},g.y=function(N){return arguments.length?(d=Ji[!e<<1|!(n=N)],g):n},g.clamp=function(N){return arguments.length?(e&&n?(l=!!N[0],c=!!N[1]):e?l=!!N:n&&(c=!!N),g):e&&n?[l,c]:e?l:n?c:null},g.extent=function(N){var V,H,nt,X,$;return arguments.length?(e&&(V=N[0],H=N[1],n&&(V=V[0],H=H[0]),o=[V,H],e.invert&&(V=e(V),H=e(H)),H<V&&($=V,V=H,H=$),(V!=r[0]||H!=r[1])&&(r=[V,H])),n&&(nt=N[0],X=N[1],e&&(nt=nt[1],X=X[1]),s=[nt,X],n.invert&&(nt=n(nt),X=n(X)),X<nt&&($=nt,nt=X,X=$),(nt!=i[0]||X!=i[1])&&(i=[nt,X])),g):(e&&(o?(V=o[0],H=o[1]):(V=r[0],H=r[1],e.invert&&(V=e.invert(V),H=e.invert(H)),H<V&&($=V,V=H,H=$))),n&&(s?(nt=s[0],X=s[1]):(nt=i[0],X=i[1],n.invert&&(nt=n.invert(nt),X=n.invert(X)),X<nt&&($=nt,nt=X,X=$))),e&&n?[[V,nt],[H,X]]:e?[V,H]:n&&[nt,X])},g.clear=function(){return g.empty()||(r=[0,0],i=[0,0],o=s=null),g},g.empty=function(){return!!e&&r[0]==r[1]||!!n&&i[0]==i[1]},u.rebind(g,t,"on")};var ic={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ji=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],to=$t.format=Ao.timeFormat,mu=to.utc,yu=mu("%Y-%m-%dT%H:%M:%S.%LZ");function eo(t){return t.toISOString()}function no(t,e,n){function r(o){return t(o)}function i(o,s){var c=(o[1]-o[0])/s,d=u.bisect(Kr,c);return d==Kr.length?[e.year,Fn(o.map(function(g){return g/31536e6}),s)[2]]:d?e[c/Kr[d-1]<Kr[d]/c?d-1:d]:[ac,Fn(o,s)[2]]}return r.invert=function(o){return Mn(t.invert(o))},r.domain=function(o){return arguments.length?(t.domain(o),r):t.domain().map(Mn)},r.nice=function(o,s){var l=r.domain(),c=zn(l),d=null==o?i(c,10):"number"==typeof o&&i(c,o);function g(y){return!isNaN(y)&&!o.range(y,Mn(+y+1),s).length}return d&&(o=d[0],s=d[1]),r.domain(Ir(l,s>1?{floor:function(y){for(;g(y=o.floor(y));)y=Mn(y-1);return y},ceil:function(y){for(;g(y=o.ceil(y));)y=Mn(+y+1);return y}}:o))},r.ticks=function(o,s){var l=zn(r.domain()),c=null==o?i(l,10):"number"==typeof o?i(l,o):!o.range&&[{range:o},s];return c&&(o=c[0],s=c[1]),o.range(l[0],Mn(+l[1]+1),s<1?1:s)},r.tickFormat=function(){return n},r.copy=function(){return no(t.copy(),e,n)},Hi(r,t)}function Mn(t){return new Date(t)}to.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?eo:yu,eo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},eo.toString=yu.toString,$t.second=dn(function(t){return new Pe(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),$t.seconds=$t.second.range,$t.seconds.utc=$t.second.utc.range,$t.minute=dn(function(t){return new Pe(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),$t.minutes=$t.minute.range,$t.minutes.utc=$t.minute.utc.range,$t.hour=dn(function(t){var e=t.getTimezoneOffset()/60;return new Pe(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),$t.hours=$t.hour.range,$t.hours.utc=$t.hour.utc.range,$t.month=dn(function(t){return(t=$t.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),$t.months=$t.month.range,$t.months.utc=$t.month.utc.range;var Kr=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ro=[[$t.second,1],[$t.second,5],[$t.second,15],[$t.second,30],[$t.minute,1],[$t.minute,5],[$t.minute,15],[$t.minute,30],[$t.hour,1],[$t.hour,3],[$t.hour,6],[$t.hour,12],[$t.day,1],[$t.day,2],[$t.week,1],[$t.month,1],[$t.month,3],[$t.year,1]],oc=to.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Hn]]),ac={range:function(t,e,n){return u.range(Math.ceil(t/n)*n,+e,n).map(Mn)},floor:D,ceil:D};ro.year=$t.year,$t.scale=function(){return no(u.scale.linear(),ro,oc)};var xu=ro.map(function(t){return[t[0].utc,t[1]]}),uc=mu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Hn]]);function lc(t){return JSON.parse(t.responseText)}function sc(t){var e=x.createRange();return e.selectNode(x.body),e.createContextualFragment(t.responseText)}xu.year=$t.year.utc,$t.scale.utc=function(){return no(u.scale.linear(),xu,uc)},u.text=ci(function(t){return t.responseText}),u.json=function(t,e){return ur(t,"application/json",lc,e)},u.html=function(t,e){return ur(t,"text/html",sc,e)},u.xml=ci(function(t){return t.responseXML}),this.d3=u,void 0!==(a="function"==typeof(f=u)?f.call(Ne,ye,Ne,en):f)&&(en.exports=a)}()},5560:(en,Ne,ye)=>{"use strict";var a=ye(7041);Ne.ZV=a.NvD3Component;var u=ye(7701);Ne.PW=u.NvD3Module},7041:(en,Ne,ye)=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});var f=ye(3668),a=ye(3668),u=function(){function C(m){this.el=m.nativeElement}return C.prototype.ngOnChanges=function(m){this.options&&(this.chart&&this.chartType===this.options.chart.type?this.updateWithOptions(this.options):this.initChart(this.options))},C.prototype.ngOnDestroy=function(){this.clearElement()},C.prototype.initChart=function(m){var x=this;this.clearElement(),m&&(this.chart=nv.models[m.chart.type](),this.chartType=this.options.chart.type,this.chart.id=Math.random().toString(36).substr(2,15),this.updateWithOptions(m),nv.addGraph(function(){if(x.chart)return x.chart.resizeHandler&&x.chart.resizeHandler.clear(),x.chart.resizeHandler=nv.utils.windowResize(function(){x.chart&&x.chart.update&&x.chart.update()}),x.chart},m.chart.callback))},C.prototype.updateWithOptions=function(m){if(m){for(var x in this.chart)this.chart.hasOwnProperty(x)&&("_"===x[0]||["clearHighlights","highlightPoint","id","options","resizeHandler","state","open","close","tooltipContent"].indexOf(x)>=0||("dispatch"===x?this.configureEvents(this.chart[x],m.chart[x]):["bars","bars1","bars2","boxplot","bullet","controls","discretebar","distX","distY","interactiveLayer","legend","lines","lines1","lines2","multibar","pie","scatter","scatters1","scatters2","sparkline","stack1","stack2","sunburst","tooltip","x2Axis","xAxis","y1Axis","y2Axis","y3Axis","y4Axis","yAxis","yAxis1","yAxis2","sankeyChart"].indexOf(x)>=0||"stacked"===x&&"stackedAreaChart"===m.chart.type?this.configure(this.chart[x],m.chart[x],m.chart.type):("xTickFormat"===x||"yTickFormat"===x)&&"lineWithFocusChart"===m.chart.type||"tooltips"===x&&"boxPlotChart"===m.chart.type||("tooltipXContent"===x||"tooltipYContent"===x)&&"scatterChart"===m.chart.type||null==m.chart[x]||this.chart[x](m.chart[x])));this.updateWithData(this.data)}},C.prototype.updateWithData=function(m){if(m){var x=this.el.querySelector("svg");this.svg=x?d3.select(x):d3.select(this.el).append("svg"),this.updateSize(),this.svg.datum(m).call(this.chart)}},C.prototype.updateSize=function(){if(this.svg){var m=void 0,x=void 0;(m=this.options.chart.height)&&(isNaN(+m)||(m+="px"),this.svg.attr("height",m).style({height:m})),(x=this.options.chart.width)?(isNaN(+x)||(x+="px"),this.svg.attr("width",x).style({width:x})):this.svg.attr("width","100%").style({width:"100%"})}},C.prototype.configure=function(m,x,O){if(m&&x)for(var v in m)m.hasOwnProperty(v)&&("_"===v[0]||("dispatch"===v?this.configureEvents(m[v],x[v]):"tooltip"===v?this.configure(m[v],x[v],O):"contentGenerator"===v?x[v]&&m[v](x[v]):-1===["axis","clearHighlights","defined","highlightPoint","nvPointerEventsClass","options","rangeBand","rangeBands","scatter","open","close"].indexOf(v)&&(null==x[v]||m[v](x[v]))))},C.prototype.configureEvents=function(m,x){if(m&&x)for(var O in m)m.hasOwnProperty(O)&&(null==x[O]||m.on(O+"._",x[O]))},C.prototype.clearElement=function(){if(this.el.innerHTML="",this.chart&&this.chart.tooltip&&this.chart.tooltip.id&&d3.select("#"+this.chart.tooltip.id()).remove(),nv.graphs&&this.chart)for(var m=nv.graphs.length-1;m>=0;m--)nv.graphs[m]&&nv.graphs[m].id===this.chart.id&&nv.graphs.splice(m,1);nv.tooltip&&nv.tooltip.cleanup&&nv.tooltip.cleanup(),this.chart&&this.chart.resizeHandler&&this.chart.resizeHandler.clear(),this.chart=null},C.\u0275fac=function(x){return new(x||C)(a.\u0275\u0275directiveInject(a.ElementRef))},C.\u0275cmp=a.\u0275\u0275defineComponent({type:C,selectors:[["nvd3"]],inputs:{options:"options",data:"data"},features:[a.\u0275\u0275NgOnChangesFeature],decls:0,vars:0,template:function(x,O){},encapsulation:2}),C}();u.ctorParameters=function(){return[{type:f.ElementRef}]},u.propDecorators={options:[{type:f.Input}],data:[{type:f.Input}]},Ne.NvD3Component=u},7701:(en,Ne,ye)=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0}),ye(3668),ye(7041);var u=ye(3668),m=(ye(7041),function(){function x(){}return x.\u0275fac=function(v){return new(v||x)},x.\u0275mod=u.\u0275\u0275defineNgModule({type:x}),x.\u0275inj=u.\u0275\u0275defineInjector({}),x}());m.ctorParameters=function(){return[]},Ne.NvD3Module=m},3025:(en,Ne,ye)=>{var f;(f={dev:!1}).tooltip=f.tooltip||{},f.utils=f.utils||{},f.models=f.models||{},f.charts={},f.logs={},f.dom={},"undefined"==typeof d3&&(d3=ye(415)),f.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var u=Array.prototype.slice.call(arguments,1),C=this,m=function(){},x=function(){return C.apply(this instanceof m&&a?this:a,u.concat(Array.prototype.slice.call(arguments)))};return m.prototype=this.prototype,x.prototype=new m,x}),f.dev&&(f.dispatch.on("render_start",function(a){f.logs.startTime=+new Date}),f.dispatch.on("render_end",function(a){f.logs.endTime=+new Date,f.logs.totalTime=f.logs.endTime-f.logs.startTime,f.log("total",f.logs.totalTime)})),f.log=function(){if(f.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(f.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var a=Function.prototype.bind.call(console.log,console);a.apply(console,arguments)}return arguments[arguments.length-1]},f.deprecated=function(a,u){console&&console.warn&&console.warn("nvd3 warning: `"+a+"` has been deprecated. ",u||"")},f.render=function(u){u=u||1,f.render.active=!0,f.dispatch.render_start();var C=function(){for(var m,x,O=0;O<u&&(x=f.render.queue[O]);O++)m=x.generate(),typeof x.callback==typeof Function&&x.callback(m);f.render.queue.splice(0,O),f.render.queue.length?setTimeout(C):(f.dispatch.render_end(),f.render.active=!1)};setTimeout(C)},f.render.active=!1,f.render.queue=[],f.addGraph=function(a){typeof arguments[0]==typeof Function&&(a={generate:arguments[0],callback:arguments[1]}),f.render.queue.push(a),f.render.active||f.render()},en.exports=f,"undefined"!=typeof window&&(window.nv=f),f.dom.write=function(a){return void 0!==window.fastdom?fastdom.mutate(a):a()},f.dom.read=function(a){return void 0!==window.fastdom?fastdom.measure(a):a()},f.interactiveGuideline=function(){"use strict";var a={left:0,top:0},u=null,C=null,m=d3.scale.linear(),x=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),O=!0,v=null,A=f.models.tooltip(),W=window.ActiveXObject;function tt(et){et.each(function(q){var rt=d3.select(this),U=u||960,Z=C||400,lt=rt.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([q]);function F(){var R=d3.event.clientX-this.getBoundingClientRect().left,B=d3.event.clientY-this.getBoundingClientRect().top,w=!0,L=!1;if(W&&(R=d3.event.offsetX,B=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(w=!1),d3.event.target.className.baseVal.match("nv-legend")&&(L=!0)),w&&(R-=a.left,B-=a.top),"mouseout"===d3.event.type||R<0||B<0||R>U||B>Z||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||L){if(W&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(A.nvPointerEventsClass)))return;return x.elementMouseout({mouseX:R,mouseY:B}),tt.renderGuideLine(null),void A.hidden(!0)}A.hidden(!1);var T=void 0;if("function"==typeof m.rangeBands){var M=d3.bisect(m.range(),R)-1;if(!(m.range()[M]+m.rangeBand()>=R))return x.elementMouseout({mouseX:R,mouseY:B}),tt.renderGuideLine(null),void A.hidden(!0);T=m.domain()[d3.bisect(m.range(),R)-1]}else T=m.invert(R);x.elementMousemove({mouseX:R,mouseY:B,pointXValue:T}),"dblclick"===d3.event.type&&x.elementDblclick({mouseX:R,mouseY:B,pointXValue:T}),"click"===d3.event.type&&x.elementClick({mouseX:R,mouseY:B,pointXValue:T}),"mousedown"===d3.event.type&&x.elementMouseDown({mouseX:R,mouseY:B,pointXValue:T}),"mouseup"===d3.event.type&&x.elementMouseUp({mouseX:R,mouseY:B,pointXValue:T})}lt.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),v&&(v.on("touchmove",F).on("mousemove",F,!0).on("mouseout",F,!0).on("mousedown",F,!0).on("mouseup",F,!0).on("dblclick",F).on("click",F),tt.guideLine=null,tt.renderGuideLine=function(R){!O||tt.guideLine&&tt.guideLine.attr("x1")===R||f.dom.write(function(){var B=lt.select(".nv-interactiveGuideLine").selectAll("line").data(null!=R?[f.utils.NaNtoZero(R)]:[],String);B.enter().append("line").attr("class","nv-guideline").attr("x1",function(w){return w}).attr("x2",function(w){return w}).attr("y1",Z).attr("y2",0),B.exit().remove()})})})}return A.duration(0).hideDelay(0).hidden(!1),tt.dispatch=x,tt.tooltip=A,tt.margin=function(et){return arguments.length?(a.top=void 0!==et.top?et.top:a.top,a.left=void 0!==et.left?et.left:a.left,tt):a},tt.width=function(et){return arguments.length?(u=et,tt):u},tt.height=function(et){return arguments.length?(C=et,tt):C},tt.xScale=function(et){return arguments.length?(m=et,tt):m},tt.showGuideLine=function(et){return arguments.length?(O=et,tt):O},tt.svgContainer=function(et){return arguments.length?(v=et,tt):v},tt},f.interactiveBisect=function(a,u,C){"use strict";if(!(a instanceof Array))return null;var m;m="function"!=typeof C?function(et){return et.x}:C;var O=d3.bisector(function(et,q){return m(et)-q}).left,v=d3.max([0,O(a,u)-1]),A=m(a[v]);if(void 0===A&&(A=v),A===u)return v;var W=d3.min([v+1,a.length-1]),tt=m(a[W]);return void 0===tt&&(tt=W),Math.abs(tt-u)>=Math.abs(A-u)?v:W},f.nearestValueIndex=function(a,u,C){"use strict";var m=1/0,x=null;return a.forEach(function(O,v){var A=Math.abs(u-O);null!=O&&A<=m&&A<C&&(m=A,x=v)}),x},f.models.tooltip=function(){"use strict";var a="nvtooltip-"+Math.floor(1e5*Math.random()),u=null,C="w",m=25,x=0,O=null,v=!0,A=200,W=null,tt={left:null,top:null},et=!0,q=100,rt=!0,U="nv-pointer-events-none",Z=function(M,b,I){return M},lt=function(M){return M},j=function(M,b){return M},F=function(M,b){if(null===M)return"";var I=d3.select(document.createElement("table"));rt&&I.selectAll("thead").data([M]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(lt(M.value));var G=I.selectAll("tbody").data([M]).enter().append("tbody").selectAll("tr").data(function(_){return _.series}).enter().append("tr").classed("highlight",function(_){return _.highlight});G.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(_){return _.color}),G.append("td").classed("key",!0).classed("total",function(_){return!!_.total}).html(function(_,D){return j(_.key,D)}),G.append("td").classed("value",!0).html(function(_,D){return Z(_.value,D,_)}),G.filter(function(_,D){return void 0!==_.percent}).append("td").classed("percent",!0).html(function(_,D){return"("+d3.format("%")(_.percent)+")"}),G.selectAll("td").each(function(_){if(_.highlight){var D=d3.scale.linear().domain([0,1]).range(["#fff",_.color]);d3.select(this).style("border-bottom-color",D(.6)).style("border-top-color",D(.6))}});var p=I.node().outerHTML;return void 0!==M.footer&&(p+="<div class='footer'>"+M.footer+"</div>"),p},R=function(){var M={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var b=document.body.getBoundingClientRect();M.left-=b.left,M.top-=b.top}return M};function T(){if(et&&function(M){if(M&&M.series){if(f.utils.isArray(M.series))return!0;if(f.utils.isObject(M.series))return M.series=[M.series],!0}return!1}(u))return f.dom.write(function(){W&&W.node()||((W=d3.select(document.body).select("#"+a).data([1])).enter().append("div").attr("class","nvtooltip "+(O||"xy-tooltip")).attr("id",a).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(U,!0).classed(U,!0),W.exit().remove());var M=F(u,W.node());M&&(W.node().innerHTML=M),f.dom.read(function(){var M=R(),b=function(M){var G,p,_,b=W.node().offsetHeight,I=W.node().offsetWidth,ot=document.documentElement.clientWidth,ht=document.documentElement.clientHeight;switch(C){case"e":M.left+(G=-I-m)<0&&(G=m),(_=M.top+(p=-b/2))<0&&(p-=_),(_=M.top+p+b)>ht&&(p-=_-ht);break;case"w":M.left+(G=m)+I>ot&&(G=-I-m),(_=M.top+(p=-b/2))<0&&(p-=_),(_=M.top+p+b)>ht&&(p-=_-ht);break;case"n":M.top+(p=m)+b>ht&&(p=-b-m),(_=M.left+(G=-I/2-5))<0&&(G-=_),(_=M.left+G+I)>ot&&(G-=_-ot);break;case"s":M.top+(p=-b-m)<0&&(p=m),(_=M.left+(G=-I/2))<0&&(G-=_),(_=M.left+G+I)>ot&&(G-=_-ot);break;case"center":G=-I/2,p=-b/2;break;default:G=0,p=0}return{left:G,top:p}}(M),I=M.left+b.left,ot=M.top+b.top;if(v)W.interrupt().transition().delay(A).duration(0).style("opacity",0);else{var ht="translate("+tt.left+"px, "+tt.top+"px)",G="translate("+Math.round(I)+"px, "+Math.round(ot)+"px)",p=d3.interpolateString(ht,G),_=W.style("opacity")<.1;W.interrupt().transition().duration(_?0:q).styleTween("transform",function(D){return p},"important").styleTween("-webkit-transform",function(D){return p}).style("-ms-transform",G).style("opacity",1)}tt.left=I,tt.top=ot})}),T}return T.nvPointerEventsClass=U,T.options=f.utils.optionsFunc.bind(T),T._options=Object.create({},{duration:{get:function(){return q},set:function(M){q=M}},gravity:{get:function(){return C},set:function(M){C=M}},distance:{get:function(){return m},set:function(M){m=M}},snapDistance:{get:function(){return x},set:function(M){x=M}},classes:{get:function(){return O},set:function(M){O=M}},enabled:{get:function(){return et},set:function(M){et=M}},hideDelay:{get:function(){return A},set:function(M){A=M}},contentGenerator:{get:function(){return F},set:function(M){F=M}},valueFormatter:{get:function(){return Z},set:function(M){Z=M}},headerFormatter:{get:function(){return lt},set:function(M){lt=M}},keyFormatter:{get:function(){return j},set:function(M){j=M}},headerEnabled:{get:function(){return rt},set:function(M){rt=M}},position:{get:function(){return R},set:function(M){R=M}},chartContainer:{get:function(){return document.body},set:function(M){f.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(M){f.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(M){f.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return v},set:function(M){v!=M&&(v=!!M,T())}},data:{get:function(){return u},set:function(M){M.point&&(M.value=M.point.x,M.series=M.series||{},M.series.value=M.point.y,M.series.color=M.point.color||M.series.color),u=M}},node:{get:function(){return W.node()},set:function(M){}},id:{get:function(){return a},set:function(M){}}}),f.utils.initOptions(T),T},f.utils.windowSize=function(){var a={width:640,height:480};return window.innerWidth&&window.innerHeight?(a.width=window.innerWidth,a.height=window.innerHeight,a):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(a.width=document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight,a):(document.body&&document.body.offsetWidth&&(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight),a)},f.utils.isArray=Array.isArray,f.utils.isObject=function(a){return null!==a&&"object"==typeof a},f.utils.isFunction=function(a){return"function"==typeof a},f.utils.isDate=function(a){return"[object Date]"===toString.call(a)},f.utils.isNumber=function(a){return!isNaN(a)&&"number"==typeof a},f.utils.windowResize=function(a){return window.addEventListener?window.addEventListener("resize",a):f.log("ERROR: Failed to bind to window.resize with: ",a),{callback:a,clear:function(){window.removeEventListener("resize",a)}}},f.utils.getColor=function(a){if(void 0===a)return f.utils.defaultColor();if(f.utils.isArray(a)){var u=d3.scale.ordinal().range(a);return function(C,m){return C.color||u(void 0===m?C:m)}}return a},f.utils.defaultColor=function(){return f.utils.getColor(d3.scale.category20().range())},f.utils.customTheme=function(a,u,C){u=u||function(x){return x.key};var m=(C=C||d3.scale.category20().range()).length;return function(x,O){var v=u(x);return f.utils.isFunction(a[v])?a[v]():void 0!==a[v]?a[v]:(m||(m=C.length),C[m-=1])}},f.utils.pjax=function(a,u){var C=function(m){d3.html(m,function(x){var O=d3.select(u).node();O.parentNode.replaceChild(d3.select(x).select(u).node(),O),f.utils.pjax(a,u)})};d3.selectAll(a).on("click",function(){history.pushState(this.href,this.textContent,this.href),C(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&C(d3.event.state)})},f.utils.calcApproxTextWidth=function(a){if(f.utils.isFunction(a.style)&&f.utils.isFunction(a.text)){var u=parseInt(a.style("font-size").replace("px",""),10),C=a.text().length;return f.utils.NaNtoZero(C*u*.5)}return 0},f.utils.NaNtoZero=function(a){return!f.utils.isNumber(a)||isNaN(a)||null===a||a===1/0||a===-1/0?0:a},d3.selection.prototype.watchTransition=function(a){var u=[this].concat([].slice.call(arguments,1));return a.transition.apply(a,u)},f.utils.renderWatch=function(a,u){if(!(this instanceof f.utils.renderWatch))return new f.utils.renderWatch(a,u);var C=void 0!==u?u:250,m=[],x=this;this.models=function(O){return(O=[].slice.call(arguments,0)).forEach(function(v){var A;v.__rendered=!1,(A=v).dispatch.on("renderEnd",function(W){A.__rendered=!0,x.renderEnd("model")}),m.indexOf(v)<0&&m.push(v)}),this},this.reset=function(O){void 0!==O&&(C=O),m=[]},this.transition=function(O,v,A){if(A=(v=arguments.length>1?[].slice.call(arguments,1):[]).length>1?v.pop():void 0!==C?C:250,O.__rendered=!1,m.indexOf(O)<0&&m.push(O),0===A)return O.__rendered=!0,O.delay=function(){return this},O.duration=function(){return this},O;O.__rendered=!(0!==O.length&&!O.every(function(tt){return!tt.length}));var W=0;return O.transition().duration(A).each(function(){++W}).each("end",function(tt,et){0==--W&&(O.__rendered=!0,x.renderEnd.apply(this,v))})},this.renderEnd=function(){m.every(function(O){return O.__rendered})&&(m.forEach(function(O){O.__rendered=!1}),a.renderEnd.apply(this,arguments))}},f.utils.deepExtend=function(a){var u=arguments.length>1?[].slice.call(arguments,1):[];u.forEach(function(C){for(var m in C){var x=f.utils.isArray(a[m]),O=f.utils.isObject(a[m]),v=f.utils.isObject(C[m]);O&&!x&&v?f.utils.deepExtend(a[m],C[m]):a[m]=C[m]}})},f.utils.state=function(){if(!(this instanceof f.utils.state))return new f.utils.state;var a={},C=function(){},m=function(){return{}},x=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(A){C(A,!0)}),this.getter=function(A){return m=A,this},this.setter=function(A,W){return W||(W=function(){}),C=function(tt,et){A(tt),et&&W()},this},this.init=function(A){f.utils.deepExtend(x=x||{},A)};var v=function(){var A=m();if(JSON.stringify(A)===JSON.stringify(a))return!1;for(var W in A)void 0===a[W]&&(a[W]={}),a[W]=A[W];return!0};this.update=function(){x&&(C(x,!1),x=null),v.call(this)&&this.dispatch.change(a)}},f.utils.optionsFunc=function(a){return a&&d3.map(a).forEach(function(u,C){f.utils.isFunction(this[u])&&this[u](C)}.bind(this)),this},f.utils.calcTicksX=function(a,u){for(var C=1,m=0;m<u.length;m+=1){var x=u[m]&&u[m].values?u[m].values.length:0;C=x>C?x:C}return f.log("Requested number of ticks: ",a),f.log("Calculated max values to be: ",C),a=(a=a>C?a=C-1:a)<1?1:a,a=Math.floor(a),f.log("Calculating tick count as: ",a),a},f.utils.calcTicksY=function(a,u){return f.utils.calcTicksX(a,u)},f.utils.initOption=function(a,u){a._calls&&a._calls[u]?a[u]=a._calls[u]:(a[u]=function(C){return arguments.length?(a._overrides[u]=!0,a._options[u]=C,a):a._options[u]},a["_"+u]=function(C){return arguments.length?(a._overrides[u]||(a._options[u]=C),a):a._options[u]})},f.utils.initOptions=function(a){a._overrides=a._overrides||{};var u=Object.getOwnPropertyNames(a._options||{}),C=Object.getOwnPropertyNames(a._calls||{});for(var m in u=u.concat(C))f.utils.initOption(a,u[m])},f.utils.inheritOptionsD3=function(a,u,C){a._d3options=C.concat(a._d3options||[]),a._d3options=(a._d3options||[]).filter(function(m,x,O){return O.indexOf(m)===x}),C.unshift(u),C.unshift(a),d3.rebind.apply(this,C)},f.utils.arrayUnique=function(a){return a.sort().filter(function(u,C){return!C||u!=a[C-1]})},f.utils.symbolMap=d3.map(),f.utils.symbol=function(){var a,u=64;function C(m,x){var O=a.call(this,m,x),v=u.call(this,m,x);return-1!==d3.svg.symbolTypes.indexOf(O)?d3.svg.symbol().type(O).size(v)():f.utils.symbolMap.get(O)(v)}return C.type=function(m){return arguments.length?(a=d3.functor(m),C):a},C.size=function(m){return arguments.length?(u=d3.functor(m),C):u},C},f.utils.inheritOptions=function(a,u){var C=Object.getOwnPropertyNames(u._options||{}),m=Object.getOwnPropertyNames(u._calls||{}),x=u._inherited||[],O=u._d3options||[],v=C.concat(m).concat(x).concat(O);v.unshift(u),v.unshift(a),d3.rebind.apply(this,v),a._inherited=f.utils.arrayUnique(C.concat(m).concat(x).concat(C).concat(a._inherited||[])),a._d3options=f.utils.arrayUnique(O.concat(a._d3options||[]))},f.utils.initSVG=function(a){a.classed({"nvd3-svg":!0})},f.utils.sanitizeHeight=function(a,u){return a||parseInt(u.style("height"),10)||400},f.utils.sanitizeWidth=function(a,u){return a||parseInt(u.style("width"),10)||960},f.utils.availableHeight=function(a,u,C){return Math.max(0,f.utils.sanitizeHeight(a,u)-C.top-C.bottom)},f.utils.availableWidth=function(a,u,C){return Math.max(0,f.utils.sanitizeWidth(a,u)-C.left-C.right)},f.utils.noData=function(a,u){var C=a.options(),m=C.margin(),x=C.noData(),O=null==x?["No Data Available."]:[x],v=f.utils.availableHeight(null,u,m),A=f.utils.availableWidth(null,u,m),W=m.left+A/2,tt=m.top+v/2;u.selectAll("g").remove();var et=u.selectAll(".nv-noData").data(O);et.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),et.attr("x",W).attr("y",tt).text(function(q){return q})},f.utils.wrapTicks=function(a,u){a.each(function(){for(var x,C=d3.select(this),m=C.text().split(/\s+/).reverse(),O=[],v=0,W=C.attr("y"),tt=parseFloat(C.attr("dy")),et=C.text(null).append("tspan").attr("x",0).attr("y",W).attr("dy",tt+"em");x=m.pop();)O.push(x),et.text(O.join(" ")),et.node().getComputedTextLength()>u&&(O.pop(),et.text(O.join(" ")),O=[x],et=C.append("tspan").attr("x",0).attr("y",W).attr("dy",1.1*++v+tt+"em").text(x))})},f.utils.arrayEquals=function(a,u){if(a===u)return!0;if(!a||!u||a.length!=u.length)return!1;for(var C=0,m=a.length;C<m;C++)if(a[C]instanceof Array&&u[C]instanceof Array){if(!f.arrayEquals(a[C],u[C]))return!1}else if(a[C]!=u[C])return!1;return!0},f.utils.pointIsInArc=function(a,u,C){var m=C.innerRadius()(u),x=C.outerRadius()(u),O=C.startAngle()(u),v=C.endAngle()(u),A=a.x*a.x+a.y*a.y,W=Math.atan2(a.x,-a.y);return W=W<0?W+2*Math.PI:W,m*m<=A&&A<=x*x&&O<=W&&W<=v},f.models.axis=function(){"use strict";var j,a=d3.svg.axis(),u=d3.scale.linear(),C={top:0,right:0,bottom:0,left:0},m=75,x=60,O=null,v=!0,A=0,W=!0,tt=!1,et=!1,q=null,rt=0,U=void 0,Z=250,lt=d3.dispatch("renderEnd");a.scale(u).orient("bottom").tickFormat(function(w){return w});var F,R=f.utils.renderWatch(lt,Z);function B(w){return R.reset(),w.each(function(L){var P=d3.select(this);f.utils.initSVG(P);var T=P.selectAll("g.nv-wrap.nv-axis").data([L]),I=(T.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),T.select("g"));null!==q?a.ticks(q):("top"==a.orient()||"bottom"==a.orient())&&a.ticks(Math.abs(u.range()[1]-u.range()[0])/100),I.watchTransition(R,"axis").call(a),F=F||a.scale();var ot=a.tickFormat();null==ot&&(ot=F.tickFormat());var G,p,_,ht=I.selectAll("text.nv-axislabel").data([O||null]);switch(ht.exit().remove(),void 0!==U&&I.selectAll("g").select("text").style("font-size",U),a.orient()){case"top":ht.enter().append("text").attr("class","nv-axislabel"),_=0,1===u.range().length?_=et?2*u.range()[0]+u.rangeBand():0:2===u.range().length?_=et?u.range()[0]+u.range()[1]+u.rangeBand():u.range()[1]:u.range().length>2&&(_=u.range()[u.range().length-1]+(u.range()[1]-u.range()[0])),ht.attr("text-anchor","middle").attr("y",0).attr("x",_/2),v&&((p=T.selectAll("g.nv-axisMaxMin").data(u.domain())).enter().append("g").attr("class",function(at,st){return["nv-axisMaxMin","nv-axisMaxMin-x",0==st?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),p.exit().remove(),p.attr("transform",function(at,st){return"translate("+f.utils.NaNtoZero(u(at))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-a.tickPadding()).attr("text-anchor","middle").text(function(at,st){var J=(j||ot)(at);return(""+J).match("NaN")?"":J}),p.watchTransition(R,"min-max top").attr("transform",function(at,st){return"translate("+f.utils.NaNtoZero(u.range()[st])+",0)"}));break;case"bottom":G=rt+36;var D=30,K=0,dt=I.selectAll("g").select("text"),ct="";if(A%360){dt.attr("transform",""),dt.each(function(at,st){var Q=this.getBoundingClientRect(),J=Q.width;K=Q.height,J>D&&(D=J)}),ct="rotate("+A+" 0,"+(K/2+a.tickPadding())+")";var h=Math.abs(Math.sin(A*Math.PI/180));G=(h?h*D:D)+30,dt.attr("transform",ct).style("text-anchor",A%360>0?"start":"end")}else dt.attr("transform",tt?function(at,st){return"translate(0,"+(st%2==0?"0":"12")+")"}:"translate(0,0)");ht.enter().append("text").attr("class","nv-axislabel"),_=0,1===u.range().length?_=et?2*u.range()[0]+u.rangeBand():0:2===u.range().length?_=et?u.range()[0]+u.range()[1]+u.rangeBand():u.range()[1]:u.range().length>2&&(_=u.range()[u.range().length-1]+(u.range()[1]-u.range()[0])),ht.attr("text-anchor","middle").attr("y",G).attr("x",_/2),v&&((p=T.selectAll("g.nv-axisMaxMin").data([u.domain()[0],u.domain()[u.domain().length-1]])).enter().append("g").attr("class",function(at,st){return["nv-axisMaxMin","nv-axisMaxMin-x",0==st?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),p.exit().remove(),p.attr("transform",function(at,st){return"translate("+f.utils.NaNtoZero(u(at)+(et?u.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",a.tickPadding()).attr("transform",ct).style("text-anchor",A?A%360>0?"start":"end":"middle").text(function(at,st){var J=(j||ot)(at);return(""+J).match("NaN")?"":J}),p.watchTransition(R,"min-max bottom").attr("transform",function(at,st){return"translate("+f.utils.NaNtoZero(u(at)+(et?u.rangeBand()/2:0))+",0)"}));break;case"right":ht.enter().append("text").attr("class","nv-axislabel"),ht.style("text-anchor",W?"middle":"begin").attr("transform",W?"rotate(90)":"").attr("y",W?12-Math.max(C.right,m)-(rt||0):-10).attr("x",W?d3.max(u.range())/2:a.tickPadding()),v&&((p=T.selectAll("g.nv-axisMaxMin").data(u.domain())).enter().append("g").attr("class",function(at,st){return["nv-axisMaxMin","nv-axisMaxMin-y",0==st?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),p.exit().remove(),p.attr("transform",function(at,st){return"translate(0,"+f.utils.NaNtoZero(u(at))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",a.tickPadding()).style("text-anchor","start").text(function(at,st){var J=(j||ot)(at);return(""+J).match("NaN")?"":J}),p.watchTransition(R,"min-max right").attr("transform",function(at,st){return"translate(0,"+f.utils.NaNtoZero(u.range()[st])+")"}).select("text").style("opacity",1));break;case"left":ht.enter().append("text").attr("class","nv-axislabel"),ht.style("text-anchor",W?"middle":"end").attr("transform",W?"rotate(-90)":"").attr("y",W?25-Math.max(C.left,m)-(rt||0):-10).attr("x",W?-d3.max(u.range())/2:-a.tickPadding()),v&&((p=T.selectAll("g.nv-axisMaxMin").data(u.domain())).enter().append("g").attr("class",function(at,st){return["nv-axisMaxMin","nv-axisMaxMin-y",0==st?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),p.exit().remove(),p.attr("transform",function(at,st){return"translate(0,"+f.utils.NaNtoZero(F(at))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-a.tickPadding()).attr("text-anchor","end").text(function(at,st){var J=(j||ot)(at);return(""+J).match("NaN")?"":J}),p.watchTransition(R,"min-max right").attr("transform",function(at,st){return"translate(0,"+f.utils.NaNtoZero(u.range()[st])+")"}).select("text").style("opacity",1))}if(ht.text(function(at){return at}),v&&("left"===a.orient()||"right"===a.orient())&&(I.selectAll("g").each(function(at,st){d3.select(this).select("text").attr("opacity",1),(u(at)<u.range()[1]+10||u(at)>u.range()[0]-10)&&((at>1e-10||at<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),u.domain()[0]==u.domain()[1]&&0==u.domain()[0]&&T.selectAll("g.nv-axisMaxMin").style("opacity",function(at,st){return st?0:1})),v&&("top"===a.orient()||"bottom"===a.orient())){var S=[];T.selectAll("g.nv-axisMaxMin").each(function(at,st){try{S.push(st?u(at)-this.getBoundingClientRect().width-4:u(at)+this.getBoundingClientRect().width+4)}catch(Q){S.push(st?u(at)-4:u(at)+4)}}),I.selectAll("g").each(function(at,st){(u(at)<S[0]||u(at)>S[1])&&(at>1e-10||at<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}I.selectAll(".tick").filter(function(at){return!parseFloat(Math.round(1e5*at)/1e6)&&void 0!==at}).classed("zero",!0),F=u.copy()}),R.renderEnd("axis immediate"),B}return B.axis=a,B.dispatch=lt,B.options=f.utils.optionsFunc.bind(B),B._options=Object.create({},{axisLabelDistance:{get:function(){return rt},set:function(w){rt=w}},staggerLabels:{get:function(){return tt},set:function(w){tt=w}},rotateLabels:{get:function(){return A},set:function(w){A=w}},rotateYLabel:{get:function(){return W},set:function(w){W=w}},showMaxMin:{get:function(){return v},set:function(w){v=w}},axisLabel:{get:function(){return O},set:function(w){O=w}},height:{get:function(){return x},set:function(w){x=w}},ticks:{get:function(){return q},set:function(w){q=w}},width:{get:function(){return m},set:function(w){m=w}},fontSize:{get:function(){return U},set:function(w){U=w}},tickFormatMaxMin:{get:function(){return j},set:function(w){j=w}},margin:{get:function(){return C},set:function(w){C.top=void 0!==w.top?w.top:C.top,C.right=void 0!==w.right?w.right:C.right,C.bottom=void 0!==w.bottom?w.bottom:C.bottom,C.left=void 0!==w.left?w.left:C.left}},duration:{get:function(){return Z},set:function(w){R.reset(Z=w)}},scale:{get:function(){return u},set:function(w){a.scale(u=w),et="function"==typeof u.rangeBands,f.utils.inheritOptionsD3(B,u,["domain","range","rangeBand","rangeBands"])}}}),f.utils.initOptions(B),f.utils.inheritOptionsD3(B,a,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),f.utils.inheritOptionsD3(B,u,["domain","range","rangeBand","rangeBands"]),B},f.models.boxPlot=function(){"use strict";var B,w,L,P,I,ot,a={top:0,right:0,bottom:0,left:0},u=960,C=500,m=Math.floor(1e4*Math.random()),x=d3.scale.ordinal(),O=d3.scale.linear(),v=function(p){return p.label},A=function(p){return p.values.Q1},W=function(p){return p.values.Q2},tt=function(p){return p.values.Q3},et=function(p){return p.values.whisker_low},q=function(p){return p.values.whisker_high},rt=function(p){return p.color},U=function(p){return p.values.outliers},Z=function(p,_,D){return p},lt=function(p,_,D){return p},j=function(p,_,D){},F=f.utils.defaultColor(),R=null,T=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),M=250,b=null,ht=f.utils.renderWatch(T,M);function G(p){return ht.reset(),p.each(function(_){var D=u-a.left-a.right,K=C-a.top-a.bottom;R=d3.select(this),f.utils.initSVG(R),x.domain(B||_.map(function(E,ut){return v(E,ut)})).rangeBands(w||[0,D],.1);var dt=[];if(!L){var ct=[];_.forEach(function(E,ut){var z=A(E),ft=tt(E),xt=et(E),jt=q(E),Ut=U(E);Ut&&Ut.forEach(function(_t,Pt){ct.push(Z(_t,Pt,void 0))}),xt&&ct.push(xt),z&&ct.push(z),ft&&ct.push(ft),jt&&ct.push(jt)}),dt=[d3.min(ct),d3.max(ct)]}O.domain(L||dt),O.range(P||[K,0]),I=I||x,ot=ot||O.copy().range([O(0),O(0)]);var at=R.selectAll("g.nv-wrap").data([_]);at.enter().append("g").attr("class","nvd3 nv-wrap"),at.attr("transform","translate("+a.left+","+a.top+")");var Q=at.selectAll(".nv-boxplot").data(function(E){return E}),J=Q.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);Q.attr("class","nv-boxplot").attr("transform",function(E,ut,z){return"translate("+(x(v(E,ut))+.05*x.rangeBand())+", 0)"}).classed("hover",function(E){return E.hover}),Q.watchTransition(ht,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(E,ut){return ut*M/_.length}).attr("transform",function(E,ut){return"translate("+(x(v(E,ut))+.05*x.rangeBand())+", 0)"}),Q.exit().remove(),J.each(function(E,ut){var z=d3.select(this);[et,q].forEach(function(ft){if(void 0!==ft(E)&&null!==ft(E)){var xt=ft===et?"low":"high";z.append("line").style("stroke",rt(E)||F(E,ut)).attr("class","nv-boxplot-whisker nv-boxplot-"+xt),z.append("line").style("stroke",rt(E)||F(E,ut)).attr("class","nv-boxplot-tick nv-boxplot-"+xt)}})});var yt=function(){return null===b?.9*x.rangeBand():Math.min(75,.9*x.rangeBand())},Ct=function(){return.45*x.rangeBand()-yt()/2},St=function(){return.45*x.rangeBand()+yt()/2};[et,q].forEach(function(E){var ut=E===et?"low":"high",z=E===et?A:tt;Q.select("line.nv-boxplot-whisker.nv-boxplot-"+ut).watchTransition(ht,"nv-boxplot: boxplots").attr("x1",.45*x.rangeBand()).attr("y1",function(ft,xt){return O(E(ft))}).attr("x2",.45*x.rangeBand()).attr("y2",function(ft,xt){return O(z(ft))}),Q.select("line.nv-boxplot-tick.nv-boxplot-"+ut).watchTransition(ht,"nv-boxplot: boxplots").attr("x1",Ct).attr("y1",function(ft,xt){return O(E(ft))}).attr("x2",St).attr("y2",function(ft,xt){return O(E(ft))})}),[et,q].forEach(function(E){J.selectAll(".nv-boxplot-"+(E===et?"low":"high")).on("mouseover",function(z,ft,xt){d3.select(this).classed("hover",!0),T.elementMouseover({series:{key:E(z),color:rt(z)||F(z,xt)},e:d3.event})}).on("mouseout",function(z,ft,xt){d3.select(this).classed("hover",!1),T.elementMouseout({series:{key:E(z),color:rt(z)||F(z,xt)},e:d3.event})}).on("mousemove",function(z,ft){T.elementMousemove({e:d3.event})})}),J.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(E,ut){d3.select(this).classed("hover",!0),T.elementMouseover({key:v(E),value:v(E),series:[{key:"Q3",value:tt(E),color:rt(E)||F(E,ut)},{key:"Q2",value:W(E),color:rt(E)||F(E,ut)},{key:"Q1",value:A(E),color:rt(E)||F(E,ut)}],data:E,index:ut,e:d3.event})}).on("mouseout",function(E,ut){d3.select(this).classed("hover",!1),T.elementMouseout({key:v(E),value:v(E),series:[{key:"Q3",value:tt(E),color:rt(E)||F(E,ut)},{key:"Q2",value:W(E),color:rt(E)||F(E,ut)},{key:"Q1",value:A(E),color:rt(E)||F(E,ut)}],data:E,index:ut,e:d3.event})}).on("mousemove",function(E,ut){T.elementMousemove({e:d3.event})}),Q.select("rect.nv-boxplot-box").watchTransition(ht,"nv-boxplot: boxes").attr("y",function(E,ut){return O(tt(E))}).attr("width",yt).attr("x",Ct).attr("height",function(E,ut){return Math.abs(O(tt(E))-O(A(E)))||1}).style("fill",function(E,ut){return rt(E)||F(E,ut)}).style("stroke",function(E,ut){return rt(E)||F(E,ut)}),J.append("line").attr("class","nv-boxplot-median"),Q.select("line.nv-boxplot-median").watchTransition(ht,"nv-boxplot: boxplots line").attr("x1",Ct).attr("y1",function(E,ut){return O(W(E))}).attr("x2",St).attr("y2",function(E,ut){return O(W(E))});var gt=Q.selectAll(".nv-boxplot-outlier").data(function(E){return U(E)||[]});gt.enter().append("circle").style("fill",function(E,ut,z){return j(E,ut,z)||F(E,z)}).style("stroke",function(E,ut,z){return j(E,ut,z)||F(E,z)}).style("z-index",9e3).on("mouseover",function(E,ut,z){d3.select(this).classed("hover",!0),T.elementMouseover({series:{key:lt(E,ut,z),color:j(E,ut,z)||F(E,z)},e:d3.event})}).on("mouseout",function(E,ut,z){d3.select(this).classed("hover",!1),T.elementMouseout({series:{key:lt(E,ut,z),color:j(E,ut,z)||F(E,z)},e:d3.event})}).on("mousemove",function(E,ut){T.elementMousemove({e:d3.event})}),gt.attr("class","nv-boxplot-outlier"),gt.watchTransition(ht,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*x.rangeBand()).attr("cy",function(E,ut,z){return O(Z(E,ut,z))}).attr("r","3"),gt.exit().remove(),I=x.copy(),ot=O.copy()}),ht.renderEnd("nv-boxplot immediate"),G}return G.dispatch=T,G.options=f.utils.optionsFunc.bind(G),G._options=Object.create({},{width:{get:function(){return u},set:function(p){u=p}},height:{get:function(){return C},set:function(p){C=p}},maxBoxWidth:{get:function(){return b},set:function(p){b=p}},x:{get:function(){return v},set:function(p){v=p}},q1:{get:function(){return A},set:function(p){A=p}},q2:{get:function(){return W},set:function(p){W=p}},q3:{get:function(){return tt},set:function(p){tt=p}},wl:{get:function(){return et},set:function(p){et=p}},wh:{get:function(){return q},set:function(p){q=p}},itemColor:{get:function(){return rt},set:function(p){rt=p}},outliers:{get:function(){return U},set:function(p){U=p}},outlierValue:{get:function(){return Z},set:function(p){Z=p}},outlierLabel:{get:function(){return lt},set:function(p){lt=p}},outlierColor:{get:function(){return j},set:function(p){j=p}},xScale:{get:function(){return x},set:function(p){x=p}},yScale:{get:function(){return O},set:function(p){O=p}},xDomain:{get:function(){return B},set:function(p){B=p}},yDomain:{get:function(){return L},set:function(p){L=p}},xRange:{get:function(){return w},set:function(p){w=p}},yRange:{get:function(){return P},set:function(p){P=p}},id:{get:function(){return m},set:function(p){m=p}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(p){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return a},set:function(p){a.top=void 0!==p.top?p.top:a.top,a.right=void 0!==p.right?p.right:a.right,a.bottom=void 0!==p.bottom?p.bottom:a.bottom,a.left=void 0!==p.left?p.left:a.left}},color:{get:function(){return F},set:function(p){F=f.utils.getColor(p)}},duration:{get:function(){return M},set:function(p){ht.reset(M=p)}}}),f.utils.initOptions(G),G},f.models.boxPlotChart=function(){"use strict";var rt,U,a=f.models.boxPlot(),u=f.models.axis(),C=f.models.axis(),m={top:15,right:10,bottom:50,left:60},x=null,O=null,v=f.utils.getColor(),A=!0,W=!0,tt=!1,et=!1,q=f.models.tooltip(),Z="No Data Available.",lt=d3.dispatch("beforeUpdate","renderEnd"),j=250;u.orient("bottom").showMaxMin(!1).tickFormat(function(B){return B}),C.orient(tt?"right":"left").tickFormat(d3.format(",.1f")),q.duration(0);var F=f.utils.renderWatch(lt,j);function R(B){return F.reset(),F.models(a),A&&F.models(u),W&&F.models(C),B.each(function(w){var L=d3.select(this);f.utils.initSVG(L);var T=(x||parseInt(L.style("width"))||960)-m.left-m.right,M=(O||parseInt(L.style("height"))||400)-m.top-m.bottom;if(R.update=function(){lt.beforeUpdate(),L.transition().duration(j).call(R)},R.container=this,!w||!w.length){var b=L.selectAll(".nv-noData").data([Z]);return b.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),b.attr("x",m.left+T/2).attr("y",m.top+M/2).text(function(D){return D}),R}L.selectAll(".nv-noData").remove(),rt=a.xScale(),U=a.yScale().clamp(!0);var I=L.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([w]),ot=I.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),ht=ot.append("defs"),G=I.select("g");if(ot.append("g").attr("class","nv-x nv-axis"),ot.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),ot.append("g").attr("class","nv-barsWrap"),G.attr("transform","translate("+m.left+","+m.top+")"),tt&&G.select(".nv-y.nv-axis").attr("transform","translate("+T+",0)"),a.width(T).height(M),G.select(".nv-barsWrap").datum(w.filter(function(D){return!D.disabled})).transition().call(a),ht.append("clipPath").attr("id","nv-x-label-clip-"+a.id()).append("rect"),G.select("#nv-x-label-clip-"+a.id()+" rect").attr("width",rt.rangeBand()*(et?2:1)).attr("height",16).attr("x",-rt.rangeBand()/(et?1:2)),A){u.scale(rt).ticks(f.utils.calcTicksX(T/100,w)).tickSize(-M,0),G.select(".nv-x.nv-axis").attr("transform","translate(0,"+U.range()[0]+")"),G.select(".nv-x.nv-axis").call(u);var _=G.select(".nv-x.nv-axis").selectAll("g");et&&_.selectAll("text").attr("transform",function(D,K,dt){return"translate(0,"+(dt%2==0?"5":"17")+")"})}W&&(C.scale(U).ticks(Math.floor(M/36)).tickSize(-T,0),G.select(".nv-y.nv-axis").call(C)),G.select(".nv-zeroLine line").attr("x1",0).attr("x2",T).attr("y1",U(0)).attr("y2",U(0))}),F.renderEnd("nv-boxplot chart immediate"),R}return a.dispatch.on("elementMouseover.tooltip",function(B){q.data(B).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(B){q.data(B).hidden(!0)}),a.dispatch.on("elementMousemove.tooltip",function(B){q()}),R.dispatch=lt,R.boxplot=a,R.xAxis=u,R.yAxis=C,R.tooltip=q,R.options=f.utils.optionsFunc.bind(R),R._options=Object.create({},{width:{get:function(){return x},set:function(B){x=B}},height:{get:function(){return O},set:function(B){O=B}},staggerLabels:{get:function(){return et},set:function(B){et=B}},showXAxis:{get:function(){return A},set:function(B){A=B}},showYAxis:{get:function(){return W},set:function(B){W=B}},tooltipContent:{get:function(){return q},set:function(B){q=B}},noData:{get:function(){return Z},set:function(B){Z=B}},margin:{get:function(){return m},set:function(B){m.top=void 0!==B.top?B.top:m.top,m.right=void 0!==B.right?B.right:m.right,m.bottom=void 0!==B.bottom?B.bottom:m.bottom,m.left=void 0!==B.left?B.left:m.left}},duration:{get:function(){return j},set:function(B){F.reset(j=B),a.duration(j),u.duration(j),C.duration(j)}},color:{get:function(){return v},set:function(B){v=f.utils.getColor(B),a.color(v)}},rightAlignYAxis:{get:function(){return tt},set:function(B){tt=B,C.orient(B?"right":"left")}}}),f.utils.inheritOptions(R,a),f.utils.initOptions(R),R},f.models.bullet=function(){"use strict";var a={top:0,right:0,bottom:0,left:0},u="left",C=!1,m=function(T){return T.ranges},x=function(T){return T.markers?T.markers:[]},O=function(T){return T.markerLines?T.markerLines:[0]},v=function(T){return T.measures},A=function(T){return T.rangeLabels?T.rangeLabels:[]},W=function(T){return T.markerLabels?T.markerLabels:[]},tt=function(T){return T.markerLineLabels?T.markerLineLabels:[]},et=function(T){return T.measureLabels?T.measureLabels:[]},q=[0],rt=380,U=30,Z=null,lt=null,j=f.utils.getColor(["#1f77b4"]),F=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),R=["Maximum","Mean","Minimum"],B=["Max","Avg","Min"],w=1e3;function L(T,M){var b=T.slice();T.sort(function(I,ot){var ht=b.indexOf(I),G=b.indexOf(ot);return d3.descending(M[ht],M[G])})}function P(T){return T.each(function(M,b){var I=rt-a.left-a.right,ot=U-a.top-a.bottom;Z=d3.select(this),f.utils.initSVG(Z);var ht=m.call(this,M,b).slice(),G=x.call(this,M,b).slice(),p=O.call(this,M,b).slice(),_=v.call(this,M,b).slice(),D=A.call(this,M,b).slice(),K=W.call(this,M,b).slice(),dt=tt.call(this,M,b).slice(),ct=et.call(this,M,b).slice();L(D,ht),L(K,G),L(dt,p),L(ct,_),ht.sort(d3.descending),G.sort(d3.descending),p.sort(d3.descending),_.sort(d3.descending);var Bt,h=d3.scale.linear().domain(d3.extent(d3.merge([q,ht]))).range(C?[I,0]:[0,I]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(h.range()),this.__chart__=h,d3.min(ht),d3.max(ht);for(var J=Z.selectAll("g.nv-wrap.nv-bullet").data([M]),Ct=J.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),St=J.select("g"),gt=(b=0,ht.length);b<gt;b++){var E="nv-range nv-range"+b;b<=2&&(E=E+" nv-range"+B[b]),Ct.append("rect").attr("class",E)}Ct.append("rect").attr("class","nv-measure"),J.attr("transform","translate("+a.left+","+a.top+")");var xt=function(Bt){return h(Bt<0?Bt:0)};for(b=0,gt=ht.length;b<gt;b++){var jt=ht[b];St.select("rect.nv-range"+b).datum(jt).attr("height",ot).transition().duration(w).attr("width",(Bt=jt,Math.abs(h(Bt)-h(0)))).attr("x",xt(jt))}St.select("rect.nv-measure").style("fill",j).attr("height",ot/3).attr("y",ot/3).on("mouseover",function(){F.elementMouseover({value:_[0],label:ct[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){F.elementMousemove({value:_[0],label:ct[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){F.elementMouseout({value:_[0],label:ct[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(w).attr("width",_<0?h(0)-h(_[0]):h(_[0])-h(0)).attr("x",xt(_));var Ut=ot/6,_t=G.map(function(Bt,ne){return{value:Bt,label:K[ne]}});Ct.selectAll("path.nv-markerTriangle").data(_t).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+Ut+"L"+Ut+","+-Ut+" "+-Ut+","+-Ut+"Z").on("mouseover",function(Bt){F.elementMouseover({value:Bt.value,label:Bt.label||"Previous",color:d3.select(this).style("fill"),pos:[h(Bt.value),ot/2]})}).on("mousemove",function(Bt){F.elementMousemove({value:Bt.value,label:Bt.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(Bt,ne){F.elementMouseout({value:Bt.value,label:Bt.label||"Previous",color:d3.select(this).style("fill")})}),St.selectAll("path.nv-markerTriangle").data(_t).transition().duration(w).attr("transform",function(Bt){return"translate("+h(Bt.value)+","+ot/2+")"});var Pt=p.map(function(Bt,ne){return{value:Bt,label:dt[ne]}});Ct.selectAll("line.nv-markerLine").data(Pt).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(Bt){return h(Bt.value)}).attr("y1","2").attr("x2",function(Bt){return h(Bt.value)}).attr("y2",ot-2).on("mouseover",function(Bt){F.elementMouseover({value:Bt.value,label:Bt.label||"Previous",color:d3.select(this).style("fill"),pos:[h(Bt.value),ot/2]})}).on("mousemove",function(Bt){F.elementMousemove({value:Bt.value,label:Bt.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(Bt,ne){F.elementMouseout({value:Bt.value,label:Bt.label||"Previous",color:d3.select(this).style("fill")})}),St.selectAll("line.nv-markerLine").data(Pt).transition().duration(w).attr("x1",function(Bt){return h(Bt.value)}).attr("x2",function(Bt){return h(Bt.value)}),J.selectAll(".nv-range").on("mouseover",function(Bt,ne){F.elementMouseover({value:Bt,label:D[ne]||R[ne],color:d3.select(this).style("fill")})}).on("mousemove",function(){F.elementMousemove({value:_[0],label:ct[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(Bt,ne){F.elementMouseout({value:Bt,label:D[ne]||R[ne],color:d3.select(this).style("fill")})})}),P}return P.dispatch=F,P.options=f.utils.optionsFunc.bind(P),P._options=Object.create({},{ranges:{get:function(){return m},set:function(T){m=T}},markers:{get:function(){return x},set:function(T){x=T}},measures:{get:function(){return v},set:function(T){v=T}},forceX:{get:function(){return q},set:function(T){q=T}},width:{get:function(){return rt},set:function(T){rt=T}},height:{get:function(){return U},set:function(T){U=T}},tickFormat:{get:function(){return lt},set:function(T){lt=T}},duration:{get:function(){return w},set:function(T){w=T}},margin:{get:function(){return a},set:function(T){a.top=void 0!==T.top?T.top:a.top,a.right=void 0!==T.right?T.right:a.right,a.bottom=void 0!==T.bottom?T.bottom:a.bottom,a.left=void 0!==T.left?T.left:a.left}},orient:{get:function(){return u},set:function(T){C="right"==(u=T)||"bottom"==u}},color:{get:function(){return j},set:function(T){j=f.utils.getColor(T)}}}),f.utils.initOptions(P),P},f.models.bulletChart=function(){"use strict";var a=f.models.bullet(),u=f.models.tooltip(),C="left",m=!1,x={top:5,right:40,bottom:20,left:120},O=function(lt){return lt.ranges},v=function(lt){return lt.markers?lt.markers:[]},A=function(lt){return lt.measures},W=null,tt=55,et=null,q=null,rt=null,U=d3.dispatch();function Z(lt){return lt.each(function(j,F){var R=d3.select(this);f.utils.initSVG(R);var B=f.utils.availableWidth(W,R,x),w=tt-x.top-x.bottom;if(Z.update=function(){Z(lt)},Z.container=this,!j||!O.call(this,j,F))return f.utils.noData(Z,R),Z;R.selectAll(".nv-noData").remove();var P=O.call(this,j,F).slice().sort(d3.descending),T=v.call(this,j,F).slice().sort(d3.descending),M=A.call(this,j,F).slice().sort(d3.descending),b=R.selectAll("g.nv-wrap.nv-bulletChart").data([j]),ot=b.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),ht=b.select("g");ot.append("g").attr("class","nv-bulletWrap"),ot.append("g").attr("class","nv-titles"),b.attr("transform","translate("+x.left+","+x.top+")");var G=d3.scale.linear().domain([0,Math.max(P[0],T[0]||0,M[0])]).range(m?[B,0]:[0,B]),p=this.__chart__||d3.scale.linear().domain([0,1/0]).range(G.range());this.__chart__=G;var K=ot.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(tt-x.top-x.bottom)/2+")");K.append("text").attr("class","nv-title").text(function(st){return st.title}),K.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(st){return st.subtitle}),a.width(B).height(w);var dt=ht.select(".nv-bulletWrap");d3.transition(dt).call(a);var ct=et||G.tickFormat(B/100),h=ht.selectAll("g.nv-tick").data(G.ticks(q||B/50),function(st){return this.textContent||ct(st)}),S=h.enter().append("g").attr("class","nv-tick").attr("transform",function(st){return"translate("+p(st)+",0)"}).style("opacity",1e-6);S.append("line").attr("y1",w).attr("y2",7*w/6),S.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*w/6).text(ct);var at=d3.transition(h).transition().duration(a.duration()).attr("transform",function(st){return"translate("+G(st)+",0)"}).style("opacity",1);at.select("line").attr("y1",w).attr("y2",7*w/6),at.select("text").attr("y",7*w/6),d3.transition(h.exit()).transition().duration(a.duration()).attr("transform",function(st){return"translate("+G(st)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),Z}return u.duration(0).headerEnabled(!1),a.dispatch.on("elementMouseover.tooltip",function(lt){lt.series={key:lt.label,value:lt.value,color:lt.color},u.data(lt).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(lt){u.hidden(!0)}),a.dispatch.on("elementMousemove.tooltip",function(lt){u()}),Z.bullet=a,Z.dispatch=U,Z.tooltip=u,Z.options=f.utils.optionsFunc.bind(Z),Z._options=Object.create({},{ranges:{get:function(){return O},set:function(lt){O=lt}},markers:{get:function(){return v},set:function(lt){v=lt}},measures:{get:function(){return A},set:function(lt){A=lt}},width:{get:function(){return W},set:function(lt){W=lt}},height:{get:function(){return tt},set:function(lt){tt=lt}},tickFormat:{get:function(){return et},set:function(lt){et=lt}},ticks:{get:function(){return q},set:function(lt){q=lt}},noData:{get:function(){return rt},set:function(lt){rt=lt}},margin:{get:function(){return x},set:function(lt){x.top=void 0!==lt.top?lt.top:x.top,x.right=void 0!==lt.right?lt.right:x.right,x.bottom=void 0!==lt.bottom?lt.bottom:x.bottom,x.left=void 0!==lt.left?lt.left:x.left}},orient:{get:function(){return C},set:function(lt){m="right"==(C=lt)||"bottom"==C}}}),f.utils.inheritOptions(Z,a),f.utils.initOptions(Z),Z},f.models.candlestickBar=function(){"use strict";var x,B,w,L,P,a={top:0,right:0,bottom:0,left:0},u=null,C=null,m=Math.floor(1e4*Math.random()),O=d3.scale.linear(),v=d3.scale.linear(),A=function(b){return b.x},W=function(b){return b.y},tt=function(b){return b.open},et=function(b){return b.close},q=function(b){return b.high},rt=function(b){return b.low},U=[],Z=[],lt=!1,j=!0,F=f.utils.defaultColor(),R=!1,T=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function M(b){return b.each(function(I){x=d3.select(this);var ot=f.utils.availableWidth(u,x,a),ht=f.utils.availableHeight(C,x,a);f.utils.initSVG(x);var G=ot/I[0].values.length*.45;O.domain(B||d3.extent(I[0].values.map(A).concat(U))),O.range(lt?L||[.5*ot/I[0].values.length,ot*(I[0].values.length-.5)/I[0].values.length]:L||[5+G/2,ot-G/2-5]),v.domain(w||[d3.min(I[0].values.map(rt).concat(Z)),d3.max(I[0].values.map(q).concat(Z))]).range(P||[ht,0]),O.domain()[0]===O.domain()[1]&&(O.domain()[0]?O.domain([O.domain()[0]-.01*O.domain()[0],O.domain()[1]+.01*O.domain()[1]]):O.domain([-1,1])),v.domain()[0]===v.domain()[1]&&(v.domain()[0]?v.domain([v.domain()[0]+.01*v.domain()[0],v.domain()[1]-.01*v.domain()[1]]):v.domain([-1,1]));var p=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([I[0].values]),_=p.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),D=_.append("defs"),K=_.append("g"),dt=p.select("g");K.append("g").attr("class","nv-ticks"),p.attr("transform","translate("+a.left+","+a.top+")"),x.on("click",function(st,Q){T.chartClick({data:st,index:Q,pos:d3.event,id:m})}),D.append("clipPath").attr("id","nv-chart-clip-path-"+m).append("rect"),p.select("#nv-chart-clip-path-"+m+" rect").attr("width",ot).attr("height",ht),dt.attr("clip-path",j?"url(#nv-chart-clip-path-"+m+")":"");var ct=p.select(".nv-ticks").selectAll(".nv-tick").data(function(st){return st});ct.exit().remove();var h=ct.enter().append("g");ct.attr("class",function(st,Q,J){return(tt(st,Q)>et(st,Q)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+J+"-"+Q}),h.append("line").attr("class","nv-candlestick-lines").attr("transform",function(st,Q){return"translate("+O(A(st,Q))+",0)"}).attr("x1",0).attr("y1",function(st,Q){return v(q(st,Q))}).attr("x2",0).attr("y2",function(st,Q){return v(rt(st,Q))}),h.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(st,Q){return"translate("+(O(A(st,Q))-G/2)+","+(v(W(st,Q))-(tt(st,Q)>et(st,Q)?v(et(st,Q))-v(tt(st,Q)):0))+")"}).attr("x",0).attr("y",0).attr("width",G).attr("height",function(st,Q){var J=tt(st,Q),yt=et(st,Q);return J>yt?v(yt)-v(J):v(J)-v(yt)}),ct.select(".nv-candlestick-lines").transition().attr("transform",function(st,Q){return"translate("+O(A(st,Q))+",0)"}).attr("x1",0).attr("y1",function(st,Q){return v(q(st,Q))}).attr("x2",0).attr("y2",function(st,Q){return v(rt(st,Q))}),ct.select(".nv-candlestick-rects").transition().attr("transform",function(st,Q){return"translate("+(O(A(st,Q))-G/2)+","+(v(W(st,Q))-(tt(st,Q)>et(st,Q)?v(et(st,Q))-v(tt(st,Q)):0))+")"}).attr("x",0).attr("y",0).attr("width",G).attr("height",function(st,Q){var J=tt(st,Q),yt=et(st,Q);return J>yt?v(yt)-v(J):v(J)-v(yt)})}),M}return M.highlightPoint=function(b,I){M.clearHighlights(),x.select(".nv-candlestickBar .nv-tick-0-"+b).classed("hover",I)},M.clearHighlights=function(){x.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},M.dispatch=T,M.options=f.utils.optionsFunc.bind(M),M._options=Object.create({},{width:{get:function(){return u},set:function(b){u=b}},height:{get:function(){return C},set:function(b){C=b}},xScale:{get:function(){return O},set:function(b){O=b}},yScale:{get:function(){return v},set:function(b){v=b}},xDomain:{get:function(){return B},set:function(b){B=b}},yDomain:{get:function(){return w},set:function(b){w=b}},xRange:{get:function(){return L},set:function(b){L=b}},yRange:{get:function(){return P},set:function(b){P=b}},forceX:{get:function(){return U},set:function(b){U=b}},forceY:{get:function(){return Z},set:function(b){Z=b}},padData:{get:function(){return lt},set:function(b){lt=b}},clipEdge:{get:function(){return j},set:function(b){j=b}},id:{get:function(){return m},set:function(b){m=b}},interactive:{get:function(){return R},set:function(b){R=b}},x:{get:function(){return A},set:function(b){A=b}},y:{get:function(){return W},set:function(b){W=b}},open:{get:function(){return tt()},set:function(b){tt=b}},close:{get:function(){return et()},set:function(b){et=b}},high:{get:function(){return q},set:function(b){q=b}},low:{get:function(){return rt},set:function(b){rt=b}},margin:{get:function(){return a},set:function(b){a.top=null!=b.top?b.top:a.top,a.right=null!=b.right?b.right:a.right,a.bottom=null!=b.bottom?b.bottom:a.bottom,a.left=null!=b.left?b.left:a.left}},color:{get:function(){return F},set:function(b){F=f.utils.getColor(b)}}}),f.utils.initOptions(M),M},f.models.cumulativeLineChart=function(){"use strict";var B,w,a=f.models.line(),u=f.models.axis(),C=f.models.axis(),m=f.models.legend(),x=f.models.legend(),O=f.interactiveGuideline(),v=f.models.tooltip(),A={top:30,right:30,bottom:50,left:60},W=null,tt=f.utils.defaultColor(),et=null,q=null,rt=!0,U=!0,Z=!0,lt=!1,j=!0,F=!1,R=!0,L=a.id(),P=f.utils.state(),T=null,M=null,b=function(Q){return Q.average},I=d3.dispatch("stateChange","changeState","renderEnd"),ht=250,G=!1;P.index=0,P.rescaleY=R,u.orient("bottom").tickPadding(7),C.orient(lt?"right":"left"),v.valueFormatter(function(Q,J){return C.tickFormat()(Q,J)}).headerFormatter(function(Q,J){return u.tickFormat()(Q,J)}),x.updateState(!1);var K,p=d3.scale.linear(),_={i:0,x:0},D=f.utils.renderWatch(I,ht);function h(Q){return D.reset(),D.models(a),U&&D.models(u),Z&&D.models(C),Q.each(function(J){var yt=d3.select(this);f.utils.initSVG(yt),yt.classed("nv-chart-"+L,!0);var E,St=f.utils.availableWidth(et,yt,A),gt=f.utils.availableHeight(q,yt,A);if(h.update=function(){0===ht?yt.call(h):yt.transition().duration(ht).call(h)},h.container=this,P.setter(function(Q){return function(J){void 0!==J.index&&(_.i=J.index),void 0!==J.rescaleY&&(R=J.rescaleY),void 0!==J.active&&Q.forEach(function(yt,Ct){yt.disabled=!J.active[Ct]})}}(J),h.update).getter(function(Q){return function(){return{active:Q.map(function(J){return!J.disabled}),index:_.i,rescaleY:R}}}(J)).update(),P.disabled=J.map(function(zt){return!!zt.disabled}),!T)for(E in T={},P)T[E]=P[E]instanceof Array?P[E].slice(0):P[E];var ut=d3.behavior.drag().on("dragstart",function(zt,Ft){d3.select(h.container).style("cursor","ew-resize")}).on("drag",function(zt,Ft){_.x=d3.event.x,_.i=Math.round(p.invert(_.x)),Xt()}).on("dragend",function(zt,Ft){d3.select(h.container).style("cursor","auto"),P.index=_.i,I.stateChange(P)});if(!J||!J.length||!J.filter(function(zt){return zt.values.length}).length)return f.utils.noData(h,yt),h;yt.selectAll(".nv-noData").remove(),B=a.xScale(),w=a.yScale(),p.domain([0,J[0].values.length-1]).range([0,St]).clamp(!0),J=function(Q,J){return S||(S=a.y()),J.map(function(yt,Ct){if(!yt.values)return yt;var St=yt.values[Q];if(null==St)return yt;var gt=S(St,Q);return Math.abs(gt)<1e-5&&!G?(yt.tempDisabled=!0,yt):(yt.tempDisabled=!1,yt.values=yt.values.map(function(E,ut){return E.display={y:(S(E,ut)-gt)/gt},E}),yt)})}(_.i,J),void 0===K&&(K=st(J)),R?a.yDomain(null):(a.yDomain(K),a.clipEdge(!0));var jt=F?"none":"all",Ut=yt.selectAll("g.nv-wrap.nv-cumulativeLine").data([J]),_t=Ut.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),Pt=Ut.select("g");if(_t.append("g").attr("class","nv-interactive"),_t.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),_t.append("g").attr("class","nv-y nv-axis"),_t.append("g").attr("class","nv-background"),_t.append("g").attr("class","nv-linesWrap").style("pointer-events",jt),_t.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),_t.append("g").attr("class","nv-legendWrap"),_t.append("g").attr("class","nv-controlsWrap"),rt?(m.width(St),Pt.select(".nv-legendWrap").datum(J).call(m),!W&&m.height()!==A.top&&(A.top=m.height(),gt=f.utils.availableHeight(q,yt,A)),Pt.select(".nv-legendWrap").attr("transform","translate(0,"+-A.top+")")):Pt.select(".nv-legendWrap").selectAll("*").remove(),j){var Bt=[{key:"Re-scale y-axis",disabled:!R}];x.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),Pt.select(".nv-controlsWrap").datum(Bt).attr("transform","translate(0,"+-A.top+")").call(x)}else Pt.select(".nv-controlsWrap").selectAll("*").remove();Ut.attr("transform","translate("+A.left+","+A.top+")"),lt&&Pt.select(".nv-y.nv-axis").attr("transform","translate("+St+",0)");var ne=J.filter(function(zt){return zt.tempDisabled});Ut.select(".tempDisabled").remove(),ne.length&&Ut.append("text").attr("class","tempDisabled").attr("x",St/2).attr("y","-.71em").style("text-anchor","end").text(ne.map(function(zt){return zt.key}).join(", ")+" values cannot be calculated for this time period."),F&&(O.width(St).height(gt).margin({left:A.left,top:A.top}).svgContainer(yt).xScale(B),Ut.select(".nv-interactive").call(O)),_t.select(".nv-background").append("rect"),Pt.select(".nv-background rect").attr("width",St).attr("height",gt),a.y(function(zt){return zt.display.y}).width(St).height(gt).color(J.map(function(zt,Ft){return zt.color||tt(zt,Ft)}).filter(function(zt,Ft){return!J[Ft].disabled&&!J[Ft].tempDisabled}));var Mt=Pt.select(".nv-linesWrap").datum(J.filter(function(zt){return!zt.disabled&&!zt.tempDisabled}));Mt.call(a),J.forEach(function(zt,Ft){zt.seriesIndex=Ft});var Ht=J.filter(function(zt){return!zt.disabled&&!!b(zt)}),Qt=Pt.select(".nv-avgLinesWrap").selectAll("line").data(Ht,function(zt){return zt.key}),re=function(zt){var Ft=w(b(zt));return Ft<0?0:Ft>gt?gt:Ft};Qt.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(zt,Ft){return a.color()(zt,zt.seriesIndex)}).attr("x1",0).attr("x2",St).attr("y1",re).attr("y2",re),Qt.style("stroke-opacity",function(zt){var Ft=w(b(zt));return Ft<0||Ft>gt?0:1}).attr("x1",0).attr("x2",St).attr("y1",re).attr("y2",re),Qt.exit().remove();var Lt=Mt.selectAll(".nv-indexLine").data([_]);function Xt(){Lt.data([_]);var zt=h.duration();h.duration(0),h.update(),h.duration(zt)}Lt.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(ut),Lt.attr("transform",function(zt){return"translate("+p(zt.i)+",0)"}).attr("height",gt),U&&(u.scale(B)._ticks(f.utils.calcTicksX(St/70,J)).tickSize(-gt,0),Pt.select(".nv-x.nv-axis").attr("transform","translate(0,"+w.range()[0]+")"),Pt.select(".nv-x.nv-axis").call(u)),Z&&(C.scale(w)._ticks(f.utils.calcTicksY(gt/36,J)).tickSize(-St,0),Pt.select(".nv-y.nv-axis").call(C)),Pt.select(".nv-background rect").on("click",function(){_.x=d3.mouse(this)[0],_.i=Math.round(p.invert(_.x)),P.index=_.i,I.stateChange(P),Xt()}),a.dispatch.on("elementClick",function(zt){_.i=zt.pointIndex,_.x=p(_.i),P.index=_.i,I.stateChange(P),Xt()}),x.dispatch.on("legendClick",function(zt,Ft){zt.disabled=!zt.disabled,P.rescaleY=R=!zt.disabled,R||(K=st(J)),I.stateChange(P),h.update()}),m.dispatch.on("stateChange",function(zt){for(var Ft in zt)P[Ft]=zt[Ft];I.stateChange(P),h.update()}),O.dispatch.on("elementMousemove",function(zt){a.clearHighlights();var Ft,ae,ue,xe=[];if(J.filter(function(se,kt){return se.seriesIndex=kt,!(se.disabled||se.tempDisabled)}).forEach(function(se,kt){ae=f.interactiveBisect(se.values,zt.pointXValue,h.x()),a.highlightPoint(kt,ae,!0);var Ot=se.values[ae];void 0!==Ot&&(void 0===Ft&&(Ft=Ot),void 0===ue&&(ue=h.xScale()(h.x()(Ot,ae))),xe.push({key:se.key,value:h.y()(Ot,ae),color:tt(se,se.seriesIndex)}))}),xe.length>2){var ge=h.yScale().invert(zt.mouseY),Ce=.03*Math.abs(h.yScale().domain()[0]-h.yScale().domain()[1]),ke=f.nearestValueIndex(xe.map(function(se){return se.value}),ge,Ce);null!==ke&&(xe[ke].highlight=!0)}var Dt=u.tickFormat()(h.x()(Ft,ae),ae);O.tooltip.valueFormatter(function(se,kt){return C.tickFormat()(se)}).data({value:Dt,series:xe})(),O.renderGuideLine(ue)}),O.dispatch.on("elementMouseout",function(zt){a.clearHighlights()}),I.on("changeState",function(zt){void 0!==zt.disabled&&(J.forEach(function(Ft,ae){Ft.disabled=zt.disabled[ae]}),P.disabled=zt.disabled),void 0!==zt.index&&(_.i=zt.index,_.x=p(_.i),P.index=zt.index,Lt.data([_])),void 0!==zt.rescaleY&&(R=zt.rescaleY),h.update()})}),D.renderEnd("cumulativeLineChart immediate"),h}a.dispatch.on("elementMouseover.tooltip",function(Q){var J={x:h.x()(Q.point),y:h.y()(Q.point),color:Q.point.color};Q.point=J,v.data(Q).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(Q){v.hidden(!0)});var S=null;function st(Q){var J=Q.filter(function(yt){return!(yt.disabled||yt.tempDisabled)}).map(function(yt,Ct){return d3.extent(yt.values,function(St){return St.display.y})});return[d3.min(J,function(yt){return yt[0]}),d3.max(J,function(yt){return yt[1]})]}return h.dispatch=I,h.lines=a,h.legend=m,h.controls=x,h.xAxis=u,h.yAxis=C,h.interactiveLayer=O,h.state=P,h.tooltip=v,h.options=f.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return et},set:function(Q){et=Q}},height:{get:function(){return q},set:function(Q){q=Q}},showControls:{get:function(){return j},set:function(Q){j=Q}},showLegend:{get:function(){return rt},set:function(Q){rt=Q}},average:{get:function(){return b},set:function(Q){b=Q}},defaultState:{get:function(){return T},set:function(Q){T=Q}},noData:{get:function(){return M},set:function(Q){M=Q}},showXAxis:{get:function(){return U},set:function(Q){U=Q}},showYAxis:{get:function(){return Z},set:function(Q){Z=Q}},noErrorCheck:{get:function(){return G},set:function(Q){G=Q}},rescaleY:{get:function(){return R},set:function(Q){R=Q,h.state.rescaleY=Q}},margin:{get:function(){return A},set:function(Q){void 0!==Q.top&&(A.top=Q.top,W=Q.top),A.right=void 0!==Q.right?Q.right:A.right,A.bottom=void 0!==Q.bottom?Q.bottom:A.bottom,A.left=void 0!==Q.left?Q.left:A.left}},color:{get:function(){return tt},set:function(Q){tt=f.utils.getColor(Q),m.color(tt)}},useInteractiveGuideline:{get:function(){return F},set:function(Q){F=Q,!0===Q&&(h.interactive(!1),h.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return lt},set:function(Q){lt=Q,C.orient(Q?"right":"left")}},duration:{get:function(){return ht},set:function(Q){a.duration(ht=Q),u.duration(ht),C.duration(ht),D.reset(ht)}}}),f.utils.inheritOptions(h,a),f.utils.initOptions(h),h},f.models.discreteBar=function(){"use strict";var x,U,Z,lt,j,w,L,a={top:0,right:0,bottom:0,left:0},u=960,C=500,m=Math.floor(1e4*Math.random()),O=d3.scale.ordinal(),v=d3.scale.linear(),A=function(M){return M.x},W=function(M){return M.y},tt=[0],et=f.utils.defaultColor(),q=!1,rt=d3.format(",.2f"),F=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),R="discreteBar",B=250,P=f.utils.renderWatch(F,B);function T(M){return P.reset(),M.each(function(b){var I=u-a.left-a.right,ot=C-a.top-a.bottom;x=d3.select(this),f.utils.initSVG(x),b.forEach(function(h,S){h.values.forEach(function(at){at.series=S})});var ht=U&&Z?[]:b.map(function(h){return h.values.map(function(S,at){return{x:A(S,at),y:W(S,at),y0:S.y0}})});O.domain(U||d3.merge(ht).map(function(h){return h.x})).rangeBands(lt||[0,I],.1),v.domain(Z||d3.extent(d3.merge(ht).map(function(h){return h.y}).concat(tt))),v.range(q?j||[ot-(v.domain()[0]<0?12:0),v.domain()[1]>0?12:0]:j||[ot,0]),w=w||O,L=L||v.copy().range([v(0),v(0)]);var G=x.selectAll("g.nv-wrap.nv-discretebar").data([b]),_=G.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");G.select("g"),_.append("g").attr("class","nv-groups"),G.attr("transform","translate("+a.left+","+a.top+")");var K=G.select(".nv-groups").selectAll(".nv-group").data(function(h){return h},function(h){return h.key});K.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),K.exit().watchTransition(P,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),K.attr("class",function(h,S){return"nv-group nv-series-"+S}).classed("hover",function(h){return h.hover}),K.watchTransition(P,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var dt=K.selectAll("g.nv-bar").data(function(h){return h.values});dt.exit().remove();var ct=dt.enter().append("g").attr("transform",function(h,S,at){return"translate("+(O(A(h,S))+.05*O.rangeBand())+", "+v(0)+")"}).on("mouseover",function(h,S){d3.select(this).classed("hover",!0),F.elementMouseover({data:h,index:S,color:d3.select(this).style("fill")})}).on("mouseout",function(h,S){d3.select(this).classed("hover",!1),F.elementMouseout({data:h,index:S,color:d3.select(this).style("fill")})}).on("mousemove",function(h,S){F.elementMousemove({data:h,index:S,color:d3.select(this).style("fill")})}).on("click",function(h,S){F.elementClick({data:h,index:S,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(h,S){F.elementDblClick({data:h,index:S,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});ct.append("rect").attr("height",0).attr("width",.9*O.rangeBand()/b.length),q?(ct.append("text").attr("text-anchor","middle"),dt.select("text").text(function(h,S){return rt(W(h,S))}).watchTransition(P,"discreteBar: bars text").attr("x",.9*O.rangeBand()/2).attr("y",function(h,S){return W(h,S)<0?v(W(h,S))-v(0)+12:-4})):dt.selectAll("text").remove(),dt.attr("class",function(h,S){return W(h,S)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(h,S){return h.color||et(h,S)}).style("stroke",function(h,S){return h.color||et(h,S)}).select("rect").attr("class",R).watchTransition(P,"discreteBar: bars rect").attr("width",.9*O.rangeBand()/b.length),dt.watchTransition(P,"discreteBar: bars").attr("transform",function(h,S){return"translate("+(O(A(h,S))+.05*O.rangeBand())+", "+(W(h,S)<0?v(0):v(0)-v(W(h,S))<1?v(0)-1:v(W(h,S)))+")"}).select("rect").attr("height",function(h,S){return Math.max(Math.abs(v(W(h,S))-v(0)),1)}),w=O.copy(),L=v.copy()}),P.renderEnd("discreteBar immediate"),T}return T.dispatch=F,T.options=f.utils.optionsFunc.bind(T),T._options=Object.create({},{width:{get:function(){return u},set:function(M){u=M}},height:{get:function(){return C},set:function(M){C=M}},forceY:{get:function(){return tt},set:function(M){tt=M}},showValues:{get:function(){return q},set:function(M){q=M}},x:{get:function(){return A},set:function(M){A=M}},y:{get:function(){return W},set:function(M){W=M}},xScale:{get:function(){return O},set:function(M){O=M}},yScale:{get:function(){return v},set:function(M){v=M}},xDomain:{get:function(){return U},set:function(M){U=M}},yDomain:{get:function(){return Z},set:function(M){Z=M}},xRange:{get:function(){return lt},set:function(M){lt=M}},yRange:{get:function(){return j},set:function(M){j=M}},valueFormat:{get:function(){return rt},set:function(M){rt=M}},id:{get:function(){return m},set:function(M){m=M}},rectClass:{get:function(){return R},set:function(M){R=M}},margin:{get:function(){return a},set:function(M){a.top=void 0!==M.top?M.top:a.top,a.right=void 0!==M.right?M.right:a.right,a.bottom=void 0!==M.bottom?M.bottom:a.bottom,a.left=void 0!==M.left?M.left:a.left}},color:{get:function(){return et},set:function(M){et=f.utils.getColor(M)}},duration:{get:function(){return B},set:function(M){P.reset(B=M)}}}),f.utils.initOptions(T),T},f.models.discreteBarChart=function(){"use strict";var F,R,a=f.models.discreteBar(),u=f.models.axis(),C=f.models.axis(),m=f.models.legend(),x=f.models.tooltip(),O={top:15,right:10,bottom:50,left:60},v=null,A=null,W=null,tt=f.utils.getColor(),et=!1,q=!0,rt=!0,U=!1,Z=!1,lt=!1,j=0,B=null,w=d3.dispatch("beforeUpdate","renderEnd"),L=250;u.orient("bottom").showMaxMin(!1).tickFormat(function(M){return M}),C.orient(U?"right":"left").tickFormat(d3.format(",.1f")),x.duration(0).headerEnabled(!1).valueFormatter(function(M,b){return C.tickFormat()(M,b)}).keyFormatter(function(M,b){return u.tickFormat()(M,b)});var P=f.utils.renderWatch(w,L);function T(M){return P.reset(),P.models(a),q&&P.models(u),rt&&P.models(C),M.each(function(b){var I=d3.select(this);f.utils.initSVG(I);var ht=f.utils.availableWidth(A,I,O),G=f.utils.availableHeight(W,I,O);if(T.update=function(){w.beforeUpdate(),I.transition().duration(L).call(T)},T.container=this,!b||!b.length||!b.filter(function(h){return h.values.length}).length)return f.utils.noData(T,I),T;I.selectAll(".nv-noData").remove(),F=a.xScale(),R=a.yScale().clamp(!0);var p=I.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([b]),_=p.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),D=_.append("defs"),K=p.select("g");if(_.append("g").attr("class","nv-x nv-axis"),_.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),_.append("g").attr("class","nv-barsWrap"),_.append("g").attr("class","nv-legendWrap"),K.attr("transform","translate("+O.left+","+O.top+")"),et?(m.width(ht),K.select(".nv-legendWrap").datum(b).call(m),!v&&m.height()!==O.top&&(O.top=m.height(),G=f.utils.availableHeight(W,I,O)),p.select(".nv-legendWrap").attr("transform","translate(0,"+-O.top+")")):K.select(".nv-legendWrap").selectAll("*").remove(),U&&K.select(".nv-y.nv-axis").attr("transform","translate("+ht+",0)"),a.width(ht).height(G),K.select(".nv-barsWrap").datum(b.filter(function(h){return!h.disabled})).transition().call(a),D.append("clipPath").attr("id","nv-x-label-clip-"+a.id()).append("rect"),K.select("#nv-x-label-clip-"+a.id()+" rect").attr("width",F.rangeBand()*(Z?2:1)).attr("height",16).attr("x",-F.rangeBand()/(Z?1:2)),q){u.scale(F)._ticks(f.utils.calcTicksX(ht/100,b)).tickSize(-G,0),K.select(".nv-x.nv-axis").attr("transform","translate(0,"+(R.range()[0]+(a.showValues()&&R.domain()[0]<0?16:0))+")"),K.select(".nv-x.nv-axis").call(u);var ct=K.select(".nv-x.nv-axis").selectAll("g");Z&&ct.selectAll("text").attr("transform",function(h,S,at){return"translate(0,"+(at%2==0?"5":"17")+")"}),j&&ct.selectAll(".tick text").attr("transform","rotate("+j+" 0,0)").style("text-anchor",j>0?"start":"end"),lt&&K.selectAll(".tick text").call(f.utils.wrapTicks,T.xAxis.rangeBand())}rt&&(C.scale(R)._ticks(f.utils.calcTicksY(G/36,b)).tickSize(-ht,0),K.select(".nv-y.nv-axis").call(C)),K.select(".nv-zeroLine line").attr("x1",0).attr("x2",U?-ht:ht).attr("y1",R(0)).attr("y2",R(0))}),P.renderEnd("discreteBar chart immediate"),T}return a.dispatch.on("elementMouseover.tooltip",function(M){M.series={key:T.x()(M.data),value:T.y()(M.data),color:M.color},x.data(M).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(M){x.hidden(!0)}),a.dispatch.on("elementMousemove.tooltip",function(M){x()}),T.dispatch=w,T.discretebar=a,T.legend=m,T.xAxis=u,T.yAxis=C,T.tooltip=x,T.options=f.utils.optionsFunc.bind(T),T._options=Object.create({},{width:{get:function(){return A},set:function(M){A=M}},height:{get:function(){return W},set:function(M){W=M}},showLegend:{get:function(){return et},set:function(M){et=M}},staggerLabels:{get:function(){return Z},set:function(M){Z=M}},rotateLabels:{get:function(){return j},set:function(M){j=M}},wrapLabels:{get:function(){return lt},set:function(M){lt=!!M}},showXAxis:{get:function(){return q},set:function(M){q=M}},showYAxis:{get:function(){return rt},set:function(M){rt=M}},noData:{get:function(){return B},set:function(M){B=M}},margin:{get:function(){return O},set:function(M){void 0!==M.top&&(O.top=M.top,v=M.top),O.right=void 0!==M.right?M.right:O.right,O.bottom=void 0!==M.bottom?M.bottom:O.bottom,O.left=void 0!==M.left?M.left:O.left}},duration:{get:function(){return L},set:function(M){P.reset(L=M),a.duration(L),u.duration(L),C.duration(L)}},color:{get:function(){return tt},set:function(M){tt=f.utils.getColor(M),a.color(tt),m.color(tt)}},rightAlignYAxis:{get:function(){return U},set:function(M){U=M,C.orient(M?"right":"left")}}}),f.utils.inheritOptions(T,a),f.utils.initOptions(T),T},f.models.distribution=function(){"use strict";var et,a={top:0,right:0,bottom:0,left:0},u=400,C=8,m="x",x=function(U){return U[m]},O=f.utils.defaultColor(),v=d3.scale.linear(),W=250,tt=d3.dispatch("renderEnd"),q=f.utils.renderWatch(tt,W);function rt(U){return q.reset(),U.each(function(Z){var j="x"==m?"y":"x",F=d3.select(this);f.utils.initSVG(F),et=et||v;var R=F.selectAll("g.nv-distribution").data([Z]),L=(R.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),R.select("g"));R.attr("transform","translate("+a.left+","+a.top+")");var P=L.selectAll("g.nv-dist").data(function(M){return M},function(M){return M.key});P.enter().append("g"),P.attr("class",function(M,b){return"nv-dist nv-series-"+b}).style("stroke",function(M,b){return O(M,b)});var T=P.selectAll("line.nv-dist"+m).data(function(M){return M.values});T.enter().append("line").attr(m+"1",function(M,b){return et(x(M,b))}).attr(m+"2",function(M,b){return et(x(M,b))}),q.transition(P.exit().selectAll("line.nv-dist"+m),"dist exit").attr(m+"1",function(M,b){return v(x(M,b))}).attr(m+"2",function(M,b){return v(x(M,b))}).style("stroke-opacity",0).remove(),T.attr("class",function(M,b){return"nv-dist"+m+" nv-dist"+m+"-"+b}).attr(j+"1",0).attr(j+"2",C),q.transition(T,"dist").attr(m+"1",function(M,b){return v(x(M,b))}).attr(m+"2",function(M,b){return v(x(M,b))}),et=v.copy()}),q.renderEnd("distribution immediate"),rt}return rt.options=f.utils.optionsFunc.bind(rt),rt.dispatch=tt,rt.margin=function(U){return arguments.length?(a.top=void 0!==U.top?U.top:a.top,a.right=void 0!==U.right?U.right:a.right,a.bottom=void 0!==U.bottom?U.bottom:a.bottom,a.left=void 0!==U.left?U.left:a.left,rt):a},rt.width=function(U){return arguments.length?(u=U,rt):u},rt.axis=function(U){return arguments.length?(m=U,rt):m},rt.size=function(U){return arguments.length?(C=U,rt):C},rt.getData=function(U){return arguments.length?(x=d3.functor(U),rt):x},rt.scale=function(U){return arguments.length?(v=U,rt):v},rt.color=function(U){return arguments.length?(O=f.utils.getColor(U),rt):O},rt.duration=function(U){return arguments.length?(q.reset(W=U),rt):W},rt},f.models.focus=function(a){"use strict";a=a||f.models.line();var rt,U,u=f.models.axis(),C=f.models.axis(),m=d3.svg.brush(),x={top:10,right:0,bottom:30,left:0},O=f.utils.defaultColor(),v=null,A=70,W=!0,tt=!1,et=!1,Z=null,lt=250,j=d3.dispatch("brush","onBrush","renderEnd"),F=!0;a.interactive(!1),a.pointActive(function(w){return!1});var R=f.utils.renderWatch(j,lt);function B(w){return R.reset(),R.models(a),W&&R.models(u),tt&&R.models(C),w.each(function(L){var P=d3.select(this);f.utils.initSVG(P);var T=f.utils.availableWidth(v,P,x),M=A-x.top-x.bottom;B.update=function(){0===lt?P.call(B):P.transition().duration(lt).call(B)},B.container=this,rt=a.xScale(),U=a.yScale();var b=P.selectAll("g.nv-focus").data([L]),I=b.enter().append("g").attr("class","nvd3 nv-focus").append("g"),ot=b.select("g");b.attr("transform","translate("+x.left+","+x.top+")"),I.append("g").attr("class","nv-background").append("rect"),I.append("g").attr("class","nv-x nv-axis"),I.append("g").attr("class","nv-y nv-axis"),I.append("g").attr("class","nv-contentWrap"),I.append("g").attr("class","nv-brushBackground"),I.append("g").attr("class","nv-x nv-brush"),et&&ot.select(".nv-y.nv-axis").attr("transform","translate("+T+",0)"),ot.select(".nv-background rect").attr("width",T).attr("height",M),a.width(T).height(M).color(L.map(function(ct,h){return ct.color||O(ct,h)}).filter(function(ct,h){return!L[h].disabled}));var ht=ot.select(".nv-contentWrap").datum(L.filter(function(ct){return!ct.disabled}));d3.transition(ht).call(a),m.x(rt).on("brush",function(){dt(F)}),m.on("brushend",function(){F||j.onBrush(m.empty()?rt.domain():m.extent())}),Z&&m.extent(Z);var G=ot.select(".nv-brushBackground").selectAll("g").data([Z||m.extent()]),p=G.enter().append("g");p.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",M),p.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",M);var _=ot.select(".nv-x.nv-brush").call(m);function dt(ct){Z=m.empty()?null:m.extent();var h=m.empty()?rt.domain():m.extent();j.brush({extent:h,brush:m}),m.empty()||m.extent(Z),G.data([m.empty()?rt.domain():Z]).each(function(ct,h){var S=rt(ct[0])-rt.range()[0],at=T-rt(ct[1]);d3.select(this).select(".left").attr("width",S<0?0:S),d3.select(this).select(".right").attr("x",rt(ct[1])).attr("width",at<0?0:at)}),ct&&j.onBrush(h)}_.selectAll("rect").attr("height",M),_.selectAll(".resize").append("path").attr("d",function(ct){var h=+("e"==ct),S=h?1:-1,at=M/3;return"M"+.5*S+","+at+"A6,6 0 0 "+h+" "+6.5*S+","+(at+6)+"V"+(2*at-6)+"A6,6 0 0 "+h+" "+.5*S+","+2*at+"ZM"+2.5*S+","+(at+8)+"V"+(2*at-8)+"M"+4.5*S+","+(at+8)+"V"+(2*at-8)}),dt(!0),ot.select(".nv-background rect").attr("width",T).attr("height",M),W&&(u.scale(rt)._ticks(f.utils.calcTicksX(T/100,L)).tickSize(-M,0),ot.select(".nv-x.nv-axis").attr("transform","translate(0,"+U.range()[0]+")"),d3.transition(ot.select(".nv-x.nv-axis")).call(u)),tt&&(C.scale(U)._ticks(f.utils.calcTicksY(M/36,L)).tickSize(-T,0),d3.transition(ot.select(".nv-y.nv-axis")).call(C)),ot.select(".nv-x.nv-axis").attr("transform","translate(0,"+U.range()[0]+")")}),R.renderEnd("focus immediate"),B}return B.dispatch=j,B.content=a,B.brush=m,B.xAxis=u,B.yAxis=C,B.options=f.utils.optionsFunc.bind(B),B._options=Object.create({},{width:{get:function(){return v},set:function(w){v=w}},height:{get:function(){return A},set:function(w){A=w}},showXAxis:{get:function(){return W},set:function(w){W=w}},showYAxis:{get:function(){return tt},set:function(w){tt=w}},brushExtent:{get:function(){return Z},set:function(w){Z=w}},syncBrushing:{get:function(){return F},set:function(w){F=w}},margin:{get:function(){return x},set:function(w){x.top=void 0!==w.top?w.top:x.top,x.right=void 0!==w.right?w.right:x.right,x.bottom=void 0!==w.bottom?w.bottom:x.bottom,x.left=void 0!==w.left?w.left:x.left}},duration:{get:function(){return lt},set:function(w){R.reset(lt=w),a.duration(lt),u.duration(lt),C.duration(lt)}},color:{get:function(){return O},set:function(w){O=f.utils.getColor(w),a.color(O)}},interpolate:{get:function(){return a.interpolate()},set:function(w){a.interpolate(w)}},xTickFormat:{get:function(){return u.tickFormat()},set:function(w){u.tickFormat(w)}},yTickFormat:{get:function(){return C.tickFormat()},set:function(w){C.tickFormat(w)}},x:{get:function(){return a.x()},set:function(w){a.x(w)}},y:{get:function(){return a.y()},set:function(w){a.y(w)}},rightAlignYAxis:{get:function(){return et},set:function(w){C.orient((et=w)?"right":"left")}}}),f.utils.inheritOptions(B,a),f.utils.initOptions(B),B},f.models.forceDirectedGraph=function(){"use strict";var a={top:2,right:0,bottom:2,left:0},u=400,C=32,m=null,x=d3.dispatch("renderEnd"),O=f.utils.getColor(["#000"]),v=f.models.tooltip(),A=null,W=.1,tt=.9,et=30,q=-120,rt=.1,U=.8,Z=.1,lt=5,j=function(P){},F=function(P){},R=d3.functor(0),B=d3.functor(0),w=f.utils.renderWatch(x);function L(P){return w.reset(),P.each(function(T){m=d3.select(this),f.utils.initSVG(m);var M=f.utils.availableWidth(u,m,a),b=f.utils.availableHeight(C,m,a);if(m.attr("width",M).attr("height",b),!T||!T.links||!T.nodes)return f.utils.noData(L,m),L;m.selectAll(".nv-noData").remove(),m.selectAll("*").remove();var I=new Set;T.nodes.forEach(function(p){Object.keys(p).forEach(function(D){I.add(D)})});var ot=d3.layout.force().nodes(T.nodes).links(T.links).size([M,b]).linkStrength(W).friction(tt).linkDistance(et).charge(q).gravity(rt).theta(U).alpha(Z).start(),ht=m.selectAll(".link").data(T.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(p){return Math.sqrt(p.value)}),G=m.selectAll(".node").data(T.nodes).enter().append("g").attr("class","nv-force-node").call(ot.drag);G.append("circle").attr("r",lt).style("fill",function(p){return O(p)}).on("mouseover",function(p){m.select(".nv-series-"+p.seriesIndex+" .nv-distx-"+p.pointIndex).attr("y1",p.py),m.select(".nv-series-"+p.seriesIndex+" .nv-disty-"+p.pointIndex).attr("x2",p.px);var _=O(p);p.series=[],I.forEach(function(D){p.series.push({color:_,key:D,value:p[D]})}),v.data(p).hidden(!1)}).on("mouseout",function(p){v.hidden(!0)}),v.headerFormatter(function(p){return"Node"}),F(ht),j(G),ot.on("tick",function(){ht.attr("x1",function(p){return p.source.x}).attr("y1",function(p){return p.source.y}).attr("x2",function(p){return p.target.x}).attr("y2",function(p){return p.target.y}),G.attr("transform",function(p){return"translate("+p.x+", "+p.y+")"})})}),L}return L.options=f.utils.optionsFunc.bind(L),L._options=Object.create({},{width:{get:function(){return u},set:function(P){u=P}},height:{get:function(){return C},set:function(P){C=P}},linkStrength:{get:function(){return W},set:function(P){W=P}},friction:{get:function(){return tt},set:function(P){tt=P}},linkDist:{get:function(){return et},set:function(P){et=P}},charge:{get:function(){return q},set:function(P){q=P}},gravity:{get:function(){return rt},set:function(P){rt=P}},theta:{get:function(){return U},set:function(P){U=P}},alpha:{get:function(){return Z},set:function(P){Z=P}},radius:{get:function(){return lt},set:function(P){lt=P}},x:{get:function(){return R},set:function(P){R=d3.functor(P)}},y:{get:function(){return B},set:function(P){B=d3.functor(P)}},margin:{get:function(){return a},set:function(P){a.top=void 0!==P.top?P.top:a.top,a.right=void 0!==P.right?P.right:a.right,a.bottom=void 0!==P.bottom?P.bottom:a.bottom,a.left=void 0!==P.left?P.left:a.left}},color:{get:function(){return O},set:function(P){O=f.utils.getColor(P)}},noData:{get:function(){return A},set:function(P){A=P}},nodeExtras:{get:function(){return j},set:function(P){j=P}},linkExtras:{get:function(){return F},set:function(P){F=P}}}),L.dispatch=x,L.tooltip=v,f.utils.initOptions(L),L},f.models.furiousLegend=function(){"use strict";var a={top:5,right:0,bottom:5,left:0},u=400,C=20,m=function(j){return j.key},x=function(j){return j},O=f.utils.getColor(),v=20,A=!0,W=28,tt=!0,et=!0,q=!1,rt=!1,U=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),Z="classic";function lt(j){function F(B,w){return"furious"!=Z?"#000":rt?B.disengaged?O(B,w):"#fff":rt?void 0:B.disabled?O(B,w):"#fff"}function R(B,w){return rt&&"furious"==Z?B.disengaged?"#fff":O(B,w):B.disabled?"#fff":O(B,w)}return j.each(function(B){var w=u-a.left-a.right,L=d3.select(this);f.utils.initSVG(L);var P=L.selectAll("g.nv-legend").data([B]),M=(P.enter().append("g").attr("class","nvd3 nv-legend").append("g"),P.select("g"));P.attr("transform","translate("+a.left+","+a.top+")");var ot,b=M.selectAll(".nv-series").data(function(Ct){return"furious"!=Z?Ct:Ct.filter(function(St){return!!rt||!St.disengaged})}),I=b.enter().append("g").attr("class","nv-series");"classic"==Z?(I.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),ot=b.select("circle")):"furious"==Z&&(I.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),ot=b.select("rect"),I.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),b.select(".nv-check-box").each(function(Ct,St){d3.select(this).selectAll("path").attr("stroke",F(Ct,St))})),I.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var p,G=b.select("text.nv-legend-text");switch(b.on("mouseover",function(Ct,St){U.legendMouseover(Ct,St)}).on("mouseout",function(Ct,St){U.legendMouseout(Ct,St)}).on("click",function(Ct,St){U.legendClick(Ct,St);var gt=b.data();et&&("classic"==Z?q?(gt.forEach(function(ut){ut.disabled=!0}),Ct.disabled=!1):(Ct.disabled=!Ct.disabled,gt.every(function(ut){return ut.disabled})&&gt.forEach(function(ut){ut.disabled=!1})):"furious"==Z&&(rt?(Ct.disengaged=!Ct.disengaged,Ct.userDisabled=null==Ct.userDisabled?!!Ct.disabled:Ct.userDisabled,Ct.disabled=Ct.disengaged||Ct.userDisabled):rt||(Ct.disabled=!Ct.disabled,Ct.userDisabled=Ct.disabled,gt.filter(function(ut){return!ut.disengaged}).every(function(ut){return ut.userDisabled})&&gt.forEach(function(ut){ut.disabled=ut.userDisabled=!1}))),U.stateChange({disabled:gt.map(function(ut){return!!ut.disabled}),disengaged:gt.map(function(ut){return!!ut.disengaged})}))}).on("dblclick",function(Ct,St){if(("furious"!=Z||!rt)&&(U.legendDblclick(Ct,St),et)){var gt=b.data();gt.forEach(function(E){E.disabled=!0,"furious"==Z&&(E.userDisabled=E.disabled)}),Ct.disabled=!1,"furious"==Z&&(Ct.userDisabled=Ct.disabled),U.stateChange({disabled:gt.map(function(E){return!!E.disabled})})}}),b.classed("nv-disabled",function(Ct){return Ct.userDisabled}),b.exit().remove(),G.attr("fill",F).text(function(Ct){return x(m(Ct))}),Z){case"furious":p=23;break;case"classic":p=20}if(A){var _=[];b.each(function(Ct,St){var gt,ut;if(x(m(Ct))&&x(m(Ct)).length>v){var E=x(m(Ct)).substring(0,v);gt=d3.select(this).select("text").text(E+"..."),d3.select(this).append("svg:title").text(x(m(Ct)))}else gt=d3.select(this).select("text");try{if((ut=gt.node().getComputedTextLength())<=0)throw Error()}catch(z){ut=f.utils.calcApproxTextWidth(gt)}_.push(ut+W)});for(var D=0,K=0,dt=[];K<w&&D<_.length;)dt[D]=_[D],K+=_[D++];for(0===D&&(D=1);K>w&&D>1;){dt=[],D--;for(var ct=0;ct<_.length;ct++)_[ct]>(dt[ct%D]||0)&&(dt[ct%D]=_[ct]);K=dt.reduce(function(Ct,St,gt,E){return Ct+St})}for(var h=[],S=0,at=0;S<D;S++)h[S]=at,at+=dt[S];b.attr("transform",function(Ct,St){return"translate("+h[St%D]+","+(5+Math.floor(St/D)*p)+")"}),M.attr("transform",tt?"translate("+(u-a.right-K)+","+a.top+")":"translate(0,"+a.top+")"),C=a.top+a.bottom+Math.ceil(_.length/D)*p}else{var yt,st=5,Q=5,J=0;b.attr("transform",function(Ct,St){var gt=d3.select(this).select("text").node().getComputedTextLength()+W;return u<a.left+a.right+(yt=Q)+gt&&(Q=yt=5,st+=p),(Q+=gt)>J&&(J=Q),"translate("+yt+","+st+")"}),M.attr("transform","translate("+(u-a.right-J)+","+a.top+")"),C=a.top+a.bottom+st+15}"furious"==Z&&ot.attr("width",function(Ct,St){return G[0][St].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),ot.style("fill",R).style("stroke",function(Ct,St){return Ct.color||O(Ct,St)})}),lt}return lt.dispatch=U,lt.options=f.utils.optionsFunc.bind(lt),lt._options=Object.create({},{width:{get:function(){return u},set:function(j){u=j}},height:{get:function(){return C},set:function(j){C=j}},key:{get:function(){return m},set:function(j){m=j}},keyFormatter:{get:function(){return x},set:function(j){x=j}},align:{get:function(){return A},set:function(j){A=j}},rightAlign:{get:function(){return tt},set:function(j){tt=j}},maxKeyLength:{get:function(){return v},set:function(j){v=j}},padding:{get:function(){return W},set:function(j){W=j}},updateState:{get:function(){return et},set:function(j){et=j}},radioButtonMode:{get:function(){return q},set:function(j){q=j}},expanded:{get:function(){return rt},set:function(j){rt=j}},vers:{get:function(){return Z},set:function(j){Z=j}},margin:{get:function(){return a},set:function(j){a.top=void 0!==j.top?j.top:a.top,a.right=void 0!==j.right?j.right:a.right,a.bottom=void 0!==j.bottom?j.bottom:a.bottom,a.left=void 0!==j.left?j.left:a.left}},color:{get:function(){return O},set:function(j){O=f.utils.getColor(j)}}}),f.utils.initOptions(lt),lt},f.models.historicalBar=function(){"use strict";var Z,lt,j,F,a={top:0,right:0,bottom:0,left:0},u=null,C=null,m=Math.floor(1e4*Math.random()),x=null,O=d3.scale.linear(),v=d3.scale.linear(),A=function(P){return P.x},W=function(P){return P.y},tt=[],et=[0],q=!1,rt=!0,U=f.utils.defaultColor(),R=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),B=!0,w=f.utils.renderWatch(R,0);function L(P){return P.each(function(T){w.reset(),x=d3.select(this);var M=f.utils.availableWidth(u,x,a),b=f.utils.availableHeight(C,x,a);f.utils.initSVG(x),O.domain(Z||d3.extent(T[0].values.map(A).concat(tt))),O.range(q?j||[.5*M/T[0].values.length,M*(T[0].values.length-.5)/T[0].values.length]:j||[0,M]),v.domain(lt||d3.extent(T[0].values.map(W).concat(et))).range(F||[b,0]),O.domain()[0]===O.domain()[1]&&(O.domain()[0]?O.domain([O.domain()[0]-.01*O.domain()[0],O.domain()[1]+.01*O.domain()[1]]):O.domain([-1,1])),v.domain()[0]===v.domain()[1]&&(v.domain()[0]?v.domain([v.domain()[0]+.01*v.domain()[0],v.domain()[1]-.01*v.domain()[1]]):v.domain([-1,1]));var I=x.selectAll("g.nv-wrap.nv-historicalBar-"+m).data([T[0].values]),ot=I.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+m),ht=ot.append("defs"),G=ot.append("g"),p=I.select("g");G.append("g").attr("class","nv-bars"),I.attr("transform","translate("+a.left+","+a.top+")"),x.on("click",function(D,K){R.chartClick({data:D,index:K,pos:d3.event,id:m})}),ht.append("clipPath").attr("id","nv-chart-clip-path-"+m).append("rect"),I.select("#nv-chart-clip-path-"+m+" rect").attr("width",M).attr("height",b),p.attr("clip-path",rt?"url(#nv-chart-clip-path-"+m+")":"");var _=I.select(".nv-bars").selectAll(".nv-bar").data(function(D){return D},function(D,K){return A(D,K)});_.exit().remove(),_.enter().append("rect").attr("x",0).attr("y",function(D,K){return f.utils.NaNtoZero(v(Math.max(0,W(D,K))))}).attr("height",function(D,K){return f.utils.NaNtoZero(Math.abs(v(W(D,K))-v(0)))}).attr("transform",function(D,K){return"translate("+(O(A(D,K))-M/T[0].values.length*.45)+",0)"}).on("mouseover",function(D,K){!B||(d3.select(this).classed("hover",!0),R.elementMouseover({data:D,index:K,color:d3.select(this).style("fill")}))}).on("mouseout",function(D,K){!B||(d3.select(this).classed("hover",!1),R.elementMouseout({data:D,index:K,color:d3.select(this).style("fill")}))}).on("mousemove",function(D,K){!B||R.elementMousemove({data:D,index:K,color:d3.select(this).style("fill")})}).on("click",function(D,K){B&&(R.elementClick({data:D,index:K,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation())}).on("dblclick",function(D,K){!B||(R.elementDblClick({data:D,index:K,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),_.attr("fill",function(D,K){return U(D,K)}).attr("class",function(D,K,dt){return(W(D,K)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+dt+"-"+K}).watchTransition(w,"bars").attr("transform",function(D,K){return"translate("+(O(A(D,K))-M/T[0].values.length*.45)+",0)"}).attr("width",M/T[0].values.length*.9),_.watchTransition(w,"bars").attr("y",function(D,K){var dt=W(D,K)<0?v(0):v(0)-v(W(D,K))<1?v(0)-1:v(W(D,K));return f.utils.NaNtoZero(dt)}).attr("height",function(D,K){return f.utils.NaNtoZero(Math.max(Math.abs(v(W(D,K))-v(0)),1))})}),w.renderEnd("historicalBar immediate"),L}return L.highlightPoint=function(P,T){x.select(".nv-bars .nv-bar-0-"+P).classed("hover",T)},L.clearHighlights=function(){x.select(".nv-bars .nv-bar.hover").classed("hover",!1)},L.dispatch=R,L.options=f.utils.optionsFunc.bind(L),L._options=Object.create({},{width:{get:function(){return u},set:function(P){u=P}},height:{get:function(){return C},set:function(P){C=P}},forceX:{get:function(){return tt},set:function(P){tt=P}},forceY:{get:function(){return et},set:function(P){et=P}},padData:{get:function(){return q},set:function(P){q=P}},x:{get:function(){return A},set:function(P){A=P}},y:{get:function(){return W},set:function(P){W=P}},xScale:{get:function(){return O},set:function(P){O=P}},yScale:{get:function(){return v},set:function(P){v=P}},xDomain:{get:function(){return Z},set:function(P){Z=P}},yDomain:{get:function(){return lt},set:function(P){lt=P}},xRange:{get:function(){return j},set:function(P){j=P}},yRange:{get:function(){return F},set:function(P){F=P}},clipEdge:{get:function(){return rt},set:function(P){rt=P}},id:{get:function(){return m},set:function(P){m=P}},interactive:{get:function(){return B},set:function(P){B=P}},margin:{get:function(){return a},set:function(P){a.top=void 0!==P.top?P.top:a.top,a.right=void 0!==P.right?P.right:a.right,a.bottom=void 0!==P.bottom?P.bottom:a.bottom,a.left=void 0!==P.left?P.left:a.left}},color:{get:function(){return U},set:function(P){U=f.utils.getColor(P)}}}),f.utils.initOptions(L),L},f.models.historicalBarChart=function(a){"use strict";var F,R,u=a||f.models.historicalBar(),C=f.models.axis(),m=f.models.axis(),x=f.models.legend(),O=f.interactiveGuideline(),v=f.models.tooltip(),A={top:30,right:90,bottom:50,left:90},W=null,tt=f.utils.defaultColor(),et=null,q=null,rt=!1,U=!0,Z=!0,lt=!1,j=!1,B={},w=null,L=null,P=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),T=250;C.orient("bottom").tickPadding(7),m.orient(lt?"right":"left"),v.duration(0).headerEnabled(!1).valueFormatter(function(I,ot){return m.tickFormat()(I,ot)}).headerFormatter(function(I,ot){return C.tickFormat()(I,ot)});var M=f.utils.renderWatch(P,0);function b(I){return I.each(function(ot){M.reset(),M.models(u),U&&M.models(C),Z&&M.models(m);var ht=d3.select(this);f.utils.initSVG(ht);var D,p=f.utils.availableWidth(et,ht,A),_=f.utils.availableHeight(q,ht,A);if(b.update=function(){ht.transition().duration(T).call(b)},b.container=this,B.disabled=ot.map(function(S){return!!S.disabled}),!w)for(D in w={},B)w[D]=B[D]instanceof Array?B[D].slice(0):B[D];if(!ot||!ot.length||!ot.filter(function(S){return S.values.length}).length)return f.utils.noData(b,ht),b;ht.selectAll(".nv-noData").remove(),F=u.xScale(),R=u.yScale();var K=ht.selectAll("g.nv-wrap.nv-historicalBarChart").data([ot]),dt=K.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),ct=K.select("g");dt.append("g").attr("class","nv-x nv-axis"),dt.append("g").attr("class","nv-y nv-axis"),dt.append("g").attr("class","nv-barsWrap"),dt.append("g").attr("class","nv-legendWrap"),dt.append("g").attr("class","nv-interactive"),rt?(x.width(p),ct.select(".nv-legendWrap").datum(ot).call(x),!W&&x.height()!==A.top&&(A.top=x.height(),_=f.utils.availableHeight(q,ht,A)),K.select(".nv-legendWrap").attr("transform","translate(0,"+-A.top+")")):ct.select(".nv-legendWrap").selectAll("*").remove(),K.attr("transform","translate("+A.left+","+A.top+")"),lt&&ct.select(".nv-y.nv-axis").attr("transform","translate("+p+",0)"),j&&(O.width(p).height(_).margin({left:A.left,top:A.top}).svgContainer(ht).xScale(F),K.select(".nv-interactive").call(O)),u.width(p).height(_).color(ot.map(function(S,at){return S.color||tt(S,at)}).filter(function(S,at){return!ot[at].disabled})),ct.select(".nv-barsWrap").datum(ot.filter(function(S){return!S.disabled})).transition().call(u),U&&(C.scale(F)._ticks(f.utils.calcTicksX(p/100,ot)).tickSize(-_,0),ct.select(".nv-x.nv-axis").attr("transform","translate(0,"+R.range()[0]+")"),ct.select(".nv-x.nv-axis").transition().call(C)),Z&&(m.scale(R)._ticks(f.utils.calcTicksY(_/36,ot)).tickSize(-p,0),ct.select(".nv-y.nv-axis").transition().call(m)),O.dispatch.on("elementMousemove",function(S){u.clearHighlights();var at,st,Q,J=[];ot.filter(function(Ct,St){return Ct.seriesIndex=St,!Ct.disabled}).forEach(function(Ct,St){st=f.interactiveBisect(Ct.values,S.pointXValue,b.x()),u.highlightPoint(st,!0);var gt=Ct.values[st];void 0!==gt&&(void 0===at&&(at=gt),void 0===Q&&(Q=b.xScale()(b.x()(gt,st))),J.push({key:Ct.key,value:b.y()(gt,st),color:tt(Ct,Ct.seriesIndex),data:Ct.values[st]}))});var yt=C.tickFormat()(b.x()(at,st));O.tooltip.valueFormatter(function(Ct,St){return m.tickFormat()(Ct)}).data({value:yt,index:st,series:J})(),O.renderGuideLine(Q)}),O.dispatch.on("elementMouseout",function(S){P.tooltipHide(),u.clearHighlights()}),x.dispatch.on("legendClick",function(S,at){S.disabled=!S.disabled,ot.filter(function(st){return!st.disabled}).length||ot.map(function(st){return st.disabled=!1,K.selectAll(".nv-series").classed("disabled",!1),st}),B.disabled=ot.map(function(st){return!!st.disabled}),P.stateChange(B),I.transition().call(b)}),x.dispatch.on("legendDblclick",function(S){ot.forEach(function(at){at.disabled=!0}),S.disabled=!1,B.disabled=ot.map(function(at){return!!at.disabled}),P.stateChange(B),b.update()}),P.on("changeState",function(S){void 0!==S.disabled&&(ot.forEach(function(at,st){at.disabled=S.disabled[st]}),B.disabled=S.disabled),b.update()})}),M.renderEnd("historicalBarChart immediate"),b}return u.dispatch.on("elementMouseover.tooltip",function(I){I.series={key:b.x()(I.data),value:b.y()(I.data),color:I.color},v.data(I).hidden(!1)}),u.dispatch.on("elementMouseout.tooltip",function(I){v.hidden(!0)}),u.dispatch.on("elementMousemove.tooltip",function(I){v()}),b.dispatch=P,b.bars=u,b.legend=x,b.xAxis=C,b.yAxis=m,b.interactiveLayer=O,b.tooltip=v,b.options=f.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return et},set:function(I){et=I}},height:{get:function(){return q},set:function(I){q=I}},showLegend:{get:function(){return rt},set:function(I){rt=I}},showXAxis:{get:function(){return U},set:function(I){U=I}},showYAxis:{get:function(){return Z},set:function(I){Z=I}},defaultState:{get:function(){return w},set:function(I){w=I}},noData:{get:function(){return L},set:function(I){L=I}},margin:{get:function(){return A},set:function(I){void 0!==I.top&&(A.top=I.top,W=I.top),A.right=void 0!==I.right?I.right:A.right,A.bottom=void 0!==I.bottom?I.bottom:A.bottom,A.left=void 0!==I.left?I.left:A.left}},color:{get:function(){return tt},set:function(I){tt=f.utils.getColor(I),x.color(tt),u.color(tt)}},duration:{get:function(){return T},set:function(I){M.reset(T=I),m.duration(T),C.duration(T)}},rightAlignYAxis:{get:function(){return lt},set:function(I){lt=I,m.orient(I?"right":"left")}},useInteractiveGuideline:{get:function(){return j},set:function(I){j=I,!0===I&&b.interactive(!1)}}}),f.utils.inheritOptions(b,u),f.utils.initOptions(b),b},f.models.ohlcBarChart=function(){var a=f.models.historicalBarChart(f.models.ohlcBar());return a.useInteractiveGuideline(!0),a.interactiveLayer.tooltip.contentGenerator(function(u){var C=u.series[0].data;return'<h3 style="color: #'+(C.open<C.close?"2ca02c":"d62728")+'">'+u.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(C.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(C.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(C.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(C.low)+"</td></tr></table>"}),a},f.models.candlestickBarChart=function(){var a=f.models.historicalBarChart(f.models.candlestickBar());return a.useInteractiveGuideline(!0),a.interactiveLayer.tooltip.contentGenerator(function(u){var C=u.series[0].data;return'<h3 style="color: #'+(C.open<C.close?"2ca02c":"d62728")+'">'+u.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(C.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(C.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(C.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(C.low)+"</td></tr></table>"}),a},f.models.legend=function(){"use strict";var a={top:5,right:0,bottom:5,left:0},u=400,C=20,m=function(F){return F.key},x=function(F){return F},O=f.utils.getColor(),v=20,A=!0,W=32,tt=!0,et=!0,q=!0,rt=!1,U=!1,Z=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),lt="classic";function j(F){function R(L,P){return"furious"!=lt?"#000":U?L.disengaged?"#000":"#fff":U?void 0:(L.color||(L.color=O(L,P)),L.disabled?L.color:"#fff")}function B(L,P){return U&&"furious"==lt&&L.disengaged?"#eee":L.color||O(L,P)}function w(L,P){return U&&"furious"==lt?1:L.disabled?0:1}return F.each(function(L){var P=u-a.left-a.right,T=d3.select(this);f.utils.initSVG(T);var M=T.selectAll("g.nv-legend").data([L]),b=M.enter().append("g").attr("class","nvd3 nv-legend").append("g"),I=M.select("g");M.attr("transform",tt?"translate("+-a.right+","+a.top+")":"translate("+a.left+","+a.top+")");var G,p,ot=I.selectAll(".nv-series").data(function(E){return"furious"!=lt?E:E.filter(function(ut){return!!U||!ut.disengaged})}),ht=ot.enter().append("g").attr("class","nv-series");switch(lt){case"furious":p=23;break;case"classic":p=20}"classic"==lt?(ht.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),G=ot.select(".nv-legend-symbol")):"furious"==lt&&(ht.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),G=ot.select(".nv-legend-symbol"),ht.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),ot.select(".nv-check-box").each(function(E,ut){d3.select(this).selectAll("path").attr("stroke",R(E,ut))})),ht.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var D=ot.select("text.nv-legend-text");ot.on("mouseover",function(E,ut){Z.legendMouseover(E,ut)}).on("mouseout",function(E,ut){Z.legendMouseout(E,ut)}).on("click",function(E,ut){Z.legendClick(E,ut);var z=ot.data();et&&("classic"==lt?rt?(z.forEach(function(xt){xt.disabled=!0}),E.disabled=!1):(E.disabled=!E.disabled,z.every(function(xt){return xt.disabled})&&z.forEach(function(xt){xt.disabled=!1})):"furious"==lt&&(U?(E.disengaged=!E.disengaged,E.userDisabled=null==E.userDisabled?!!E.disabled:E.userDisabled,E.disabled=E.disengaged||E.userDisabled):U||(E.disabled=!E.disabled,E.userDisabled=E.disabled,z.filter(function(xt){return!xt.disengaged}).every(function(xt){return xt.userDisabled})&&z.forEach(function(xt){xt.disabled=xt.userDisabled=!1}))),Z.stateChange({disabled:z.map(function(xt){return!!xt.disabled}),disengaged:z.map(function(xt){return!!xt.disengaged})}))}).on("dblclick",function(E,ut){if(q){if("furious"==lt&&U)return;if(Z.legendDblclick(E,ut),et){var z=ot.data();z.forEach(function(ft){ft.disabled=!0,"furious"==lt&&(ft.userDisabled=ft.disabled)}),E.disabled=!1,"furious"==lt&&(E.userDisabled=E.disabled),Z.stateChange({disabled:z.map(function(ft){return!!ft.disabled})})}}}),ot.classed("nv-disabled",function(E){return E.userDisabled}),ot.exit().remove(),D.attr("fill",R).text(function(E){return x(m(E))});var K=0;if(A){var dt=[];ot.each(function(E,ut){var z,xt;if(x(m(E))&&x(m(E)).length>v){var ft=x(m(E)).substring(0,v);z=d3.select(this).select("text").text(ft+"..."),d3.select(this).append("svg:title").text(x(m(E)))}else z=d3.select(this).select("text");try{if((xt=z.node().getComputedTextLength())<=0)throw Error()}catch(jt){xt=f.utils.calcApproxTextWidth(z)}dt.push(xt+W)});var ct=0,h=[];for(K=0;K<P&&ct<dt.length;)h[ct]=dt[ct],K+=dt[ct++];for(0===ct&&(ct=1);K>P&&ct>1;){h=[],ct--;for(var S=0;S<dt.length;S++)dt[S]>(h[S%ct]||0)&&(h[S%ct]=dt[S]);K=h.reduce(function(E,ut,z,ft){return E+ut})}for(var at=[],st=0,Q=0;st<ct;st++)at[st]=Q,Q+=h[st];ot.attr("transform",function(E,ut){return"translate("+at[ut%ct]+","+(5+Math.floor(ut/ct)*p)+")"}),I.attr("transform",tt?"translate("+(u-a.right-K)+","+a.top+")":"translate(0,"+a.top+")"),C=a.top+a.bottom+Math.ceil(dt.length/ct)*p}else{var St,J=5,yt=5,Ct=0;ot.attr("transform",function(E,ut){var z=d3.select(this).select("text").node().getComputedTextLength()+W;return u<a.left+a.right+(St=yt)+z&&(yt=St=5,J+=p),(yt+=z)>Ct&&(Ct=yt),K<St+Ct&&(K=St+Ct),"translate("+St+","+J+")"}),I.attr("transform","translate("+(u-a.right-Ct)+","+a.top+")"),C=a.top+a.bottom+J+15}"furious"==lt&&(G.attr("width",function(E,ut){return D[0][ut].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),b.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),I.select(".nv-legend-bg").transition().duration(300).attr("x",-p).attr("width",K+p-12).attr("height",C+10).attr("y",-a.top-10).attr("opacity",U?1:0)),G.style("fill",B).style("fill-opacity",w).style("stroke",B)}),j}return j.dispatch=Z,j.options=f.utils.optionsFunc.bind(j),j._options=Object.create({},{width:{get:function(){return u},set:function(F){u=F}},height:{get:function(){return C},set:function(F){C=F}},key:{get:function(){return m},set:function(F){m=F}},keyFormatter:{get:function(){return x},set:function(F){x=F}},align:{get:function(){return A},set:function(F){A=F}},maxKeyLength:{get:function(){return v},set:function(F){v=F}},rightAlign:{get:function(){return tt},set:function(F){tt=F}},padding:{get:function(){return W},set:function(F){W=F}},updateState:{get:function(){return et},set:function(F){et=F}},enableDoubleClick:{get:function(){return q},set:function(F){q=F}},radioButtonMode:{get:function(){return rt},set:function(F){rt=F}},expanded:{get:function(){return U},set:function(F){U=F}},vers:{get:function(){return lt},set:function(F){lt=F}},margin:{get:function(){return a},set:function(F){a.top=void 0!==F.top?F.top:a.top,a.right=void 0!==F.right?F.right:a.right,a.bottom=void 0!==F.bottom?F.bottom:a.bottom,a.left=void 0!==F.left?F.left:a.left}},color:{get:function(){return O},set:function(F){O=f.utils.getColor(F)}}}),f.utils.initOptions(j),j},f.models.line=function(){"use strict";var rt,U,a=f.models.scatter(),u={top:0,right:0,bottom:0,left:0},C=960,m=500,x=null,v=f.utils.defaultColor(),A=function(L){return L.x},W=function(L){return L.y},tt=function(L,P){return!isNaN(W(L,P))&&null!==W(L,P)},et=function(L){return L.area},q=!1,Z="linear",lt=250,j=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");a.pointSize(16).pointDomain([16,256]);var F,R,B=f.utils.renderWatch(j,lt);function w(L){return B.reset(),B.models(a),L.each(function(P){x=d3.select(this);var T=f.utils.availableWidth(C,x,u),M=f.utils.availableHeight(m,x,u);f.utils.initSVG(x),rt=a.xScale(),U=a.yScale(),F=F||rt,R=R||U;var b=x.selectAll("g.nv-wrap.nv-line").data([P]),I=b.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),ot=I.append("defs"),ht=I.append("g"),G=b.select("g");ht.append("g").attr("class","nv-groups"),ht.append("g").attr("class","nv-scatterWrap"),b.attr("transform","translate("+u.left+","+u.top+")"),a.width(T).height(M);var p=b.select(".nv-scatterWrap");p.call(a),ot.append("clipPath").attr("id","nv-edge-clip-"+a.id()).append("rect"),b.select("#nv-edge-clip-"+a.id()+" rect").attr("width",T).attr("height",M>0?M:0),G.attr("clip-path",q?"url(#nv-edge-clip-"+a.id()+")":""),p.attr("clip-path",q?"url(#nv-edge-clip-"+a.id()+")":"");var _=b.select(".nv-groups").selectAll(".nv-group").data(function(dt){return dt},function(dt){return dt.key});_.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(dt){return dt.strokeWidth||1.5}).style("fill-opacity",1e-6),_.exit().remove(),_.attr("class",function(dt,ct){return(dt.classed||"")+" nv-group nv-series-"+ct}).classed("hover",function(dt){return dt.hover}).style("fill",function(dt,ct){return v(dt,ct)}).style("stroke",function(dt,ct){return v(dt,ct)}),_.watchTransition(B,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(dt){return dt.fillOpacity||.5});var D=_.selectAll("path.nv-area").data(function(dt){return et(dt)?[dt]:[]});D.enter().append("path").attr("class","nv-area").attr("d",function(dt){return d3.svg.area().interpolate(Z).defined(tt).x(function(ct,h){return f.utils.NaNtoZero(F(A(ct,h)))}).y0(function(ct,h){return f.utils.NaNtoZero(R(W(ct,h)))}).y1(function(ct,h){return R(U.domain()[0]<=0?U.domain()[1]>=0?0:U.domain()[1]:U.domain()[0])}).apply(this,[dt.values])}),_.exit().selectAll("path.nv-area").remove(),D.watchTransition(B,"line: areaPaths").attr("d",function(dt){return d3.svg.area().interpolate(Z).defined(tt).x(function(ct,h){return f.utils.NaNtoZero(rt(A(ct,h)))}).y0(function(ct,h){return f.utils.NaNtoZero(U(W(ct,h)))}).y1(function(ct,h){return U(U.domain()[0]<=0?U.domain()[1]>=0?0:U.domain()[1]:U.domain()[0])}).apply(this,[dt.values])});var K=_.selectAll("path.nv-line").data(function(dt){return[dt.values]});K.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(Z).defined(tt).x(function(dt,ct){return f.utils.NaNtoZero(F(A(dt,ct)))}).y(function(dt,ct){return f.utils.NaNtoZero(R(W(dt,ct)))})),K.watchTransition(B,"line: linePaths").attr("d",d3.svg.line().interpolate(Z).defined(tt).x(function(dt,ct){return f.utils.NaNtoZero(rt(A(dt,ct)))}).y(function(dt,ct){return f.utils.NaNtoZero(U(W(dt,ct)))})),F=rt.copy(),R=U.copy()}),B.renderEnd("line immediate"),w}return w.dispatch=j,w.scatter=a,a.dispatch.on("elementClick",function(){j.elementClick.apply(this,arguments)}),a.dispatch.on("elementMouseover",function(){j.elementMouseover.apply(this,arguments)}),a.dispatch.on("elementMouseout",function(){j.elementMouseout.apply(this,arguments)}),w.options=f.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return C},set:function(L){C=L}},height:{get:function(){return m},set:function(L){m=L}},defined:{get:function(){return tt},set:function(L){tt=L}},interpolate:{get:function(){return Z},set:function(L){Z=L}},clipEdge:{get:function(){return q},set:function(L){q=L}},margin:{get:function(){return u},set:function(L){u.top=void 0!==L.top?L.top:u.top,u.right=void 0!==L.right?L.right:u.right,u.bottom=void 0!==L.bottom?L.bottom:u.bottom,u.left=void 0!==L.left?L.left:u.left}},duration:{get:function(){return lt},set:function(L){B.reset(lt=L),a.duration(lt)}},isArea:{get:function(){return et},set:function(L){et=d3.functor(L)}},x:{get:function(){return A},set:function(L){A=L,a.x(L)}},y:{get:function(){return W},set:function(L){W=L,a.y(L)}},color:{get:function(){return v},set:function(L){v=f.utils.getColor(L),a.color(v)}}}),f.utils.inheritOptions(w,a),f.utils.initOptions(w),w},f.models.lineChart=function(){"use strict";var R,B,a=f.models.line(),u=f.models.axis(),C=f.models.axis(),m=f.models.legend(),x=f.interactiveGuideline(),O=f.models.tooltip(),v=f.models.focus(f.models.line()),A={top:30,right:20,bottom:50,left:60},W=null,tt=f.utils.defaultColor(),et=null,q=null,rt=!0,U="top",Z=!0,lt=!0,j=!1,F=!1,w=!1,L=f.utils.state(),P=null,T=null,M=d3.dispatch("stateChange","changeState","renderEnd"),b=250;u.orient("bottom").tickPadding(7),C.orient(j?"right":"left"),a.clipEdge(!0).duration(0),O.valueFormatter(function(p,_){return C.tickFormat()(p,_)}).headerFormatter(function(p,_){return u.tickFormat()(p,_)}),x.tooltip.valueFormatter(function(p,_){return C.tickFormat()(p,_)}).headerFormatter(function(p,_){return u.tickFormat()(p,_)});var I=f.utils.renderWatch(M,b);function G(p){return I.reset(),I.models(a),Z&&I.models(u),lt&&I.models(C),p.each(function(_){var D=d3.select(this);f.utils.initSVG(D);var ct,K=f.utils.availableWidth(et,D,A),dt=f.utils.availableHeight(q,D,A)-(w?v.height():0);if(G.update=function(){0===b?D.call(G):D.transition().duration(b).call(G)},G.container=this,L.setter(function(p){return function(_){void 0!==_.active&&p.forEach(function(D,K){D.disabled=!_.active[K]})}}(_),G.update).getter(function(p){return function(){return{active:p.map(function(_){return!_.disabled})}}}(_)).update(),L.disabled=_.map(function(ut){return!!ut.disabled}),!P)for(ct in P={},L)P[ct]=L[ct]instanceof Array?L[ct].slice(0):L[ct];if(!_||!_.length||!_.filter(function(ut){return ut.values.length}).length)return f.utils.noData(G,D),G;D.selectAll(".nv-noData").remove(),v.dispatch.on("onBrush",function(ut){E(ut)}),R=a.xScale(),B=a.yScale();var h=D.selectAll("g.nv-wrap.nv-lineChart").data([_]),S=h.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),at=h.select("g");S.append("g").attr("class","nv-legendWrap");var st=S.append("g").attr("class","nv-focus");st.append("g").attr("class","nv-background").append("rect"),st.append("g").attr("class","nv-x nv-axis"),st.append("g").attr("class","nv-y nv-axis"),st.append("g").attr("class","nv-linesWrap"),st.append("g").attr("class","nv-interactive"),S.append("g").attr("class","nv-focusWrap"),rt?(m.width(K),at.select(".nv-legendWrap").datum(_).call(m),"bottom"===U?(A.bottom=u.height()+m.height(),dt=f.utils.availableHeight(q,D,A),at.select(".nv-legendWrap").attr("transform","translate(0,"+(dt+u.height())+")")):"top"===U&&(!W&&m.height()!==A.top&&(A.top=m.height(),dt=f.utils.availableHeight(q,D,A)-(w?v.height():0)),h.select(".nv-legendWrap").attr("transform","translate(0,"+-A.top+")"))):at.select(".nv-legendWrap").selectAll("*").remove(),h.attr("transform","translate("+A.left+","+A.top+")"),j&&at.select(".nv-y.nv-axis").attr("transform","translate("+K+",0)"),F&&(x.width(K).height(dt).margin({left:A.left,top:A.top}).svgContainer(D).xScale(R),h.select(".nv-interactive").call(x)),at.select(".nv-focus .nv-background rect").attr("width",K).attr("height",dt),a.width(K).height(dt).color(_.map(function(ut,z){return ut.color||tt(ut,z)}).filter(function(ut,z){return!_[z].disabled}));var J=at.select(".nv-linesWrap").datum(_.filter(function(ut){return!ut.disabled}));function yt(){Z&&at.select(".nv-focus .nv-x.nv-axis").transition().duration(b).call(u)}function Ct(){lt&&at.select(".nv-focus .nv-y.nv-axis").transition().duration(b).call(C)}if(Z&&u.scale(R)._ticks(f.utils.calcTicksX(K/100,_)).tickSize(-dt,0),lt&&C.scale(B)._ticks(f.utils.calcTicksY(dt/36,_)).tickSize(-K,0),at.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+dt+")"),w||null!==v.brush.extent()){v.width(K),at.select(".nv-focusWrap").style("display",w?"initial":"none").attr("transform","translate(0,"+(dt+A.bottom+v.margin().top)+")").call(v);var St=v.brush.empty()?v.xDomain():v.brush.extent();null!==St&&E(St)}else J.call(a),yt(),Ct();function E(ut){at.select(".nv-focus .nv-linesWrap").datum(_.filter(function(ft){return!ft.disabled}).map(function(ft,xt){return{key:ft.key,area:ft.area,classed:ft.classed,values:ft.values.filter(function(jt,Ut){return a.x()(jt,Ut)>=ut[0]&&a.x()(jt,Ut)<=ut[1]}),disableTooltip:ft.disableTooltip}})).transition().duration(b).call(a),yt(),Ct()}m.dispatch.on("stateChange",function(ut){for(var z in ut)L[z]=ut[z];M.stateChange(L),G.update()}),x.dispatch.on("elementMousemove",function(ut){a.clearHighlights();var z,ft,xt,jt=[];if(_.filter(function(Mt,Ht){return Mt.seriesIndex=Ht,!Mt.disabled&&!Mt.disableTooltip}).forEach(function(Mt,Ht){var Qt=null!==v.brush.extent()?v.brush.empty()?v.xScale().domain():v.brush.extent():R.domain(),re=Mt.values.filter(function(zt,Ft){return Qt[0]<=Qt[1]?a.x()(zt,Ft)>=Qt[0]&&a.x()(zt,Ft)<=Qt[1]:a.x()(zt,Ft)>=Qt[1]&&a.x()(zt,Ft)<=Qt[0]}),Lt=re[ft=f.interactiveBisect(re,ut.pointXValue,a.x())],Xt=G.y()(Lt,ft);null!==Xt&&a.highlightPoint(Ht,ft,!0),void 0!==Lt&&(void 0===z&&(z=Lt),void 0===xt&&(xt=G.xScale()(G.x()(Lt,ft))),jt.push({key:Mt.key,value:Xt,color:tt(Mt,Mt.seriesIndex),data:Lt}))}),jt.length>2){var Ut=G.yScale().invert(ut.mouseY),Pt=.03*Math.abs(G.yScale().domain()[0]-G.yScale().domain()[1]),Bt=f.nearestValueIndex(jt.map(function(Mt){return Mt.value}),Ut,Pt);null!==Bt&&(jt[Bt].highlight=!0)}x.tooltip.valueFormatter(x.tooltip.valueFormatter()||function(Mt,Ht){return null==Mt?"N/A":C.tickFormat()(Mt)}).data({value:G.x()(z,ft),index:ft,series:jt})(),x.renderGuideLine(xt)}),x.dispatch.on("elementClick",function(ut){var z,ft=[];_.filter(function(xt,jt){return xt.seriesIndex=jt,!xt.disabled}).forEach(function(xt){var jt=f.interactiveBisect(xt.values,ut.pointXValue,G.x()),Ut=xt.values[jt];if(void 0!==Ut){void 0===z&&(z=G.xScale()(G.x()(Ut,jt)));var _t=G.yScale()(G.y()(Ut,jt));ft.push({point:Ut,pointIndex:jt,pos:[z,_t],seriesIndex:xt.seriesIndex,series:xt})}}),a.dispatch.elementClick(ft)}),x.dispatch.on("elementMouseout",function(ut){a.clearHighlights()}),M.on("changeState",function(ut){void 0!==ut.disabled&&_.length===ut.disabled.length&&(_.forEach(function(z,ft){z.disabled=ut.disabled[ft]}),L.disabled=ut.disabled),G.update()})}),I.renderEnd("lineChart immediate"),G}return a.dispatch.on("elementMouseover.tooltip",function(p){p.series.disableTooltip||O.data(p).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(p){O.hidden(!0)}),G.dispatch=M,G.lines=a,G.legend=m,G.focus=v,G.xAxis=u,G.x2Axis=v.xAxis,G.yAxis=C,G.y2Axis=v.yAxis,G.interactiveLayer=x,G.tooltip=O,G.state=L,G.dispatch=M,G.options=f.utils.optionsFunc.bind(G),G._options=Object.create({},{width:{get:function(){return et},set:function(p){et=p}},height:{get:function(){return q},set:function(p){q=p}},showLegend:{get:function(){return rt},set:function(p){rt=p}},legendPosition:{get:function(){return U},set:function(p){U=p}},showXAxis:{get:function(){return Z},set:function(p){Z=p}},showYAxis:{get:function(){return lt},set:function(p){lt=p}},defaultState:{get:function(){return P},set:function(p){P=p}},noData:{get:function(){return T},set:function(p){T=p}},focusEnable:{get:function(){return w},set:function(p){w=p}},focusHeight:{get:function(){return v.height()},set:function(p){v.height(p)}},focusShowAxisX:{get:function(){return v.showXAxis()},set:function(p){v.showXAxis(p)}},focusShowAxisY:{get:function(){return v.showYAxis()},set:function(p){v.showYAxis(p)}},brushExtent:{get:function(){return v.brushExtent()},set:function(p){v.brushExtent(p)}},focusMargin:{get:function(){return v.margin},set:function(p){void 0!==p.top&&(A.top=p.top,W=p.top),v.margin.right=void 0!==p.right?p.right:v.margin.right,v.margin.bottom=void 0!==p.bottom?p.bottom:v.margin.bottom,v.margin.left=void 0!==p.left?p.left:v.margin.left}},margin:{get:function(){return A},set:function(p){A.top=void 0!==p.top?p.top:A.top,A.right=void 0!==p.right?p.right:A.right,A.bottom=void 0!==p.bottom?p.bottom:A.bottom,A.left=void 0!==p.left?p.left:A.left}},duration:{get:function(){return b},set:function(p){I.reset(b=p),a.duration(b),v.duration(b),u.duration(b),C.duration(b)}},color:{get:function(){return tt},set:function(p){tt=f.utils.getColor(p),m.color(tt),a.color(tt),v.color(tt)}},interpolate:{get:function(){return a.interpolate()},set:function(p){a.interpolate(p),v.interpolate(p)}},xTickFormat:{get:function(){return u.tickFormat()},set:function(p){u.tickFormat(p),v.xTickFormat(p)}},yTickFormat:{get:function(){return C.tickFormat()},set:function(p){C.tickFormat(p),v.yTickFormat(p)}},x:{get:function(){return a.x()},set:function(p){a.x(p),v.x(p)}},y:{get:function(){return a.y()},set:function(p){a.y(p),v.y(p)}},rightAlignYAxis:{get:function(){return j},set:function(p){C.orient((j=p)?"right":"left")}},useInteractiveGuideline:{get:function(){return F},set:function(p){(F=p)&&(a.interactive(!1),a.useVoronoi(!1))}}}),f.utils.inheritOptions(G,a),f.utils.initOptions(G),G},f.models.lineWithFocusChart=function(){return f.models.lineChart().margin({bottom:30}).focusEnable(!0)},f.models.linePlusBarChart=function(){"use strict";var I,ht,G,p,_,D,K,a=f.models.line(),u=f.models.line(),C=f.models.historicalBar(),m=f.models.historicalBar(),x=f.models.axis(),O=f.models.axis(),v=f.models.axis(),A=f.models.axis(),W=f.models.axis(),tt=f.models.axis(),et=f.models.legend(),q=d3.svg.brush(),rt=f.models.tooltip(),U={top:30,right:30,bottom:30,left:60},Z=null,lt={top:0,right:30,bottom:20,left:60},j=null,F=null,R=function(z){return z.x},B=function(z){return z.y},w=f.utils.defaultColor(),L=!0,P=!0,T=!1,M=!0,b=50,ot=null,dt=null,ct=d3.dispatch("brush","stateChange","changeState"),h=0,S=f.utils.state(),at=null,st=" (left axis)",Q=" (right axis)",J=!1;a.clipEdge(!0),u.interactive(!1),u.pointActive(function(z){return!1}),x.orient("bottom").tickPadding(5),v.orient("left"),A.orient("right"),O.orient("bottom").tickPadding(5),W.orient("left"),tt.orient("right"),rt.headerEnabled(!0).headerFormatter(function(z,ft){return x.tickFormat()(z,ft)});var E=function(z){return z.every(function(ft){return ft.disabled})};function ut(z){return z.each(function(ft){var xt=d3.select(this);f.utils.initSVG(xt);var Bt,Ut=f.utils.availableWidth(j,xt,U),_t=f.utils.availableHeight(F,xt,U)-(P?b:0),Pt=b-lt.top-lt.bottom;if(ut.update=function(){xt.transition().duration(h).call(ut)},ut.container=this,S.setter(function(z){return function(ft){void 0!==ft.active&&z.forEach(function(xt,jt){xt.disabled=!ft.active[jt]})}}(ft),ut.update).getter(function(z){return function(){return{active:z.map(function(ft){return!ft.disabled})}}}(ft)).update(),S.disabled=ft.map(function(Ot){return!!Ot.disabled}),!at)for(Bt in at={},S)at[Bt]=S[Bt]instanceof Array?S[Bt].slice(0):S[Bt];if(!ft||!ft.length||!ft.filter(function(Ot){return Ot.values.length}).length)return f.utils.noData(ut,xt),ut;xt.selectAll(".nv-noData").remove();var ne=ft.filter(function(Ot){return!Ot.disabled&&Ot.bar}),Mt=ft.filter(function(Ot){return!Ot.bar});ht=ne.length&&!J?C.xScale():a.xScale(),G=O.scale(),p=J?a.yScale():C.yScale(),_=J?C.yScale():a.yScale(),D=J?u.yScale():m.yScale(),K=J?m.yScale():u.yScale();var Ht=ft.filter(function(Ot){return!Ot.disabled&&(J?!Ot.bar:Ot.bar)}).map(function(Ot){return Ot.values.map(function(Jt,ee){return{x:R(Jt,ee),y:B(Jt,ee)}})}),Qt=ft.filter(function(Ot){return!Ot.disabled&&(J?Ot.bar:!Ot.bar)}).map(function(Ot){return Ot.values.map(function(Jt,ee){return{x:R(Jt,ee),y:B(Jt,ee)}})});ht.range([0,Ut]),G.domain(d3.extent(d3.merge(Ht.concat(Qt)),function(Ot){return Ot.x})).range([0,Ut]);var re=xt.selectAll("g.nv-wrap.nv-linePlusBar").data([ft]),Lt=re.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),Xt=re.select("g");Lt.append("g").attr("class","nv-legendWrap");var zt=Lt.append("g").attr("class","nv-focus");zt.append("g").attr("class","nv-x nv-axis"),zt.append("g").attr("class","nv-y1 nv-axis"),zt.append("g").attr("class","nv-y2 nv-axis"),zt.append("g").attr("class","nv-barsWrap"),zt.append("g").attr("class","nv-linesWrap");var Ft=Lt.append("g").attr("class","nv-context");if(Ft.append("g").attr("class","nv-x nv-axis"),Ft.append("g").attr("class","nv-y1 nv-axis"),Ft.append("g").attr("class","nv-y2 nv-axis"),Ft.append("g").attr("class","nv-barsWrap"),Ft.append("g").attr("class","nv-linesWrap"),Ft.append("g").attr("class","nv-brushBackground"),Ft.append("g").attr("class","nv-x nv-brush"),L){var ae=et.align()?Ut/2:Ut,ue=et.align()?ae:0;et.width(ae),Xt.select(".nv-legendWrap").datum(ft.map(function(Ot){return Ot.originalKey=void 0===Ot.originalKey?Ot.key:Ot.originalKey,Ot.key=J?Ot.originalKey+(Ot.bar?Q:st):Ot.originalKey+(Ot.bar?st:Q),Ot})).call(et),!Z&&et.height()!==U.top&&(U.top=et.height(),_t=f.utils.availableHeight(F,xt,U)-b),Xt.select(".nv-legendWrap").attr("transform","translate("+ue+","+-U.top+")")}else Xt.select(".nv-legendWrap").selectAll("*").remove();re.attr("transform","translate("+U.left+","+U.top+")"),Xt.select(".nv-context").style("display",P?"initial":"none"),m.width(Ut).height(Pt).color(ft.map(function(Ot,Jt){return Ot.color||w(Ot,Jt)}).filter(function(Ot,Jt){return!ft[Jt].disabled&&ft[Jt].bar})),u.width(Ut).height(Pt).color(ft.map(function(Ot,Jt){return Ot.color||w(Ot,Jt)}).filter(function(Ot,Jt){return!ft[Jt].disabled&&!ft[Jt].bar}));var xe=Xt.select(".nv-context .nv-barsWrap").datum(ne.length?ne:[{values:[]}]),ge=Xt.select(".nv-context .nv-linesWrap").datum(E(Mt)?[{values:[]}]:Mt.filter(function(Ot){return!Ot.disabled}));Xt.select(".nv-context").attr("transform","translate(0,"+(_t+U.bottom+lt.top)+")"),xe.transition().call(m),ge.transition().call(u),M&&(O._ticks(f.utils.calcTicksX(Ut/100,ft)).tickSize(-Pt,0),Xt.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")"),Xt.select(".nv-context .nv-x.nv-axis").transition().call(O)),T&&(W.scale(D)._ticks(Pt/36).tickSize(-Ut,0),tt.scale(K)._ticks(Pt/36).tickSize(ne.length?0:-Ut,0),Xt.select(".nv-context .nv-y3.nv-axis").style("opacity",ne.length?1:0).attr("transform","translate(0,"+G.range()[0]+")"),Xt.select(".nv-context .nv-y2.nv-axis").style("opacity",Mt.length?1:0).attr("transform","translate("+G.range()[1]+",0)"),Xt.select(".nv-context .nv-y1.nv-axis").transition().call(W),Xt.select(".nv-context .nv-y2.nv-axis").transition().call(tt)),q.x(G).on("brush",kt),ot&&q.extent(ot);var be=Xt.select(".nv-brushBackground").selectAll("g").data([ot||q.extent()]),Ce=be.enter().append("g");Ce.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",Pt),Ce.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",Pt);var ke=Xt.select(".nv-x.nv-brush").call(q);function kt(){ot=q.empty()?null:q.extent(),I=q.empty()?G.domain():q.extent(),ct.brush({extent:I,brush:q}),q.empty()||q.extent(ot),be.data([q.empty()?G.domain():ot]).each(function(Ot,Jt){var ee=G(Ot[0])-G.range()[0],fe=G.range()[1]-G(Ot[1]);d3.select(this).select(".left").attr("width",ee<0?0:ee),d3.select(this).select(".right").attr("x",G(Ot[1])).attr("width",fe<0?0:fe)}),C.width(Ut).height(_t).color(ft.map(function(ce,It){return ce.color||w(ce,It)}).filter(function(ce,It){return!ft[It].disabled&&ft[It].bar})),a.width(Ut).height(_t).color(ft.map(function(ce,It){return ce.color||w(ce,It)}).filter(function(ce,It){return!ft[It].disabled&&!ft[It].bar}));var Ot=Xt.select(".nv-focus .nv-barsWrap").datum(ne.length?ne.map(function(ce,It){return{key:ce.key,values:ce.values.filter(function(Kt,pe){return C.x()(Kt,pe)>=I[0]&&C.x()(Kt,pe)<=I[1]})}}):[{values:[]}]),Jt=Xt.select(".nv-focus .nv-linesWrap").datum(E(Mt)?[{values:[]}]:Mt.filter(function(ce){return!ce.disabled}).map(function(ce,It){return{area:ce.area,fillOpacity:ce.fillOpacity,strokeWidth:ce.strokeWidth,key:ce.key,values:ce.values.filter(function(Kt,pe){return a.x()(Kt,pe)>=I[0]&&a.x()(Kt,pe)<=I[1]})}}));ht=ne.length&&!J?C.xScale():a.xScale(),x.scale(ht)._ticks(f.utils.calcTicksX(Ut/100,ft)).tickSize(-_t,0),x.domain([Math.ceil(I[0]),Math.floor(I[1])]),Xt.select(".nv-x.nv-axis").transition().duration(h).call(x),Ot.transition().duration(h).call(C),Jt.transition().duration(h).call(a),Xt.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")"),v.scale(p)._ticks(f.utils.calcTicksY(_t/36,ft)).tickSize(-Ut,0),A.scale(_)._ticks(f.utils.calcTicksY(_t/36,ft)),A.tickSize(J?Mt.length?0:-Ut:ne.length?0:-Ut,0);var ee=ne.length?1:0,fe=Mt.length&&!E(Mt)?1:0,we=J?fe:ee,Yt=J?ee:fe;Xt.select(".nv-focus .nv-y1.nv-axis").style("opacity",we),Xt.select(".nv-focus .nv-y2.nv-axis").style("opacity",Yt).attr("transform","translate("+ht.range()[1]+",0)"),Xt.select(".nv-focus .nv-y1.nv-axis").transition().duration(h).call(v),Xt.select(".nv-focus .nv-y2.nv-axis").transition().duration(h).call(A)}ke.selectAll("rect").attr("height",Pt),ke.selectAll(".resize").append("path").attr("d",function(Ot){var Jt=+("e"==Ot),ee=Jt?1:-1,fe=Pt/3;return"M"+.5*ee+","+fe+"A6,6 0 0 "+Jt+" "+6.5*ee+","+(fe+6)+"V"+(2*fe-6)+"A6,6 0 0 "+Jt+" "+.5*ee+","+2*fe+"ZM"+2.5*ee+","+(fe+8)+"V"+(2*fe-8)+"M"+4.5*ee+","+(fe+8)+"V"+(2*fe-8)}),et.dispatch.on("stateChange",function(Ot){for(var Jt in Ot)S[Jt]=Ot[Jt];ct.stateChange(S),ut.update()}),ct.on("changeState",function(Ot){void 0!==Ot.disabled&&(ft.forEach(function(Jt,ee){Jt.disabled=Ot.disabled[ee]}),S.disabled=Ot.disabled),ut.update()}),kt()}),ut}return a.dispatch.on("elementMouseover.tooltip",function(z){rt.duration(100).valueFormatter(function(ft,xt){return(J?{main:v,focus:W}:{main:A,focus:tt}).main.tickFormat()(ft,xt)}).data(z).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(z){rt.hidden(!0)}),C.dispatch.on("elementMouseover.tooltip",function(z){z.value=ut.x()(z.data),z.series={value:ut.y()(z.data),color:z.color},rt.duration(0).valueFormatter(function(ft,xt){return(J?{main:A,focus:tt}:{main:v,focus:W}).main.tickFormat()(ft,xt)}).data(z).hidden(!1)}),C.dispatch.on("elementMouseout.tooltip",function(z){rt.hidden(!0)}),C.dispatch.on("elementMousemove.tooltip",function(z){rt()}),ut.dispatch=ct,ut.legend=et,ut.lines=a,ut.lines2=u,ut.bars=C,ut.bars2=m,ut.xAxis=x,ut.x2Axis=O,ut.y1Axis=v,ut.y2Axis=A,ut.y3Axis=W,ut.y4Axis=tt,ut.tooltip=rt,ut.options=f.utils.optionsFunc.bind(ut),ut._options=Object.create({},{width:{get:function(){return j},set:function(z){j=z}},height:{get:function(){return F},set:function(z){F=z}},showLegend:{get:function(){return L},set:function(z){L=z}},brushExtent:{get:function(){return ot},set:function(z){ot=z}},noData:{get:function(){return dt},set:function(z){dt=z}},focusEnable:{get:function(){return P},set:function(z){P=z}},focusHeight:{get:function(){return b},set:function(z){b=z}},focusShowAxisX:{get:function(){return M},set:function(z){M=z}},focusShowAxisY:{get:function(){return T},set:function(z){T=z}},legendLeftAxisHint:{get:function(){return st},set:function(z){st=z}},legendRightAxisHint:{get:function(){return Q},set:function(z){Q=z}},margin:{get:function(){return U},set:function(z){void 0!==z.top&&(U.top=z.top,Z=z.top),U.right=void 0!==z.right?z.right:U.right,U.bottom=void 0!==z.bottom?z.bottom:U.bottom,U.left=void 0!==z.left?z.left:U.left}},focusMargin:{get:function(){return lt},set:function(z){lt.top=void 0!==z.top?z.top:lt.top,lt.right=void 0!==z.right?z.right:lt.right,lt.bottom=void 0!==z.bottom?z.bottom:lt.bottom,lt.left=void 0!==z.left?z.left:lt.left}},duration:{get:function(){return h},set:function(z){h=z}},color:{get:function(){return w},set:function(z){w=f.utils.getColor(z),et.color(w)}},x:{get:function(){return R},set:function(z){R=z,a.x(z),u.x(z),C.x(z),m.x(z)}},y:{get:function(){return B},set:function(z){B=z,a.y(z),u.y(z),C.y(z),m.y(z)}},switchYAxisOrder:{get:function(){return J},set:function(z){if(J!==z){var ft=v;v=A,A=ft;var xt=W;W=tt,tt=xt}J=z,v.orient("left"),A.orient("right"),W.orient("left"),tt.orient("right")}}}),f.utils.inheritOptions(ut,a),f.utils.initOptions(ut),ut},f.models.multiBar=function(){"use strict";var j,R,B,w,L,b,I,a={top:0,right:0,bottom:0,left:0},u=960,C=500,m=d3.scale.ordinal(),x=d3.scale.linear(),O=Math.floor(1e4*Math.random()),v=null,A=function(p){return p.x},W=function(p){return p.y},tt=[0],et=!0,q=!1,rt="zero",U=f.utils.defaultColor(),Z=!1,lt=null,F=500,P=.1,T=.75,M=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),ot=f.utils.renderWatch(M,F),ht=0;function G(p){return ot.reset(),p.each(function(_){var D=u-a.left-a.right,K=C-a.top-a.bottom;v=d3.select(this),f.utils.initSVG(v);var dt=0;if(Z&&_.length&&(Z=[{values:_[0].values.map(function(z){return{x:z.x,y:0,series:z.series,size:.01}})}]),q){var h=d3.layout.stack().offset(rt).values(function(z){return z.values}).y(W)(!_.length&&Z?Z:_);h.forEach(function(z,ft){z.nonStackable?(_[ft].nonStackableSeries=dt++,h[ft]=_[ft]):ft>0&&h[ft-1].nonStackable&&h[ft].values.map(function(xt,jt){xt.y0-=h[ft-1].values[jt].y,xt.y1=xt.y0+xt.y})}),_=h}_.forEach(function(z,ft){z.values.forEach(function(xt){xt.series=ft,xt.key=z.key})}),q&&_.length>0&&_[0].values.map(function(z,ft){var xt=0,jt=0;_.map(function(Ut,_t){if(!_[_t].nonStackable){var Pt=Ut.values[ft];Pt.size=Math.abs(Pt.y),Pt.y<0?(Pt.y1=jt,jt-=Pt.size):(Pt.y1=Pt.size+xt,xt+=Pt.size)}})});var S=R&&B?[]:_.map(function(z,ft){return z.values.map(function(xt,jt){return{x:A(xt,jt),y:W(xt,jt),y0:xt.y0,y1:xt.y1,idx:ft}})});m.domain(R||d3.merge(S).map(function(z){return z.x})).rangeBands(w||[0,D],P),x.domain(B||d3.extent(d3.merge(S).map(function(z){var ft=z.y;return q&&!_[z.idx].nonStackable&&(ft=z.y>0?z.y1:z.y1+z.y),ft}).concat(tt))).range(L||[K,0]),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),x.domain()[0]===x.domain()[1]&&(x.domain()[0]?x.domain([x.domain()[0]+.01*x.domain()[0],x.domain()[1]-.01*x.domain()[1]]):x.domain([-1,1])),b=b||m,I=I||x;var at=v.selectAll("g.nv-wrap.nv-multibar").data([_]),st=at.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),Q=st.append("defs"),J=st.append("g"),yt=at.select("g");J.append("g").attr("class","nv-groups"),at.attr("transform","translate("+a.left+","+a.top+")"),Q.append("clipPath").attr("id","nv-edge-clip-"+O).append("rect"),at.select("#nv-edge-clip-"+O+" rect").attr("width",D).attr("height",K),yt.attr("clip-path",et?"url(#nv-edge-clip-"+O+")":"");var Ct=at.select(".nv-groups").selectAll(".nv-group").data(function(z){return z},function(z,ft){return ft});Ct.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var St=ot.transition(Ct.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,F)).attr("y",function(z,ft,xt){var jt=I(0)||0;return q&&_[z.series]&&!_[z.series].nonStackable&&(jt=I(z.y0)),jt}).attr("height",0).remove();St.delay&&St.delay(function(z,ft){return ft*(F/(ht+1))-ft}),Ct.attr("class",function(z,ft){return"nv-group nv-series-"+ft}).classed("hover",function(z){return z.hover}).style("fill",function(z,ft){return U(z,ft)}).style("stroke",function(z,ft){return U(z,ft)}),Ct.style("stroke-opacity",1).style("fill-opacity",T);var gt=Ct.selectAll("rect.nv-bar").data(function(z){return Z&&!_.length?Z.values:z.values});gt.exit().remove(),gt.enter().append("rect").attr("class",function(z,ft){return W(z,ft)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(z,ft,xt){return q&&!_[xt].nonStackable?0:xt*m.rangeBand()/_.length}).attr("y",function(z,ft,xt){return I(q&&!_[xt].nonStackable?z.y0:0)||0}).attr("height",0).attr("width",function(z,ft,xt){return m.rangeBand()/(q&&!_[xt].nonStackable?1:_.length)}).attr("transform",function(z,ft){return"translate("+m(A(z,ft))+",0)"}),gt.style("fill",function(z,ft,xt){return U(z,xt,ft)}).style("stroke",function(z,ft,xt){return U(z,xt,ft)}).on("mouseover",function(z,ft,xt){d3.select(this).classed("hover",!0),M.elementMouseover({data:z,index:ft,series:_[xt],color:d3.select(this).style("fill")})}).on("mouseout",function(z,ft,xt){d3.select(this).classed("hover",!1),M.elementMouseout({data:z,index:ft,series:_[xt],color:d3.select(this).style("fill")})}).on("mousemove",function(z,ft,xt){M.elementMousemove({data:z,index:ft,series:_[xt],color:d3.select(this).style("fill")})}).on("click",function(z,ft,xt){M.elementClick({data:z,index:ft,series:_[xt],color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(z,ft,xt){M.elementDblClick({data:z,index:ft,series:_[xt],color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),gt.attr("class",function(z,ft){return W(z,ft)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(z,ft){return"translate("+m(A(z,ft))+",0)"}),lt&&(j||(j=_.map(function(){return!0})),gt.style("fill",function(z,ft,xt){return d3.rgb(lt(z,ft)).darker(j.map(function(jt,Ut){return Ut}).filter(function(jt,Ut){return!j[Ut]})[xt]).toString()}).style("stroke",function(z,ft,xt){return d3.rgb(lt(z,ft)).darker(j.map(function(jt,Ut){return Ut}).filter(function(jt,Ut){return!j[Ut]})[xt]).toString()}));var ut=gt.watchTransition(ot,"multibar",Math.min(250,F)).delay(function(z,ft){return ft*F/_[0].values.length});q?ut.attr("y",function(z,ft,xt){return _[xt].nonStackable?W(z,ft)<0?x(0):x(0)-x(W(z,ft))<-1?x(0)-1:x(W(z,ft))||0:x(z.y1)}).attr("height",function(z,ft,xt){return _[xt].nonStackable?Math.max(Math.abs(x(W(z,ft))-x(0)),0)||0:Math.max(Math.abs(x(z.y+z.y0)-x(z.y0)),0)}).attr("x",function(z,ft,xt){var jt=0;return _[xt].nonStackable&&(jt=z.series*m.rangeBand()/_.length,_.length!==dt&&(jt=_[xt].nonStackableSeries*m.rangeBand()/(2*dt))),jt}).attr("width",function(z,ft,xt){if(_[xt].nonStackable){var jt=m.rangeBand()/dt;return _.length!==dt&&(jt=m.rangeBand()/(2*dt)),jt}return m.rangeBand()}):ut.attr("x",function(z,ft){return z.series*m.rangeBand()/_.length}).attr("width",m.rangeBand()/_.length).attr("y",function(z,ft){return W(z,ft)<0?x(0):x(0)-x(W(z,ft))<1?x(0)-1:x(W(z,ft))||0}).attr("height",function(z,ft){return Math.max(Math.abs(x(W(z,ft))-x(0)),1)||0}),b=m.copy(),I=x.copy(),_[0]&&_[0].values&&(ht=_[0].values.length)}),ot.renderEnd("multibar immediate"),G}return G.dispatch=M,G.options=f.utils.optionsFunc.bind(G),G._options=Object.create({},{width:{get:function(){return u},set:function(p){u=p}},height:{get:function(){return C},set:function(p){C=p}},x:{get:function(){return A},set:function(p){A=p}},y:{get:function(){return W},set:function(p){W=p}},xScale:{get:function(){return m},set:function(p){m=p}},yScale:{get:function(){return x},set:function(p){x=p}},xDomain:{get:function(){return R},set:function(p){R=p}},yDomain:{get:function(){return B},set:function(p){B=p}},xRange:{get:function(){return w},set:function(p){w=p}},yRange:{get:function(){return L},set:function(p){L=p}},forceY:{get:function(){return tt},set:function(p){tt=p}},stacked:{get:function(){return q},set:function(p){q=p}},stackOffset:{get:function(){return rt},set:function(p){rt=p}},clipEdge:{get:function(){return et},set:function(p){et=p}},disabled:{get:function(){return j},set:function(p){j=p}},id:{get:function(){return O},set:function(p){O=p}},hideable:{get:function(){return Z},set:function(p){Z=p}},groupSpacing:{get:function(){return P},set:function(p){P=p}},fillOpacity:{get:function(){return T},set:function(p){T=p}},margin:{get:function(){return a},set:function(p){a.top=void 0!==p.top?p.top:a.top,a.right=void 0!==p.right?p.right:a.right,a.bottom=void 0!==p.bottom?p.bottom:a.bottom,a.left=void 0!==p.left?p.left:a.left}},duration:{get:function(){return F},set:function(p){ot.reset(F=p)}},color:{get:function(){return U},set:function(p){U=f.utils.getColor(p)}},barColor:{get:function(){return lt},set:function(p){lt=p?f.utils.getColor(p):null}}}),f.utils.initOptions(G),G},f.models.multiBarChart=function(){"use strict";var T,M,a=f.models.multiBar(),u=f.models.axis(),C=f.models.axis(),m=f.interactiveGuideline(),x=f.models.legend(),O=f.models.legend(),v=f.models.tooltip(),A={top:30,right:20,bottom:50,left:60},W=null,tt=null,et=null,q=f.utils.defaultColor(),rt=!0,U={},Z=!0,lt=null,j=!0,F=!0,R=!1,B=!0,w=!1,L=!1,P=0,b=f.utils.state(),I=null,ot=null,ht=d3.dispatch("stateChange","changeState","renderEnd"),G=function(){return rt?180:0},p=250,_=!1;b.stacked=!1,a.stacked(!1),u.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(S){return S}),C.orient(R?"right":"left").tickFormat(d3.format(",.1f")),v.duration(0).valueFormatter(function(S,at){return C.tickFormat()(S,at)}).headerFormatter(function(S,at){return u.tickFormat()(S,at)}),m.tooltip.valueFormatter(function(S,at){return null==S?"N/A":C.tickFormat()(S,at)}).headerFormatter(function(S,at){return u.tickFormat()(S,at)}),m.tooltip.valueFormatter(function(S,at){return null==S?"N/A":C.tickFormat()(S,at)}).headerFormatter(function(S,at){return u.tickFormat()(S,at)}),m.tooltip.duration(0).valueFormatter(function(S,at){return C.tickFormat()(S,at)}).headerFormatter(function(S,at){return u.tickFormat()(S,at)}),O.updateState(!1);var D=f.utils.renderWatch(ht),K=!1;function h(S){return D.reset(),D.models(a),j&&D.models(u),F&&D.models(C),S.each(function(at){var st=d3.select(this);f.utils.initSVG(st);var Ct,J=f.utils.availableWidth(tt,st,A),yt=f.utils.availableHeight(et,st,A);if(h.update=function(){0===p?st.call(h):st.transition().duration(p).call(h)},h.container=this,b.setter(function(S){return function(at){void 0!==at.stacked&&(K=at.stacked),void 0!==at.active&&S.forEach(function(st,Q){st.disabled=!at.active[Q]})}}(at),h.update).getter(function(S){return function(){return{active:S.map(function(at){return!at.disabled}),stacked:K}}}(at)).update(),b.disabled=at.map(function(Pt){return!!Pt.disabled}),!I)for(Ct in I={},b)I[Ct]=b[Ct]instanceof Array?b[Ct].slice(0):b[Ct];if(!at||!at.length||!at.filter(function(Pt){return Pt.values.length}).length)return f.utils.noData(h,st),h;st.selectAll(".nv-noData").remove(),T=a.xScale(),M=a.yScale();var St=st.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([at]),gt=St.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),E=St.select("g");if(gt.append("g").attr("class","nv-x nv-axis"),gt.append("g").attr("class","nv-y nv-axis"),gt.append("g").attr("class","nv-barsWrap"),gt.append("g").attr("class","nv-legendWrap"),gt.append("g").attr("class","nv-controlsWrap"),gt.append("g").attr("class","nv-interactive"),Z?"bottom"===lt?(x.width(J-A.right),E.select(".nv-legendWrap").datum(at).call(x),A.bottom=u.height()+x.height(),yt=f.utils.availableHeight(et,st,A),E.select(".nv-legendWrap").attr("transform","translate(0,"+(yt+u.height())+")")):(x.width(J-G()),E.select(".nv-legendWrap").datum(at).call(x),!W&&x.height()!==A.top&&(A.top=x.height(),yt=f.utils.availableHeight(et,st,A)),E.select(".nv-legendWrap").attr("transform","translate("+G()+","+-A.top+")")):E.select(".nv-legendWrap").selectAll("*").remove(),rt){var ut=[{key:U.grouped||"Grouped",disabled:a.stacked()},{key:U.stacked||"Stacked",disabled:!a.stacked()}];O.width(G()).color(["#444","#444","#444"]),E.select(".nv-controlsWrap").datum(ut).attr("transform","translate(0,"+-A.top+")").call(O)}else E.select(".nv-controlsWrap").selectAll("*").remove();if(St.attr("transform","translate("+A.left+","+A.top+")"),R&&E.select(".nv-y.nv-axis").attr("transform","translate("+J+",0)"),a.disabled(at.map(function(Pt){return Pt.disabled})).width(J).height(yt).color(at.map(function(Pt,Bt){return Pt.color||q(Pt,Bt)}).filter(function(Pt,Bt){return!at[Bt].disabled})),E.select(".nv-barsWrap").datum(at.filter(function(Pt){return!Pt.disabled})).call(a),j){u.scale(T)._ticks(f.utils.calcTicksX(J/100,at)).tickSize(-yt,0),E.select(".nv-x.nv-axis").attr("transform","translate(0,"+M.range()[0]+")"),E.select(".nv-x.nv-axis").call(u);var ft=E.select(".nv-x.nv-axis > g").selectAll("g");if(ft.selectAll("line, text").style("opacity",1),w){var xt=function(Pt,Bt){return"translate("+Pt+","+Bt+")"};ft.selectAll("text").attr("transform",function(Pt,Bt,ne){return xt(0,ne%2==0?5:17)});var _t=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;E.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(Pt,Bt){return xt(0,0===Bt||_t%2!=0?17:5)})}L&&E.selectAll(".tick text").call(f.utils.wrapTicks,h.xAxis.rangeBand()),B&&ft.filter(function(Pt,Bt){return Bt%Math.ceil(at[0].values.length/(J/100))!=0}).selectAll("text, line").style("opacity",0),P&&ft.selectAll(".tick text").attr("transform","rotate("+P+" 0,0)").style("text-anchor",P>0?"start":"end"),E.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}F&&(C.scale(M)._ticks(f.utils.calcTicksY(yt/36,at)).tickSize(-J,0),E.select(".nv-y.nv-axis").call(C)),_&&(m.width(J).height(yt).margin({left:A.left,top:A.top}).svgContainer(st).xScale(T),St.select(".nv-interactive").call(m)),x.dispatch.on("stateChange",function(Pt){for(var Bt in Pt)b[Bt]=Pt[Bt];ht.stateChange(b),h.update()}),O.dispatch.on("legendClick",function(Pt,Bt){if(Pt.disabled){switch(ut=ut.map(function(ne){return ne.disabled=!0,ne}),Pt.disabled=!1,Pt.key){case"Grouped":case U.grouped:a.stacked(!1);break;case"Stacked":case U.stacked:a.stacked(!0)}b.stacked=a.stacked(),ht.stateChange(b),h.update()}}),ht.on("changeState",function(Pt){void 0!==Pt.disabled&&(at.forEach(function(Bt,ne){Bt.disabled=Pt.disabled[ne]}),b.disabled=Pt.disabled),void 0!==Pt.stacked&&(a.stacked(Pt.stacked),b.stacked=Pt.stacked,K=Pt.stacked),h.update()}),_?(m.dispatch.on("elementMousemove",function(Pt){if(null!=Pt.pointXValue){var Bt,ne,Mt,Ht,Qt=[];at.filter(function(re,Lt){return re.seriesIndex=Lt,!re.disabled}).forEach(function(re,Lt){ne=T.domain().indexOf(Pt.pointXValue);var Xt=re.values[ne];void 0!==Xt&&(Ht=Xt.x,void 0===Bt&&(Bt=Xt),void 0===Mt&&(Mt=Pt.mouseX),Qt.push({key:re.key,value:h.y()(Xt,ne),color:q(re,re.seriesIndex),data:re.values[ne]}))}),m.tooltip.data({value:Ht,index:ne,series:Qt})(),m.renderGuideLine(Mt)}}),m.dispatch.on("elementMouseout",function(Pt){m.tooltip.hidden(!0)})):(a.dispatch.on("elementMouseover.tooltip",function(Pt){Pt.value=h.x()(Pt.data),Pt.series={key:Pt.data.key,value:h.y()(Pt.data),color:Pt.color},v.data(Pt).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(Pt){v.hidden(!0)}),a.dispatch.on("elementMousemove.tooltip",function(Pt){v()}))}),D.renderEnd("multibarchart immediate"),h}return h.dispatch=ht,h.multibar=a,h.legend=x,h.controls=O,h.xAxis=u,h.yAxis=C,h.state=b,h.tooltip=v,h.interactiveLayer=m,h.options=f.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return tt},set:function(S){tt=S}},height:{get:function(){return et},set:function(S){et=S}},showLegend:{get:function(){return Z},set:function(S){Z=S}},legendPosition:{get:function(){return lt},set:function(S){lt=S}},showControls:{get:function(){return rt},set:function(S){rt=S}},controlLabels:{get:function(){return U},set:function(S){U=S}},showXAxis:{get:function(){return j},set:function(S){j=S}},showYAxis:{get:function(){return F},set:function(S){F=S}},defaultState:{get:function(){return I},set:function(S){I=S}},noData:{get:function(){return ot},set:function(S){ot=S}},reduceXTicks:{get:function(){return B},set:function(S){B=S}},rotateLabels:{get:function(){return P},set:function(S){P=S}},staggerLabels:{get:function(){return w},set:function(S){w=S}},wrapLabels:{get:function(){return L},set:function(S){L=!!S}},margin:{get:function(){return A},set:function(S){void 0!==S.top&&(A.top=S.top,W=S.top),A.right=void 0!==S.right?S.right:A.right,A.bottom=void 0!==S.bottom?S.bottom:A.bottom,A.left=void 0!==S.left?S.left:A.left}},duration:{get:function(){return p},set:function(S){a.duration(p=S),u.duration(p),C.duration(p),D.reset(p)}},color:{get:function(){return q},set:function(S){q=f.utils.getColor(S),x.color(q)}},rightAlignYAxis:{get:function(){return R},set:function(S){C.orient((R=S)?"right":"left")}},useInteractiveGuideline:{get:function(){return _},set:function(S){_=S}},barColor:{get:function(){return a.barColor},set:function(S){a.barColor(S),x.color(function(at,st){return d3.rgb("#ccc").darker(1.5*st).toString()})}}}),f.utils.inheritOptions(h,a),f.utils.initOptions(h),h},f.models.multiBarHorizontal=function(){"use strict";var U,P,T,M,b,ht,G,a={top:0,right:0,bottom:0,left:0},u=960,C=500,m=Math.floor(1e4*Math.random()),x=null,O=d3.scale.ordinal(),v=d3.scale.linear(),A=function(D){return D.x},W=function(D){return D.y},tt=function(D){return D.yErr},et=[0],q=f.utils.defaultColor(),rt=null,Z=!1,lt=!1,F=60,R=.1,B=.75,w=d3.format(",.2f"),I=250,ot=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),p=f.utils.renderWatch(ot,I);function _(D){return p.reset(),D.each(function(K){var dt=u-a.left-a.right,ct=C-a.top-a.bottom;x=d3.select(this),f.utils.initSVG(x),Z&&(K=d3.layout.stack().offset("zero").values(function(gt){return gt.values}).y(W)(K)),K.forEach(function(gt,E){gt.values.forEach(function(ut){ut.series=E,ut.key=gt.key})}),Z&&K[0].values.map(function(gt,E){var ut=0,z=0;K.map(function(ft){var xt=ft.values[E];xt.size=Math.abs(xt.y),xt.y<0?(xt.y1=z-xt.size,z-=xt.size):(xt.y1=ut,ut+=xt.size)})});var h=P&&T?[]:K.map(function(gt){return gt.values.map(function(E,ut){return{x:A(E,ut),y:W(E,ut),y0:E.y0,y1:E.y1}})});O.domain(P||d3.merge(h).map(function(gt){return gt.x})).rangeBands(M||[0,ct],R),v.domain(T||d3.extent(d3.merge(h).map(function(gt){return Z?gt.y>0?gt.y1+gt.y:gt.y1:gt.y}).concat(et))),v.range(lt&&!Z?b||[v.domain()[0]<0?F:0,dt-(v.domain()[1]>0?F:0)]:b||[0,dt]),ht=ht||O,G=G||d3.scale.linear().domain(v.domain()).range([v(0),v(0)]);var S=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([K]),at=S.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),Q=(at.append("defs"),at.append("g"));S.select("g"),Q.append("g").attr("class","nv-groups"),S.attr("transform","translate("+a.left+","+a.top+")");var yt=S.select(".nv-groups").selectAll(".nv-group").data(function(gt){return gt},function(gt,E){return E});yt.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),yt.exit().watchTransition(p,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),yt.attr("class",function(gt,E){return"nv-group nv-series-"+E}).classed("hover",function(gt){return gt.hover}).style("fill",function(gt,E){return q(gt,E)}).style("stroke",function(gt,E){return q(gt,E)}),yt.watchTransition(p,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",B);var Ct=yt.selectAll("g.nv-bar").data(function(gt){return gt.values});Ct.exit().remove();var St=Ct.enter().append("g").attr("transform",function(gt,E,ut){return"translate("+G(Z?gt.y0:0)+","+(Z?0:ut*O.rangeBand()/K.length+O(A(gt,E)))+")"});St.append("rect").attr("width",0).attr("height",O.rangeBand()/(Z?1:K.length)),Ct.on("mouseover",function(gt,E){d3.select(this).classed("hover",!0),ot.elementMouseover({data:gt,index:E,color:d3.select(this).style("fill")})}).on("mouseout",function(gt,E){d3.select(this).classed("hover",!1),ot.elementMouseout({data:gt,index:E,color:d3.select(this).style("fill")})}).on("mouseout",function(gt,E){ot.elementMouseout({data:gt,index:E,color:d3.select(this).style("fill")})}).on("mousemove",function(gt,E){ot.elementMousemove({data:gt,index:E,color:d3.select(this).style("fill")})}).on("click",function(gt,E){ot.elementClick({data:gt,index:E,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(gt,E){ot.elementDblClick({data:gt,index:E,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),tt(K[0],0)&&(St.append("polyline"),Ct.select("polyline").attr("fill","none").attr("points",function(gt,E){var ut=tt(gt,E),z=.8*O.rangeBand()/(2*(Z?1:K.length));return[[(ut=(ut=ut.length?ut:[-Math.abs(ut),Math.abs(ut)]).map(function(xt){return v(xt+(W(gt,E)<0?0:W(gt,E)))-v(0)}))[0],-z],[ut[0],z],[ut[0],0],[ut[1],0],[ut[1],-z],[ut[1],z]].map(function(xt){return xt.join(",")}).join(" ")}).attr("transform",function(gt,E){return"translate(0, "+O.rangeBand()/(2*(Z?1:K.length))+")"})),St.append("text"),lt&&!Z?(Ct.select("text").attr("text-anchor",function(gt,E){return W(gt,E)<0?"end":"start"}).attr("y",O.rangeBand()/(2*K.length)).attr("dy",".32em").text(function(gt,E){var ut=w(W(gt,E)),z=tt(gt,E);return void 0===z?ut:z.length?ut+"+"+w(Math.abs(z[1]))+"-"+w(Math.abs(z[0])):ut+"\xb1"+w(Math.abs(z))}),Ct.watchTransition(p,"multibarhorizontal: bars").select("text").attr("x",function(gt,E){return W(gt,E)<0?-4:v(W(gt,E))-v(0)+4})):Ct.selectAll("text").text(""),Ct.selectAll("text.nv-bar-label").text(""),Ct.attr("class",function(gt,E){return W(gt,E)<0?"nv-bar negative":"nv-bar positive"}),rt&&(U||(U=K.map(function(){return!0})),Ct.style("fill",function(gt,E,ut){return d3.rgb(rt(gt,E)).darker(U.map(function(z,ft){return ft}).filter(function(z,ft){return!U[ft]})[ut]).toString()}).style("stroke",function(gt,E,ut){return d3.rgb(rt(gt,E)).darker(U.map(function(z,ft){return ft}).filter(function(z,ft){return!U[ft]})[ut]).toString()})),Z?Ct.watchTransition(p,"multibarhorizontal: bars").attr("transform",function(gt,E){return"translate("+v(gt.y1)+","+O(A(gt,E))+")"}).select("rect").attr("width",function(gt,E){return Math.abs(v(W(gt,E)+gt.y0)-v(gt.y0))||0}).attr("height",O.rangeBand()):Ct.watchTransition(p,"multibarhorizontal: bars").attr("transform",function(gt,E){return"translate("+(W(gt,E)<0?v(W(gt,E)):v(0))+","+(gt.series*O.rangeBand()/K.length+O(A(gt,E)))+")"}).select("rect").attr("height",O.rangeBand()/K.length).attr("width",function(gt,E){return Math.max(Math.abs(v(W(gt,E))-v(0)),1)||0}),ht=O.copy(),G=v.copy()}),p.renderEnd("multibarHorizontal immediate"),_}return _.dispatch=ot,_.options=f.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return u},set:function(D){u=D}},height:{get:function(){return C},set:function(D){C=D}},x:{get:function(){return A},set:function(D){A=D}},y:{get:function(){return W},set:function(D){W=D}},yErr:{get:function(){return tt},set:function(D){tt=D}},xScale:{get:function(){return O},set:function(D){O=D}},yScale:{get:function(){return v},set:function(D){v=D}},xDomain:{get:function(){return P},set:function(D){P=D}},yDomain:{get:function(){return T},set:function(D){T=D}},xRange:{get:function(){return M},set:function(D){M=D}},yRange:{get:function(){return b},set:function(D){b=D}},forceY:{get:function(){return et},set:function(D){et=D}},stacked:{get:function(){return Z},set:function(D){Z=D}},showValues:{get:function(){return lt},set:function(D){lt=D}},disabled:{get:function(){return U},set:function(D){U=D}},id:{get:function(){return m},set:function(D){m=D}},valueFormat:{get:function(){return w},set:function(D){w=D}},valuePadding:{get:function(){return F},set:function(D){F=D}},groupSpacing:{get:function(){return R},set:function(D){R=D}},fillOpacity:{get:function(){return B},set:function(D){B=D}},margin:{get:function(){return a},set:function(D){a.top=void 0!==D.top?D.top:a.top,a.right=void 0!==D.right?D.right:a.right,a.bottom=void 0!==D.bottom?D.bottom:a.bottom,a.left=void 0!==D.left?D.left:a.left}},duration:{get:function(){return I},set:function(D){p.reset(I=D)}},color:{get:function(){return q},set:function(D){q=f.utils.getColor(D)}},barColor:{get:function(){return rt},set:function(D){rt=D?f.utils.getColor(D):null}}}),f.utils.initOptions(_),_},f.models.multiBarHorizontalChart=function(){"use strict";var B,w,a=f.models.multiBarHorizontal(),u=f.models.axis(),C=f.models.axis(),m=f.models.legend().height(30),x=f.models.legend().height(30),O=f.models.tooltip(),v={top:30,right:20,bottom:50,left:60},A=null,W=null,tt=null,et=f.utils.defaultColor(),q=!0,rt="top",U={},Z=!0,lt="top",j=!0,F=!0,R=!1,L=f.utils.state(),P=null,T=null,M=d3.dispatch("stateChange","changeState","renderEnd"),b=function(){return q?180:0},I=250;L.stacked=!1,a.stacked(R),u.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(_){return _}),C.orient("bottom").tickFormat(d3.format(",.1f")),O.duration(0).valueFormatter(function(_,D){return C.tickFormat()(_,D)}).headerFormatter(function(_,D){return u.tickFormat()(_,D)}),x.updateState(!1);var G=f.utils.renderWatch(M,I);function p(_){return G.reset(),G.models(a),j&&G.models(u),F&&G.models(C),_.each(function(D){var K=d3.select(this);f.utils.initSVG(K);var S,ct=f.utils.availableWidth(W,K,v),h=f.utils.availableHeight(tt,K,v);if(p.update=function(){K.transition().duration(I).call(p)},p.container=this,R=a.stacked(),L.setter(function(_){return function(D){void 0!==D.stacked&&(R=D.stacked),void 0!==D.active&&_.forEach(function(K,dt){K.disabled=!D.active[dt]})}}(D),p.update).getter(function(_){return function(){return{active:_.map(function(D){return!D.disabled}),stacked:R}}}(D)).update(),L.disabled=D.map(function(St){return!!St.disabled}),!P)for(S in P={},L)P[S]=L[S]instanceof Array?L[S].slice(0):L[S];if(!D||!D.length||!D.filter(function(St){return St.values.length}).length)return f.utils.noData(p,K),p;K.selectAll(".nv-noData").remove(),B=a.xScale(),w=a.yScale().clamp(!0);var at=K.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([D]),st=at.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),Q=at.select("g");if(st.append("g").attr("class","nv-x nv-axis"),st.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),st.append("g").attr("class","nv-barsWrap"),st.append("g").attr("class","nv-legendWrap"),st.append("g").attr("class","nv-controlsWrap"),Z?(m.width(ct-b()),Q.select(".nv-legendWrap").datum(D).call(m),"bottom"===lt?(v.bottom=u.height()+m.height(),h=f.utils.availableHeight(tt,K,v),Q.select(".nv-legendWrap").attr("transform","translate("+b()+","+(h+u.height())+")")):"top"===lt&&(!A&&m.height()!==v.top&&(v.top=m.height(),h=f.utils.availableHeight(tt,K,v)),Q.select(".nv-legendWrap").attr("transform","translate("+b()+","+-v.top+")"))):Q.select(".nv-legendWrap").selectAll("*").remove(),q){var J=[{key:U.grouped||"Grouped",disabled:a.stacked()},{key:U.stacked||"Stacked",disabled:!a.stacked()}];x.width(b()).color(["#444","#444","#444"]),"bottom"===rt?(v.bottom=u.height()+m.height(),h=f.utils.availableHeight(tt,K,v),Q.select(".nv-controlsWrap").datum(J).attr("transform","translate(0,"+(h+u.height())+")").call(x)):"top"===rt&&Q.select(".nv-controlsWrap").datum(J).attr("transform","translate(0,"+-v.top+")").call(x)}else Q.select(".nv-controlsWrap").selectAll("*").remove();at.attr("transform","translate("+v.left+","+v.top+")"),a.disabled(D.map(function(St){return St.disabled})).width(ct).height(h).color(D.map(function(St,gt){return St.color||et(St,gt)}).filter(function(St,gt){return!D[gt].disabled})),Q.select(".nv-barsWrap").datum(D.filter(function(St){return!St.disabled})).transition().call(a),j&&(u.scale(B)._ticks(f.utils.calcTicksY(h/24,D)).tickSize(-ct,0),Q.select(".nv-x.nv-axis").call(u),Q.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")),F&&(C.scale(w)._ticks(f.utils.calcTicksX(ct/100,D)).tickSize(-h,0),Q.select(".nv-y.nv-axis").attr("transform","translate(0,"+h+")"),Q.select(".nv-y.nv-axis").call(C)),Q.select(".nv-zeroLine line").attr("x1",w(0)).attr("x2",w(0)).attr("y1",0).attr("y2",-h),m.dispatch.on("stateChange",function(St){for(var gt in St)L[gt]=St[gt];M.stateChange(L),p.update()}),x.dispatch.on("legendClick",function(St,gt){if(St.disabled){switch(J=J.map(function(E){return E.disabled=!0,E}),St.disabled=!1,St.key){case"Grouped":case U.grouped:a.stacked(!1);break;case"Stacked":case U.stacked:a.stacked(!0)}L.stacked=a.stacked(),M.stateChange(L),R=a.stacked(),p.update()}}),M.on("changeState",function(St){void 0!==St.disabled&&(D.forEach(function(gt,E){gt.disabled=St.disabled[E]}),L.disabled=St.disabled),void 0!==St.stacked&&(a.stacked(St.stacked),L.stacked=St.stacked,R=St.stacked),p.update()})}),G.renderEnd("multibar horizontal chart immediate"),p}return a.dispatch.on("elementMouseover.tooltip",function(_){_.value=p.x()(_.data),_.series={key:_.data.key,value:p.y()(_.data),color:_.color},O.data(_).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(_){O.hidden(!0)}),a.dispatch.on("elementMousemove.tooltip",function(_){O()}),p.dispatch=M,p.multibar=a,p.legend=m,p.controls=x,p.xAxis=u,p.yAxis=C,p.state=L,p.tooltip=O,p.options=f.utils.optionsFunc.bind(p),p._options=Object.create({},{width:{get:function(){return W},set:function(_){W=_}},height:{get:function(){return tt},set:function(_){tt=_}},showLegend:{get:function(){return Z},set:function(_){Z=_}},legendPosition:{get:function(){return lt},set:function(_){lt=_}},controlsPosition:{get:function(){return rt},set:function(_){rt=_}},showControls:{get:function(){return q},set:function(_){q=_}},controlLabels:{get:function(){return U},set:function(_){U=_}},showXAxis:{get:function(){return j},set:function(_){j=_}},showYAxis:{get:function(){return F},set:function(_){F=_}},defaultState:{get:function(){return P},set:function(_){P=_}},noData:{get:function(){return T},set:function(_){T=_}},margin:{get:function(){return v},set:function(_){void 0!==_.top&&(v.top=_.top,A=_.top),v.right=void 0!==_.right?_.right:v.right,v.bottom=void 0!==_.bottom?_.bottom:v.bottom,v.left=void 0!==_.left?_.left:v.left}},duration:{get:function(){return I},set:function(_){G.reset(I=_),a.duration(I),u.duration(I),C.duration(I)}},color:{get:function(){return et},set:function(_){et=f.utils.getColor(_),m.color(et)}},barColor:{get:function(){return a.barColor},set:function(_){a.barColor(_),m.color(function(D,K){return d3.rgb("#ccc").darker(1.5*K).toString()})}}}),f.utils.inheritOptions(p,a),f.utils.initOptions(p),p},f.models.multiChart=function(){"use strict";var A,W,a={top:30,right:20,bottom:50,left:60},u=null,C=f.utils.defaultColor(),m=null,x=null,O=!0,v=null,tt=function(h){return h.x},et=function(h){return h.y},q="linear",rt=!0,U=f.interactiveGuideline(),Z=!1,lt=" (right axis)",j=250,F=d3.scale.linear(),R=d3.scale.linear(),B=d3.scale.linear(),w=f.models.line().yScale(R).duration(j),L=f.models.line().yScale(B).duration(j),P=f.models.scatter().yScale(R).duration(j),T=f.models.scatter().yScale(B).duration(j),M=f.models.multiBar().stacked(!1).yScale(R).duration(j),b=f.models.multiBar().stacked(!1).yScale(B).duration(j),I=f.models.stackedArea().yScale(R).duration(j),ot=f.models.stackedArea().yScale(B).duration(j),ht=f.models.axis().scale(F).orient("bottom").tickPadding(5).duration(j),G=f.models.axis().scale(R).orient("left").duration(j),p=f.models.axis().scale(B).orient("right").duration(j),_=f.models.legend().height(30),D=f.models.tooltip(),K=d3.dispatch(),dt=[w,L,P,T,M,b,I,ot];function ct(h){return h.each(function(S){var at=d3.select(this);f.utils.initSVG(at),ct.update=function(){at.transition().call(ct)},ct.container=this;var Q=f.utils.availableWidth(m,at,a),J=f.utils.availableHeight(x,at,a),yt=S.filter(function(kt){return"line"==kt.type&&1==kt.yAxis}),Ct=S.filter(function(kt){return"line"==kt.type&&2==kt.yAxis}),St=S.filter(function(kt){return"scatter"==kt.type&&1==kt.yAxis}),gt=S.filter(function(kt){return"scatter"==kt.type&&2==kt.yAxis}),E=S.filter(function(kt){return"bar"==kt.type&&1==kt.yAxis}),ut=S.filter(function(kt){return"bar"==kt.type&&2==kt.yAxis}),z=S.filter(function(kt){return"area"==kt.type&&1==kt.yAxis}),ft=S.filter(function(kt){return"area"==kt.type&&2==kt.yAxis});if(!S||!S.length||!S.filter(function(kt){return kt.values.length}).length)return f.utils.noData(ct,at),ct;at.selectAll(".nv-noData").remove();var xt=S.filter(function(kt){return!kt.disabled&&1==kt.yAxis}).map(function(kt){return kt.values.map(function(Ot,Jt){return{x:tt(Ot),y:et(Ot)}})}),jt=S.filter(function(kt){return!kt.disabled&&2==kt.yAxis}).map(function(kt){return kt.values.map(function(Ot,Jt){return{x:tt(Ot),y:et(Ot)}})});F.domain(d3.extent(d3.merge(xt.concat(jt)),function(kt){return kt.x})).range([0,Q]);var Ut=at.selectAll("g.wrap.multiChart").data([S]),_t=Ut.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");_t.append("g").attr("class","nv-x nv-axis"),_t.append("g").attr("class","nv-y1 nv-axis"),_t.append("g").attr("class","nv-y2 nv-axis"),_t.append("g").attr("class","stack1Wrap"),_t.append("g").attr("class","stack2Wrap"),_t.append("g").attr("class","bars1Wrap"),_t.append("g").attr("class","bars2Wrap"),_t.append("g").attr("class","scatters1Wrap"),_t.append("g").attr("class","scatters2Wrap"),_t.append("g").attr("class","lines1Wrap"),_t.append("g").attr("class","lines2Wrap"),_t.append("g").attr("class","legendWrap"),_t.append("g").attr("class","nv-interactive");var Pt=Ut.select("g"),Bt=S.map(function(kt,Ot){return S[Ot].color||C(kt,Ot)});if(O){var ne=_.align()?Q/2:Q,Mt=_.align()?ne:0;_.width(ne),_.color(Bt),Pt.select(".legendWrap").datum(S.map(function(kt){return kt.originalKey=void 0===kt.originalKey?kt.key:kt.originalKey,kt.key=kt.originalKey+(1==kt.yAxis?"":lt),kt})).call(_),!u&&_.height()!==a.top&&(a.top=_.height(),J=f.utils.availableHeight(x,at,a)),Pt.select(".legendWrap").attr("transform","translate("+Mt+","+-a.top+")")}else Pt.select(".legendWrap").selectAll("*").remove();w.width(Q).height(J).interpolate(q).color(Bt.filter(function(kt,Ot){return!S[Ot].disabled&&1==S[Ot].yAxis&&"line"==S[Ot].type})),L.width(Q).height(J).interpolate(q).color(Bt.filter(function(kt,Ot){return!S[Ot].disabled&&2==S[Ot].yAxis&&"line"==S[Ot].type})),P.width(Q).height(J).color(Bt.filter(function(kt,Ot){return!S[Ot].disabled&&1==S[Ot].yAxis&&"scatter"==S[Ot].type})),T.width(Q).height(J).color(Bt.filter(function(kt,Ot){return!S[Ot].disabled&&2==S[Ot].yAxis&&"scatter"==S[Ot].type})),M.width(Q).height(J).color(Bt.filter(function(kt,Ot){return!S[Ot].disabled&&1==S[Ot].yAxis&&"bar"==S[Ot].type})),b.width(Q).height(J).color(Bt.filter(function(kt,Ot){return!S[Ot].disabled&&2==S[Ot].yAxis&&"bar"==S[Ot].type})),I.width(Q).height(J).interpolate(q).color(Bt.filter(function(kt,Ot){return!S[Ot].disabled&&1==S[Ot].yAxis&&"area"==S[Ot].type})),ot.width(Q).height(J).interpolate(q).color(Bt.filter(function(kt,Ot){return!S[Ot].disabled&&2==S[Ot].yAxis&&"area"==S[Ot].type})),Pt.attr("transform","translate("+a.left+","+a.top+")");var Ht=Pt.select(".lines1Wrap").datum(yt.filter(function(kt){return!kt.disabled})),Qt=Pt.select(".scatters1Wrap").datum(St.filter(function(kt){return!kt.disabled})),re=Pt.select(".bars1Wrap").datum(E.filter(function(kt){return!kt.disabled})),Lt=Pt.select(".stack1Wrap").datum(z.filter(function(kt){return!kt.disabled})),Xt=Pt.select(".lines2Wrap").datum(Ct.filter(function(kt){return!kt.disabled})),zt=Pt.select(".scatters2Wrap").datum(gt.filter(function(kt){return!kt.disabled})),Ft=Pt.select(".bars2Wrap").datum(ut.filter(function(kt){return!kt.disabled})),ae=Pt.select(".stack2Wrap").datum(ft.filter(function(kt){return!kt.disabled})),ue=[];M.stacked()&&E.length&&(ue=E.filter(function(Ot){return!Ot.disabled}).map(function(Ot){return Ot.values})).length>0&&(ue=ue.reduce(function(Ot,Jt){return Ot.map(function(ee,fe){return{x:ee.x,y:ee.y+Jt[fe].y}})})),E.length&&ue.push({x:0,y:0});var xe=[];function ge(kt){var Ot=2===kt.series.yAxis?p:G;kt.value=kt.point.x,kt.series={value:kt.point.y,color:kt.point.color,key:kt.series.key},D.duration(0).headerFormatter(function(Jt,ee){return ht.tickFormat()(Jt,ee)}).valueFormatter(function(Jt,ee){return Ot.tickFormat()(Jt,ee)}).data(kt).hidden(!1)}function be(kt){var Ot=2===kt.series.yAxis?p:G;kt.value=kt.point.x,kt.series={value:kt.point.y,color:kt.point.color,key:kt.series.key},D.duration(100).headerFormatter(function(Jt,ee){return ht.tickFormat()(Jt,ee)}).valueFormatter(function(Jt,ee){return Ot.tickFormat()(Jt,ee)}).data(kt).hidden(!1)}function Ce(kt){var Ot=2===kt.series.yAxis?p:G;kt.point.x=I.x()(kt.point),kt.point.y=I.y()(kt.point),D.duration(0).headerFormatter(function(Jt,ee){return ht.tickFormat()(Jt,ee)}).valueFormatter(function(Jt,ee){return Ot.tickFormat()(Jt,ee)}).data(kt).hidden(!1)}function ke(kt){var Ot=2===kt.series.yAxis?p:G;kt.value=M.x()(kt.data),kt.series={value:M.y()(kt.data),color:kt.color,key:kt.data.key},D.duration(0).headerFormatter(function(Jt,ee){return ht.tickFormat()(Jt,ee)}).valueFormatter(function(Jt,ee){return Ot.tickFormat()(Jt,ee)}).data(kt).hidden(!1)}function Dt(){for(var kt=0,Ot=dt.length;kt<Ot;kt++){var Jt=dt[kt];try{Jt.clearHighlights()}catch(ee){}}}b.stacked()&&ut.length&&(xe=ut.filter(function(Ot){return!Ot.disabled}).map(function(Ot){return Ot.values})).length>0&&(xe=xe.reduce(function(Ot,Jt){return Ot.map(function(ee,fe){return{x:ee.x,y:ee.y+Jt[fe].y}})})),ut.length&&xe.push({x:0,y:0}),R.domain(A||d3.extent(d3.merge(xt).concat(ue),function(kt){return kt.y})).range([0,J]),B.domain(W||d3.extent(d3.merge(jt).concat(xe),function(kt){return kt.y})).range([0,J]),w.yDomain(R.domain()),P.yDomain(R.domain()),M.yDomain(R.domain()),I.yDomain(R.domain()),L.yDomain(B.domain()),T.yDomain(B.domain()),b.yDomain(B.domain()),ot.yDomain(B.domain()),z.length&&d3.transition(Lt).call(I),ft.length&&d3.transition(ae).call(ot),E.length&&d3.transition(re).call(M),ut.length&&d3.transition(Ft).call(b),yt.length&&d3.transition(Ht).call(w),Ct.length&&d3.transition(Xt).call(L),St.length&&d3.transition(Qt).call(P),gt.length&&d3.transition(zt).call(T),ht._ticks(f.utils.calcTicksX(Q/100,S)).tickSize(-J,0),Pt.select(".nv-x.nv-axis").attr("transform","translate(0,"+J+")"),d3.transition(Pt.select(".nv-x.nv-axis")).call(ht),G._ticks(f.utils.calcTicksY(J/36,S)).tickSize(-Q,0),d3.transition(Pt.select(".nv-y1.nv-axis")).call(G),p._ticks(f.utils.calcTicksY(J/36,S)).tickSize(-Q,0),d3.transition(Pt.select(".nv-y2.nv-axis")).call(p),Pt.select(".nv-y1.nv-axis").classed("nv-disabled",!xt.length).attr("transform","translate("+F.range()[0]+",0)"),Pt.select(".nv-y2.nv-axis").classed("nv-disabled",!jt.length).attr("transform","translate("+F.range()[1]+",0)"),_.dispatch.on("stateChange",function(kt){ct.update()}),Z&&(U.width(Q).height(J).margin({left:a.left,top:a.top}).svgContainer(at).xScale(F),Ut.select(".nv-interactive").call(U)),Z?(U.dispatch.on("elementMousemove",function(kt){Dt();var Ot,Jt,ee,fe=[];S.filter(function(Yt,ce){return Yt.seriesIndex=ce,!Yt.disabled}).forEach(function(Yt,ce){var It=F.domain(),Kt=Yt.values.filter(function(te,de){return ct.x()(te,de)>=It[0]&&ct.x()(te,de)<=It[1]}),pe=Kt[Jt=f.interactiveBisect(Kt,kt.pointXValue,ct.x())],ie=ct.y()(pe,Jt);null!==ie&&function(kt,Ot,Jt){for(var ee=0,fe=dt.length;ee<fe;ee++){var we=dt[ee];try{we.highlightPoint(kt,Ot,true)}catch(Yt){}}}(ce,Jt),void 0!==pe&&(void 0===Ot&&(Ot=pe),void 0===ee&&(ee=F(ct.x()(pe,Jt))),fe.push({key:Yt.key,value:ie,color:C(Yt,Yt.seriesIndex),data:pe,yAxis:2==Yt.yAxis?p:G}))}),U.tooltip.headerFormatter(function(Yt,ce){return ht.tickFormat()(Yt,ce)}).valueFormatter(U.tooltip.valueFormatter()||function(Yt,ce){return null==Yt?"N/A":fe[ce].yAxis.tickFormat()(Yt)}).data({value:ct.x()(Ot,Jt),index:Jt,series:fe})(),U.renderGuideLine(ee)}),U.dispatch.on("elementMouseout",function(kt){Dt()})):(w.dispatch.on("elementMouseover.tooltip",ge),L.dispatch.on("elementMouseover.tooltip",ge),w.dispatch.on("elementMouseout.tooltip",function(kt){D.hidden(!0)}),L.dispatch.on("elementMouseout.tooltip",function(kt){D.hidden(!0)}),P.dispatch.on("elementMouseover.tooltip",be),T.dispatch.on("elementMouseover.tooltip",be),P.dispatch.on("elementMouseout.tooltip",function(kt){D.hidden(!0)}),T.dispatch.on("elementMouseout.tooltip",function(kt){D.hidden(!0)}),I.dispatch.on("elementMouseover.tooltip",Ce),ot.dispatch.on("elementMouseover.tooltip",Ce),I.dispatch.on("elementMouseout.tooltip",function(kt){D.hidden(!0)}),ot.dispatch.on("elementMouseout.tooltip",function(kt){D.hidden(!0)}),M.dispatch.on("elementMouseover.tooltip",ke),b.dispatch.on("elementMouseover.tooltip",ke),M.dispatch.on("elementMouseout.tooltip",function(kt){D.hidden(!0)}),b.dispatch.on("elementMouseout.tooltip",function(kt){D.hidden(!0)}),M.dispatch.on("elementMousemove.tooltip",function(kt){D()}),b.dispatch.on("elementMousemove.tooltip",function(kt){D()}))}),ct}return ct.dispatch=K,ct.legend=_,ct.lines1=w,ct.lines2=L,ct.scatters1=P,ct.scatters2=T,ct.bars1=M,ct.bars2=b,ct.stack1=I,ct.stack2=ot,ct.xAxis=ht,ct.yAxis1=G,ct.yAxis2=p,ct.tooltip=D,ct.interactiveLayer=U,ct.options=f.utils.optionsFunc.bind(ct),ct._options=Object.create({},{width:{get:function(){return m},set:function(h){m=h}},height:{get:function(){return x},set:function(h){x=h}},showLegend:{get:function(){return O},set:function(h){O=h}},yDomain1:{get:function(){return A},set:function(h){A=h}},yDomain2:{get:function(){return W},set:function(h){W=h}},noData:{get:function(){return v},set:function(h){v=h}},interpolate:{get:function(){return q},set:function(h){q=h}},legendRightAxisHint:{get:function(){return lt},set:function(h){lt=h}},margin:{get:function(){return a},set:function(h){void 0!==h.top&&(a.top=h.top,u=h.top),a.right=void 0!==h.right?h.right:a.right,a.bottom=void 0!==h.bottom?h.bottom:a.bottom,a.left=void 0!==h.left?h.left:a.left}},color:{get:function(){return C},set:function(h){C=f.utils.getColor(h)}},x:{get:function(){return tt},set:function(h){tt=h,w.x(h),L.x(h),P.x(h),T.x(h),M.x(h),b.x(h),I.x(h),ot.x(h)}},y:{get:function(){return et},set:function(h){et=h,w.y(h),L.y(h),P.y(h),T.y(h),I.y(h),ot.y(h),M.y(h),b.y(h)}},useVoronoi:{get:function(){return rt},set:function(h){rt=h,w.useVoronoi(h),L.useVoronoi(h),I.useVoronoi(h),ot.useVoronoi(h)}},useInteractiveGuideline:{get:function(){return Z},set:function(h){(Z=h)&&(w.interactive(!1),w.useVoronoi(!1),L.interactive(!1),L.useVoronoi(!1),I.interactive(!1),I.useVoronoi(!1),ot.interactive(!1),ot.useVoronoi(!1),P.interactive(!1),T.interactive(!1))}},duration:{get:function(){return j},set:function(h){j=h,[w,L,I,ot,P,T,ht,G,p].forEach(function(S){S.duration(j)})}}}),f.utils.initOptions(ct),ct},f.models.ohlcBar=function(){"use strict";var B,w,L,P,a={top:0,right:0,bottom:0,left:0},u=null,C=null,m=Math.floor(1e4*Math.random()),x=null,O=d3.scale.linear(),v=d3.scale.linear(),A=function(b){return b.x},W=function(b){return b.y},tt=function(b){return b.open},et=function(b){return b.close},q=function(b){return b.high},rt=function(b){return b.low},U=[],Z=[],lt=!1,j=!0,F=f.utils.defaultColor(),R=!1,T=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function M(b){return b.each(function(I){x=d3.select(this);var ot=f.utils.availableWidth(u,x,a),ht=f.utils.availableHeight(C,x,a);f.utils.initSVG(x);var G=ot/I[0].values.length*.9;O.domain(B||d3.extent(I[0].values.map(A).concat(U))),O.range(lt?L||[.5*ot/I[0].values.length,ot*(I[0].values.length-.5)/I[0].values.length]:L||[5+G/2,ot-G/2-5]),v.domain(w||[d3.min(I[0].values.map(rt).concat(Z)),d3.max(I[0].values.map(q).concat(Z))]).range(P||[ht,0]),O.domain()[0]===O.domain()[1]&&(O.domain()[0]?O.domain([O.domain()[0]-.01*O.domain()[0],O.domain()[1]+.01*O.domain()[1]]):O.domain([-1,1])),v.domain()[0]===v.domain()[1]&&(v.domain()[0]?v.domain([v.domain()[0]+.01*v.domain()[0],v.domain()[1]-.01*v.domain()[1]]):v.domain([-1,1]));var p=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([I[0].values]),_=p.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),D=_.append("defs"),K=_.append("g"),dt=p.select("g");K.append("g").attr("class","nv-ticks"),p.attr("transform","translate("+a.left+","+a.top+")"),x.on("click",function(h,S){T.chartClick({data:h,index:S,pos:d3.event,id:m})}),D.append("clipPath").attr("id","nv-chart-clip-path-"+m).append("rect"),p.select("#nv-chart-clip-path-"+m+" rect").attr("width",ot).attr("height",ht),dt.attr("clip-path",j?"url(#nv-chart-clip-path-"+m+")":"");var ct=p.select(".nv-ticks").selectAll(".nv-tick").data(function(h){return h});ct.exit().remove(),ct.enter().append("path").attr("class",function(h,S,at){return(tt(h,S)>et(h,S)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+at+"-"+S}).attr("d",function(h,S){return"m0,0l0,"+(v(tt(h,S))-v(q(h,S)))+"l"+-G/2+",0l"+G/2+",0l0,"+(v(rt(h,S))-v(tt(h,S)))+"l0,"+(v(et(h,S))-v(rt(h,S)))+"l"+G/2+",0l"+-G/2+",0z"}).attr("transform",function(h,S){return"translate("+O(A(h,S))+","+v(q(h,S))+")"}).attr("fill",function(h,S){return F[0]}).attr("stroke",function(h,S){return F[0]}).attr("x",0).attr("y",function(h,S){return v(Math.max(0,W(h,S)))}).attr("height",function(h,S){return Math.abs(v(W(h,S))-v(0))}),ct.attr("class",function(h,S,at){return(tt(h,S)>et(h,S)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+at+"-"+S}),d3.transition(ct).attr("transform",function(h,S){return"translate("+O(A(h,S))+","+v(q(h,S))+")"}).attr("d",function(h,S){var at=ot/I[0].values.length*.9;return"m0,0l0,"+(v(tt(h,S))-v(q(h,S)))+"l"+-at/2+",0l"+at/2+",0l0,"+(v(rt(h,S))-v(tt(h,S)))+"l0,"+(v(et(h,S))-v(rt(h,S)))+"l"+at/2+",0l"+-at/2+",0z"})}),M}return M.highlightPoint=function(b,I){M.clearHighlights(),x.select(".nv-ohlcBar .nv-tick-0-"+b).classed("hover",I)},M.clearHighlights=function(){x.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},M.dispatch=T,M.options=f.utils.optionsFunc.bind(M),M._options=Object.create({},{width:{get:function(){return u},set:function(b){u=b}},height:{get:function(){return C},set:function(b){C=b}},xScale:{get:function(){return O},set:function(b){O=b}},yScale:{get:function(){return v},set:function(b){v=b}},xDomain:{get:function(){return B},set:function(b){B=b}},yDomain:{get:function(){return w},set:function(b){w=b}},xRange:{get:function(){return L},set:function(b){L=b}},yRange:{get:function(){return P},set:function(b){P=b}},forceX:{get:function(){return U},set:function(b){U=b}},forceY:{get:function(){return Z},set:function(b){Z=b}},padData:{get:function(){return lt},set:function(b){lt=b}},clipEdge:{get:function(){return j},set:function(b){j=b}},id:{get:function(){return m},set:function(b){m=b}},interactive:{get:function(){return R},set:function(b){R=b}},x:{get:function(){return A},set:function(b){A=b}},y:{get:function(){return W},set:function(b){W=b}},open:{get:function(){return tt()},set:function(b){tt=b}},close:{get:function(){return et()},set:function(b){et=b}},high:{get:function(){return q},set:function(b){q=b}},low:{get:function(){return rt},set:function(b){rt=b}},margin:{get:function(){return a},set:function(b){a.top=null!=b.top?b.top:a.top,a.right=null!=b.right?b.right:a.right,a.bottom=null!=b.bottom?b.bottom:a.bottom,a.left=null!=b.left?b.left:a.left}},color:{get:function(){return F},set:function(b){F=f.utils.getColor(b)}}}),f.utils.initOptions(M),M},f.models.parallelCoordinates=function(){"use strict";var R,B,w,a={top:30,right:0,bottom:10,left:0},u=null,C=null,m=null,x=null,O=d3.scale.ordinal(),v={},A="undefined values",W=[],tt=[],et=[],q=!0,rt=f.utils.defaultColor(),U=[],Z=[],lt=[],j=[],F=1,L=d3.svg.line(),P=d3.svg.axis(),T=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),M=f.utils.renderWatch(T);function b(I){return M.reset(),I.each(function(ot){var ht=d3.select(this);if(m=f.utils.availableWidth(u,ht,a),x=f.utils.availableHeight(C,ht,a),f.utils.initSVG(ht),void 0===ot[0].values){var G=[];ot.forEach(function(Mt){var Ht={};Object.keys(Mt).forEach(function(re){"name"!==re&&(Ht[re]=Mt[re])}),G.push({key:Mt.name,values:Ht})}),ot=G}var p=ot.map(function(Mt){return Mt.values});0===Z.length&&(Z=ot),et=W.sort(function(Mt,Ht){return Mt.currentPosition-Ht.currentPosition}).map(function(Mt){return Mt.key}),tt=W.filter(function(Mt){return!Mt.disabled}),O.rangePoints([0,m],1).domain(tt.map(function(Mt){return Mt.key}));var _={},D=!1,K=[];et.forEach(function(Mt){var Ht=d3.extent(p,function(zt){return+zt[Mt]}),Qt=Ht[0],re=Ht[1],Lt=!1;(isNaN(Qt)||isNaN(re))&&(Lt=!0,Qt=0,re=0),Qt===re&&(Qt-=1,re+=1);var Xt=U.filter(function(zt){return zt.dimension==Mt});0!==Xt.length&&(Lt?(Qt=v[Mt].domain()[0],re=v[Mt].domain()[1]):!Xt[0].hasOnlyNaN&&q?(Qt=Qt>Xt[0].extent[0]?Xt[0].extent[0]:Qt,re=re<Xt[0].extent[1]?Xt[0].extent[1]:re):Xt[0].hasNaN&&(re=re<Xt[0].extent[1]?Xt[0].extent[1]:re,_[Mt]=v[Mt].domain()[1],D=!0)),v[Mt]=d3.scale.linear().domain([Qt,re]).range([.9*(x-12),0]),j=[],v[Mt].brush=d3.svg.brush().y(v[Mt]).on("brushstart",ft).on("brush",xt).on("brushend",jt)});var dt=ht.selectAll("g.nv-wrap.nv-parallelCoordinates").data([ot]),h=dt.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),S=dt.select("g");h.append("g").attr("class","nv-parallelCoordinates background"),h.append("g").attr("class","nv-parallelCoordinates foreground"),h.append("g").attr("class","nv-parallelCoordinates missingValuesline"),dt.attr("transform","translate("+a.left+","+a.top+")"),L.interpolate("cardinal").tension(F),P.orient("left");var st,Q,at=d3.behavior.drag().on("dragstart",function(Mt){lt[Mt.key]=this.parentNode.__origin__=O(Mt.key),B.attr("visibility","hidden")}).on("drag",function(Mt){lt[Mt.key]=Math.min(m,Math.max(0,this.parentNode.__origin__+=d3.event.x)),R.attr("d",ut),tt.sort(function(Ht,Qt){return ne(Ht.key)-ne(Qt.key)}),tt.forEach(function(Ht,Qt){return Ht.currentPosition=Qt}),O.domain(tt.map(function(Ht){return Ht.key})),w.attr("transform",function(Ht){return"translate("+ne(Ht.key)+")"})}).on("dragend",function(Mt,Ht){delete this.parentNode.__origin__,delete lt[Mt.key],d3.select(this.parentNode).attr("transform","translate("+O(Mt.key)+")"),R.attr("d",ut),B.attr("d",ut).attr("visibility",null),T.dimensionsOrder(tt)}),J=O.range()[1]-O.range()[0];if(J=isNaN(J)?O.range()[0]:J,!isNaN(J)){var yt=[0+J/2,x-12,m-J/2,x-12];(st=dt.select(".missingValuesline").selectAll("line").data([yt])).enter().append("line"),st.exit().remove(),st.attr("x1",function(Mt){return Mt[0]}).attr("y1",function(Mt){return Mt[1]}).attr("x2",function(Mt){return Mt[2]}).attr("y2",function(Mt){return Mt[3]}),(Q=dt.select(".missingValuesline").selectAll("text").data([A])).append("text").data([A]),Q.enter().append("text"),Q.exit().remove(),Q.attr("y",x).attr("x",m-92-J/2).text(function(Mt){return Mt})}(B=dt.select(".background").selectAll("path").data(ot)).enter().append("path"),B.exit().remove(),B.attr("d",ut),(R=dt.select(".foreground").selectAll("path").data(ot)).enter().append("path"),R.exit().remove(),R.attr("d",ut).style("stroke-width",function(Mt,Ht){return isNaN(Mt.strokeWidth)&&(Mt.strokeWidth=1),Mt.strokeWidth}).attr("stroke",function(Mt,Ht){return Mt.color||rt(Mt,Ht)}),R.on("mouseover",function(Mt,Ht){d3.select(this).classed("hover",!0).style("stroke-width",Mt.strokeWidth+2+"px").style("stroke-opacity",1),T.elementMouseover({label:Mt.name,color:Mt.color||rt(Mt,Ht),values:Mt.values,dimensions:tt})}),R.on("mouseout",function(Mt,Ht){d3.select(this).classed("hover",!1).style("stroke-width",Mt.strokeWidth+"px").style("stroke-opacity",.7),T.elementMouseout({label:Mt.name,index:Ht})}),R.on("mousemove",function(Mt,Ht){T.elementMousemove()}),R.on("click",function(Mt){T.elementClick({id:Mt.id})});var Ct=(w=S.selectAll(".dimension").data(tt)).enter().append("g").attr("class","nv-parallelCoordinates dimension");w.attr("transform",function(Mt){return"translate("+O(Mt.key)+",0)"}),Ct.append("g").attr("class","nv-axis"),Ct.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(Mt,Ht){T.elementMouseover({label:Mt.tooltip||Mt.key,color:Mt.color})}).on("mouseout",function(Mt,Ht){T.elementMouseout({label:Mt.tooltip})}).on("mousemove",function(Mt,Ht){T.elementMousemove()}).call(at),Ct.append("g").attr("class","nv-brushBackground"),w.exit().remove(),w.select(".nv-label").text(function(Mt){return Mt.key}),z(q);var St=et.filter(function(Mt){return!v[Mt].brush.empty()}),gt=St.map(function(Mt){return v[Mt].brush.extent()}),E=Z.slice(0);function ut(Mt){return L(tt.map(function(Ht){if(isNaN(Mt.values[Ht.key])||isNaN(parseFloat(Mt.values[Ht.key]))||D){var Qt=v[Ht.key].domain(),re=v[Ht.key].range(),Lt=Qt[0]-(Qt[1]-Qt[0])/9;if(j.indexOf(Ht.key)<0){var Xt=d3.scale.linear().domain([Lt,Qt[1]]).range([x-12,re[1]]);v[Ht.key].brush.y(Xt),j.push(Ht.key)}if(isNaN(Mt.values[Ht.key])||isNaN(parseFloat(Mt.values[Ht.key])))return[O(Ht.key),v[Ht.key](Lt)]}return void 0!==st&&(j.length>0||D?(st.style("display","inline"),Q.style("display","inline")):(st.style("display","none"),Q.style("display","none"))),[O(Ht.key),v[Ht.key](Mt.values[Ht.key])]}))}function z(Mt){U.forEach(function(Ht){var Qt=v[Ht.dimension].brush.y().domain();Ht.hasOnlyNaN&&(Ht.extent[1]=(v[Ht.dimension].domain()[1]-Qt[0])*(Ht.extent[1]-Ht.extent[0])/(_[Ht.dimension]-Ht.extent[0])+Qt[0]),Ht.hasNaN&&(Ht.extent[0]=Qt[0]),Mt&&v[Ht.dimension].brush.extent(Ht.extent)}),w.select(".nv-brushBackground").each(function(Ht){d3.select(this).call(v[Ht.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),Ut()}function ft(){!1===q&&(q=!0,z(!0))}function xt(){St=et.filter(function(Mt){return!v[Mt].brush.empty()}),gt=St.map(function(Mt){return v[Mt].brush.extent()}),U=[],St.forEach(function(Mt,Ht){U[Ht]={dimension:Mt,extent:gt[Ht],hasNaN:!1,hasOnlyNaN:!1}}),Z=[],R.style("display",function(Mt){var Ht=St.every(function(Qt,re){return!(!isNaN(Mt.values[Qt])&&!isNaN(parseFloat(Mt.values[Qt]))||gt[re][0]!=v[Qt].brush.y().domain()[0])||gt[re][0]<=Mt.values[Qt]&&Mt.values[Qt]<=gt[re][1]&&!isNaN(parseFloat(Mt.values[Qt]))});return Ht&&Z.push(Mt),Ht?null:"none"}),Ut(),T.brush({filters:U,active:Z})}function jt(){var Mt=St.length>0;U.forEach(function(Ht){Ht.extent[0]===v[Ht.dimension].brush.y().domain()[0]&&j.indexOf(Ht.dimension)>=0&&(Ht.hasNaN=!0),Ht.extent[1]<v[Ht.dimension].domain()[0]&&(Ht.hasOnlyNaN=!0)}),T.brushEnd(Z,Mt)}function Ut(){w.select(".nv-axis").each(function(Mt,Ht){var Qt=U.filter(function(re){return re.dimension==Mt.key});K[Mt.key]=v[Mt.key].domain(),0!=Qt.length&&q&&(K[Mt.key]=[],Qt[0].extent[1]>v[Mt.key].domain()[0]&&(K[Mt.key]=[Qt[0].extent[1]]),Qt[0].extent[0]>=v[Mt.key].domain()[0]&&K[Mt.key].push(Qt[0].extent[0])),d3.select(this).call(P.scale(v[Mt.key]).tickFormat(Mt.format).tickValues(K[Mt.key]))})}function ne(Mt){var Ht=lt[Mt];return null==Ht?O(Mt):Ht}Z=[],R.style("display",function(Mt){var Ht=St.every(function(Qt,re){return!(!isNaN(Mt.values[Qt])&&!isNaN(parseFloat(Mt.values[Qt]))||gt[re][0]!=v[Qt].brush.y().domain()[0])||gt[re][0]<=Mt.values[Qt]&&Mt.values[Qt]<=gt[re][1]&&!isNaN(parseFloat(Mt.values[Qt]))});return Ht&&Z.push(Mt),Ht?null:"none"}),(U.length>0||!f.utils.arrayEquals(Z,E))&&T.activeChanged(Z)}),b}return b.dispatch=T,b.options=f.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return u},set:function(I){u=I}},height:{get:function(){return C},set:function(I){C=I}},dimensionData:{get:function(){return W},set:function(I){W=I}},displayBrush:{get:function(){return q},set:function(I){q=I}},filters:{get:function(){return U},set:function(I){U=I}},active:{get:function(){return Z},set:function(I){Z=I}},lineTension:{get:function(){return F},set:function(I){F=I}},undefinedValuesLabel:{get:function(){return A},set:function(I){A=I}},dimensions:{get:function(){return W.map(function(I){return I.key})},set:function(I){f.deprecated("dimensions","use dimensionData instead"),I.forEach(0===W.length?function(ot){W.push({key:ot})}:function(ot,ht){W[ht].key=ot})}},dimensionNames:{get:function(){return W.map(function(I){return I.key})},set:function(I){f.deprecated("dimensionNames","use dimensionData instead"),et=[],I.forEach(0===W.length?function(ot){W.push({key:ot})}:function(ot,ht){W[ht].key=ot})}},dimensionFormats:{get:function(){return W.map(function(I){return I.format})},set:function(I){f.deprecated("dimensionFormats","use dimensionData instead"),I.forEach(0===W.length?function(ot){W.push({format:ot})}:function(ot,ht){W[ht].format=ot})}},margin:{get:function(){return a},set:function(I){a.top=void 0!==I.top?I.top:a.top,a.right=void 0!==I.right?I.right:a.right,a.bottom=void 0!==I.bottom?I.bottom:a.bottom,a.left=void 0!==I.left?I.left:a.left}},color:{get:function(){return rt},set:function(I){rt=f.utils.getColor(I)}}}),f.utils.initOptions(b),b},f.models.parallelCoordinatesChart=function(){"use strict";var a=f.models.parallelCoordinates(),u=f.models.legend(),C=f.models.tooltip(),x=(f.models.tooltip(),{top:0,right:0,bottom:0,left:0}),O=null,v=null,A=null,W=!0,tt=f.utils.defaultColor(),et=f.utils.state(),q=[],rt=!0,U=null,Z=null,lt="undefined",j=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),R=f.utils.renderWatch(j);function L(P){return R.reset(),R.models(a),P.each(function(T){var M=d3.select(this);f.utils.initSVG(M);var ht,I=f.utils.availableWidth(v,M,x),ot=f.utils.availableHeight(A,M,x);if(L.update=function(){M.call(L)},L.container=this,et.setter(function(P){return function(T){void 0!==T.active&&P.forEach(function(M,b){M.disabled=!T.active[b]})}}(q),L.update).getter(function(P){return function(){return{active:P.map(function(T){return!T.disabled})}}}(q)).update(),et.disabled=q.map(function(K){return!!K.disabled}),(q=q.map(function(K){return K.disabled=!!K.disabled,K})).forEach(function(K,dt){K.originalPosition=isNaN(K.originalPosition)?dt:K.originalPosition,K.currentPosition=isNaN(K.currentPosition)?dt:K.currentPosition}),!U)for(ht in U={},et)U[ht]=et[ht]instanceof Array?et[ht].slice(0):et[ht];if(!T||!T.length)return f.utils.noData(L,M),L;M.selectAll(".nv-noData").remove();var G=M.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([T]),p=G.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),_=G.select("g");p.append("g").attr("class","nv-parallelCoordinatesWrap"),p.append("g").attr("class","nv-legendWrap"),_.select("rect").attr("width",I).attr("height",ot>0?ot:0),W?(u.width(I).color(function(K){return"rgb(188,190,192)"}),_.select(".nv-legendWrap").datum(q.sort(function(K,dt){return K.originalPosition-dt.originalPosition})).call(u),!O&&u.height()!==x.top&&(x.top=u.height(),ot=f.utils.availableHeight(A,M,x)),G.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-x.top+")")):_.select(".nv-legendWrap").selectAll("*").remove(),G.attr("transform","translate("+x.left+","+x.top+")"),a.width(I).height(ot).dimensionData(q).displayBrush(rt),_.select(".nv-parallelCoordinatesWrap ").datum(T).transition().call(a),a.dispatch.on("brushEnd",function(K,dt){dt?(rt=!0,j.brushEnd(K)):rt=!1}),u.dispatch.on("stateChange",function(K){for(var dt in K)et[dt]=K[dt];j.stateChange(et),L.update()}),a.dispatch.on("dimensionsOrder",function(K){q.sort(function(ct,h){return ct.currentPosition-h.currentPosition});var dt=!1;q.forEach(function(ct,h){ct.currentPosition=h,ct.currentPosition!==ct.originalPosition&&(dt=!0)}),j.dimensionsOrder(q,dt)}),j.on("changeState",function(K){void 0!==K.disabled&&(q.forEach(function(dt,ct){dt.disabled=K.disabled[ct]}),et.disabled=K.disabled),L.update()})}),R.renderEnd("parraleleCoordinateChart immediate"),L}return C.contentGenerator(function(P){var T='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+P.color+'"></div></td><td><strong>'+P.key+"</strong></td></tr></thead>";return 0!==P.series.length&&(T+='<tbody><tr><td height ="10px"></td></tr>',P.series.forEach(function(M){T=T+'<tr><td class="legend-color-guide"><div style="background-color:'+M.color+'"></div></td><td class="key">'+M.key+'</td><td class="value">'+M.value+"</td></tr>"}),T+="</tbody>"),T+="</table>"}),a.dispatch.on("elementMouseover.tooltip",function(P){var T={key:P.label,color:P.color,series:[]};P.values&&(Object.keys(P.values).forEach(function(M){var I,b=P.dimensions.filter(function(ot){return ot.key===M})[0];b&&(I=isNaN(P.values[M])||isNaN(parseFloat(P.values[M]))?lt:b.format(P.values[M]),T.series.push({idx:b.currentPosition,key:M,value:I,color:b.color}))}),T.series.sort(function(M,b){return M.idx-b.idx})),C.data(T).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(P){C.hidden(!0)}),a.dispatch.on("elementMousemove.tooltip",function(){C()}),L.dispatch=j,L.parallelCoordinates=a,L.legend=u,L.tooltip=C,L.options=f.utils.optionsFunc.bind(L),L._options=Object.create({},{width:{get:function(){return v},set:function(P){v=P}},height:{get:function(){return A},set:function(P){A=P}},showLegend:{get:function(){return W},set:function(P){W=P}},defaultState:{get:function(){return U},set:function(P){U=P}},dimensionData:{get:function(){return q},set:function(P){q=P}},displayBrush:{get:function(){return rt},set:function(P){rt=P}},noData:{get:function(){return Z},set:function(P){Z=P}},nanValue:{get:function(){return lt},set:function(P){lt=P}},margin:{get:function(){return x},set:function(P){void 0!==P.top&&(x.top=P.top,O=P.top),x.right=void 0!==P.right?P.right:x.right,x.bottom=void 0!==P.bottom?P.bottom:x.bottom,x.left=void 0!==P.left?P.left:x.left}},color:{get:function(){return tt},set:function(P){tt=f.utils.getColor(P),u.color(tt),a.color(tt)}}}),f.utils.inheritOptions(L,a),f.utils.initOptions(L),L},f.models.pie=function(){"use strict";var a={top:0,right:0,bottom:0,left:0},u=500,C=500,m=function(_){return _.x},x=function(_){return _.y},O=Math.floor(1e4*Math.random()),v=null,A=f.utils.defaultColor(),W=d3.format(",.2f"),tt=!0,et=!1,q="key",rt=.02,U=!1,Z=!1,lt=!1,j=!0,F=0,R=!1,B=!1,w=!1,L=!1,P=0,T=.5,M=250,b=[],I=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),ot=[],ht=[],G=f.utils.renderWatch(I);function p(_){return G.reset(),_.each(function(D){var K=u-a.left-a.right,dt=C-a.top-a.bottom,ct=Math.min(K,dt)/2,h=[],S=[];if(v=d3.select(this),0===b.length)for(var at=ct-ct/10,st=T*ct,Q=0;Q<D[0].length;Q++)h.push(at),S.push(st);else j?(h=b.map(function(Lt){return(Lt.outer-Lt.outer/10)*ct}),S=b.map(function(Lt){return(Lt.inner-Lt.inner/10)*ct}),T=d3.min(b.map(function(Lt){return Lt.inner-Lt.inner/10}))):(h=b.map(function(Lt){return Lt.outer*ct}),S=b.map(function(Lt){return Lt.inner*ct}),T=d3.min(b.map(function(Lt){return Lt.inner})));f.utils.initSVG(v);var J=v.selectAll(".nv-wrap.nv-pie").data(D),Ct=J.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+O).append("g"),St=J.select("g"),gt=Ct.append("g").attr("class","nv-pie");for(Ct.append("g").attr("class","nv-pieLabels"),J.attr("transform","translate("+a.left+","+a.top+")"),St.select(".nv-pie").attr("transform","translate("+K/2+","+dt/2+")"),St.select(".nv-pieLabels").attr("transform","translate("+K/2+","+dt/2+")"),v.on("click",function(Lt,Xt){I.chartClick({data:Lt,index:Xt,pos:d3.event,id:O})}),ot=[],ht=[],Q=0;Q<D[0].length;Q++){var E=d3.svg.arc().outerRadius(h[Q]),ut=d3.svg.arc().outerRadius(h[Q]+5);!1!==B&&(E.startAngle(B),ut.startAngle(B)),!1!==L&&(E.endAngle(L),ut.endAngle(L)),Z&&(E.innerRadius(S[Q]),ut.innerRadius(S[Q])),E.cornerRadius&&P&&(E.cornerRadius(P),ut.cornerRadius(P)),ot.push(E),ht.push(ut)}var z=d3.layout.pie().sort(null).value(function(Lt){return Lt.disabled?0:x(Lt)});z.padAngle&&w&&z.padAngle(w),Z&&lt&&(gt.append("text").attr("class","nv-pie-title"),J.select(".nv-pie-title").style("text-anchor","middle").text(function(Lt){return lt}).style("font-size",Math.min(K,dt)*T*2/(lt.length+2)+"px").attr("dy","0.35em").attr("transform",function(Lt,Xt){return"translate(0, "+F+")"}));var ft=J.select(".nv-pie").selectAll(".nv-slice").data(z),xt=J.select(".nv-pieLabels").selectAll(".nv-label").data(z);ft.exit().remove(),xt.exit().remove();var jt=ft.enter().append("g");if(jt.attr("class","nv-slice"),jt.on("mouseover",function(Lt,Xt){d3.select(this).classed("hover",!0),j&&d3.select(this).select("path").transition().duration(70).attr("d",ht[Xt]),I.elementMouseover({data:Lt.data,index:Xt,color:d3.select(this).style("fill"),percent:(Lt.endAngle-Lt.startAngle)/(2*Math.PI)})}),jt.on("mouseout",function(Lt,Xt){d3.select(this).classed("hover",!1),j&&d3.select(this).select("path").transition().duration(50).attr("d",ot[Xt]),I.elementMouseout({data:Lt.data,index:Xt})}),jt.on("mousemove",function(Lt,Xt){I.elementMousemove({data:Lt.data,index:Xt})}),jt.on("click",function(Lt,Xt){I.elementClick({data:Lt.data,index:Xt,color:d3.select(this).style("fill"),event:d3.event,element:this})}),jt.on("dblclick",function(Lt,Xt){I.elementDblClick({data:Lt.data,index:Xt,color:d3.select(this).style("fill")})}),ft.attr("fill",function(Lt,Xt){return A(Lt.data,Xt)}),ft.attr("stroke",function(Lt,Xt){return A(Lt.data,Xt)}),jt.append("path").each(function(Lt){this._current=Lt}),ft.select("path").transition().duration(M).attr("d",function(Lt,Xt){return ot[Xt](Lt)}).attrTween("d",function(Lt,Xt){Lt.endAngle=isNaN(Lt.endAngle)?0:Lt.endAngle,Lt.startAngle=isNaN(Lt.startAngle)?0:Lt.startAngle,Z||(Lt.innerRadius=0);var zt=d3.interpolate(this._current,Lt);return this._current=zt(0),function(Ft){return ot[Xt](zt(Ft))}}),tt){var _t=[];for(Q=0;Q<D[0].length;Q++)_t.push(ot[Q]),et?Z&&(_t[Q]=d3.svg.arc().outerRadius(ot[Q].outerRadius()),!1!==B&&_t[Q].startAngle(B),!1!==L&&_t[Q].endAngle(L)):Z||_t[Q].innerRadius(0);xt.enter().append("g").classed("nv-label",!0).each(function(Lt,Xt){var zt=d3.select(this);zt.attr("transform",function(Ft,ae){if(R){Ft.outerRadius=h[ae]+10,Ft.innerRadius=h[ae]+15;var ue=(Ft.startAngle+Ft.endAngle)/2*(180/Math.PI);return(Ft.startAngle+Ft.endAngle)/2<Math.PI?ue-=90:ue+=90,"translate("+_t[ae].centroid(Ft)+") rotate("+ue+")"}return Ft.outerRadius=ct+10,Ft.innerRadius=ct+15,"translate("+_t[ae].centroid(Ft)+")"}),zt.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),zt.append("text").style("text-anchor",R?(Lt.startAngle+Lt.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var Pt={},Mt=function(Lt){return 140*Math.floor(Lt[0]/140)+","+14*Math.floor(Lt[1]/14)},Ht=function(Lt){return(Lt.endAngle-Lt.startAngle)/(2*Math.PI)};xt.watchTransition(G,"pie labels").attr("transform",function(Lt,Xt){if(R){Lt.outerRadius=h[Xt]+10,Lt.innerRadius=h[Xt]+15;var zt=(Lt.startAngle+Lt.endAngle)/2*(180/Math.PI);return(Lt.startAngle+Lt.endAngle)/2<Math.PI?zt-=90:zt+=90,"translate("+_t[Xt].centroid(Lt)+") rotate("+zt+")"}Lt.outerRadius=ct+10,Lt.innerRadius=ct+15;var Ft=_t[Xt].centroid(Lt),ae=Ht(Lt);if(Lt.value&&ae>=rt){var ue=Mt(Ft);Pt[ue]&&(Ft[1]-=14),Pt[Mt(Ft)]=!0}return"translate("+Ft+")"}),xt.select(".nv-label text").style("text-anchor",function(Lt,Xt){return R?(Lt.startAngle+Lt.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(Lt,Xt){var zt=Ht(Lt),Ft="";if(!Lt.value||zt<rt)return"";if("function"==typeof q)Ft=q(Lt,Xt,{key:m(Lt.data),value:x(Lt.data),percent:W(zt)});else switch(q){case"key":Ft=m(Lt.data);break;case"value":Ft=W(x(Lt.data));break;case"percent":Ft=d3.format("%")(zt)}return Ft}),U&&xt.each(function(Lt,Xt){if(this.getBBox){var zt=this.getBBox(),Ft=_t[Xt].centroid(Lt),ae={x:Ft[0]+zt.x,y:Ft[1]+zt.y},ue={x:ae.x+zt.width,y:ae.y},xe={x:ae.x,y:ae.y+zt.height},ge={x:ae.x+zt.width,y:ae.y+zt.height};Lt.visible=f.utils.pointIsInArc(ae,Lt,E)&&f.utils.pointIsInArc(ue,Lt,E)&&f.utils.pointIsInArc(xe,Lt,E)&&f.utils.pointIsInArc(ge,Lt,E)}}).style("display",function(Lt){return Lt.visible?null:"none"})}}),G.renderEnd("pie immediate"),p}return p.dispatch=I,p.options=f.utils.optionsFunc.bind(p),p._options=Object.create({},{arcsRadius:{get:function(){return b},set:function(_){b=_}},width:{get:function(){return u},set:function(_){u=_}},height:{get:function(){return C},set:function(_){C=_}},showLabels:{get:function(){return tt},set:function(_){tt=_}},title:{get:function(){return lt},set:function(_){lt=_}},titleOffset:{get:function(){return F},set:function(_){F=_}},labelThreshold:{get:function(){return rt},set:function(_){rt=_}},hideOverlapLabels:{get:function(){return U},set:function(_){U=_}},valueFormat:{get:function(){return W},set:function(_){W=_}},x:{get:function(){return m},set:function(_){m=_}},id:{get:function(){return O},set:function(_){O=_}},endAngle:{get:function(){return L},set:function(_){L=_}},startAngle:{get:function(){return B},set:function(_){B=_}},padAngle:{get:function(){return w},set:function(_){w=_}},cornerRadius:{get:function(){return P},set:function(_){P=_}},donutRatio:{get:function(){return T},set:function(_){T=_}},labelsOutside:{get:function(){return et},set:function(_){et=_}},labelSunbeamLayout:{get:function(){return R},set:function(_){R=_}},donut:{get:function(){return Z},set:function(_){Z=_}},growOnHover:{get:function(){return j},set:function(_){j=_}},pieLabelsOutside:{get:function(){return et},set:function(_){et=_,f.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return et},set:function(_){et=_,f.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return W},set:function(_){W=_,f.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return a},set:function(_){a.top=void 0!==_.top?_.top:a.top,a.right=void 0!==_.right?_.right:a.right,a.bottom=void 0!==_.bottom?_.bottom:a.bottom,a.left=void 0!==_.left?_.left:a.left}},duration:{get:function(){return M},set:function(_){G.reset(M=_)}},y:{get:function(){return x},set:function(_){x=d3.functor(_)}},color:{get:function(){return A},set:function(_){A=f.utils.getColor(_)}},labelType:{get:function(){return q},set:function(_){q=_||"key"}}}),f.utils.initOptions(p),p},f.models.pieChart=function(){"use strict";var a=f.models.pie(),u=f.models.legend(),C=f.models.tooltip(),m={top:30,right:20,bottom:20,left:20},x=null,O=null,v=null,A=!1,W=!0,tt="top",et=f.utils.defaultColor(),q=f.utils.state(),rt=null,U=null,Z=250,lt=d3.dispatch("stateChange","changeState","renderEnd");C.duration(0).headerEnabled(!1).valueFormatter(function(w,L){return a.valueFormat()(w,L)});var j=f.utils.renderWatch(lt);function B(w){return j.reset(),j.models(a),w.each(function(L){var P=d3.select(this);f.utils.initSVG(P);var I,M=f.utils.availableWidth(O,P,m),b=f.utils.availableHeight(v,P,m);if(B.update=function(){P.transition().call(B)},B.container=this,q.setter(function(w){return function(L){void 0!==L.active&&w.forEach(function(P,T){P.disabled=!L.active[T]})}}(L),B.update).getter(function(w){return function(){return{active:w.map(function(L){return!L.disabled})}}}(L)).update(),q.disabled=L.map(function(D){return!!D.disabled}),!rt)for(I in rt={},q)rt[I]=q[I]instanceof Array?q[I].slice(0):q[I];if(!L||!L.length)return f.utils.noData(B,P),B;P.selectAll(".nv-noData").remove();var ot=P.selectAll("g.nv-wrap.nv-pieChart").data([L]),ht=ot.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),G=ot.select("g");if(ht.append("g").attr("class","nv-pieWrap"),ht.append("g").attr("class","nv-legendWrap"),W)if("top"===tt)u.width(M).key(a.x()),ot.select(".nv-legendWrap").datum(L).call(u),!x&&u.height()!==m.top&&(m.top=u.height(),b=f.utils.availableHeight(v,P,m)),ot.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")");else if("right"===tt){var p=f.models.legend().width();M/2<p&&(p=M/2),u.height(b).key(a.x()),u.width(p),M-=u.width(),ot.select(".nv-legendWrap").datum(L).call(u).attr("transform","translate("+M+",0)")}else"bottom"===tt&&(u.width(M).key(a.x()),ot.select(".nv-legendWrap").datum(L).call(u),m.bottom=u.height(),b=f.utils.availableHeight(v,P,m),ot.select(".nv-legendWrap").attr("transform","translate(0,"+b+")"));else G.select(".nv-legendWrap").selectAll("*").remove();ot.attr("transform","translate("+m.left+","+m.top+")"),a.width(M).height(b);var _=G.select(".nv-pieWrap").datum([L]);d3.transition(_).call(a),u.dispatch.on("stateChange",function(D){for(var K in D)q[K]=D[K];lt.stateChange(q),B.update()}),lt.on("changeState",function(D){void 0!==D.disabled&&(L.forEach(function(K,dt){K.disabled=D.disabled[dt]}),q.disabled=D.disabled),B.update()})}),j.renderEnd("pieChart immediate"),B}return a.dispatch.on("elementMouseover.tooltip",function(w){w.series={key:B.x()(w.data),value:B.y()(w.data),color:w.color,percent:w.percent},A||(delete w.percent,delete w.series.percent),C.data(w).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(w){C.hidden(!0)}),a.dispatch.on("elementMousemove.tooltip",function(w){C()}),B.legend=u,B.dispatch=lt,B.pie=a,B.tooltip=C,B.options=f.utils.optionsFunc.bind(B),B._options=Object.create({},{width:{get:function(){return O},set:function(w){O=w}},height:{get:function(){return v},set:function(w){v=w}},noData:{get:function(){return U},set:function(w){U=w}},showTooltipPercent:{get:function(){return A},set:function(w){A=w}},showLegend:{get:function(){return W},set:function(w){W=w}},legendPosition:{get:function(){return tt},set:function(w){tt=w}},defaultState:{get:function(){return rt},set:function(w){rt=w}},color:{get:function(){return et},set:function(w){u.color(et=w),a.color(et)}},duration:{get:function(){return Z},set:function(w){j.reset(Z=w),a.duration(Z)}},margin:{get:function(){return m},set:function(w){void 0!==w.top&&(m.top=w.top,x=w.top),m.right=void 0!==w.right?w.right:m.right,m.bottom=void 0!==w.bottom?w.bottom:m.bottom,m.left=void 0!==w.left?w.left:m.left}}}),f.utils.inheritOptions(B,a),f.utils.initOptions(B),B},f.models.sankey=function(){"use strict";var a={},u=24,C=8,m=[1,1],x=[],O=[],v=!0,A=function(w){x.forEach(function(w){w.sourceLinks=[],w.targetLinks=[]}),O.forEach(function(w){var L=w.source,P=w.target;"number"==typeof L&&(L=w.source=x[w.source]),"number"==typeof P&&(P=w.target=x[w.target]),L.sourceLinks.push(w),P.targetLinks.push(w)}),x.forEach(function(w){w.value=Math.max(d3.sum(w.sourceLinks,B),d3.sum(w.targetLinks,B))}),function(){for(var L,w=x,P=0;w.length&&P<x.length;)L=[],w.forEach(function(T){T.x=P,T.dx=u,T.sourceLinks.forEach(function(M){L.indexOf(M.target)<0&&L.push(M.target)})}),w=L,++P;v&&function(w){x.forEach(function(L){L.sourceLinks.length||(L.x=w-1)})}(P),function(w){x.forEach(function(L){L.x*=w})}((m[0]-u)/(P-1))}(),function(w){var ht,L=d3.nest().key(function(ht){return ht.x}).sortKeys(d3.ascending).entries(x).map(function(ht){return ht.values});ht=d3.min(L,function(G){return(m[1]-(G.length-1)*C)/d3.sum(G,B)}),L.forEach(function(G){G.forEach(function(p,_){p.y=_,p.dy=p.value*ht})}),O.forEach(function(G){G.dy=G.value*ht}),I(),R();for(var P=1;w>0;--w)b(P*=.99),I(),R(),M(P),I(),R();function M(ht){function G(p){return(p.source.y+p.sy+p.dy/2)*p.value}L.forEach(function(p,_){p.forEach(function(D){if(D.targetLinks.length){var K=d3.sum(D.targetLinks,G)/d3.sum(D.targetLinks,B);D.y+=(K-et(D))*ht}})})}function b(ht){function G(p){return(p.target.y+p.ty+p.dy/2)*p.value}L.slice().reverse().forEach(function(p){p.forEach(function(_){if(_.sourceLinks.length){var D=d3.sum(_.sourceLinks,G)/d3.sum(_.sourceLinks,B);_.y+=(D-et(_))*ht}})})}function I(){L.forEach(function(ht){var G,p,K,_=0,D=ht.length;for(ht.sort(ot),K=0;K<D;++K)(p=_-(G=ht[K]).y)>0&&(G.y+=p),_=G.y+G.dy+C;if((p=_-C-m[1])>0)for(_=G.y-=p,K=D-2;K>=0;--K)(p=(G=ht[K]).y+G.dy+C-_)>0&&(G.y-=p),_=G.y})}function ot(ht,G){return ht.y-G.y}}(w)},tt=function(){var w=.5;function L(P){var T=P.source.x+P.source.dx,M=P.target.x,b=d3.interpolateNumber(T,M),I=b(w),ot=b(1-w),ht=P.source.y+P.sy+P.dy/2,G=P.target.y+P.ty+P.dy/2;return"M"+T+","+ht+"C"+I+","+ht+" "+ot+","+G+" "+M+","+G}return L.curvature=function(P){return arguments.length?(w=+P,L):w},L},et=function(w){return w.y+w.dy/2};function R(){function w(P,T){return P.source.y-T.source.y}function L(P,T){return P.target.y-T.target.y}x.forEach(function(P){P.sourceLinks.sort(L),P.targetLinks.sort(w)}),x.forEach(function(P){var T=0,M=0;P.sourceLinks.forEach(function(b){b.sy=T,T+=b.dy}),P.targetLinks.forEach(function(b){b.ty=M,M+=b.dy})})}function B(w){return w.value}return a.options=f.utils.optionsFunc.bind(a),a._options=Object.create({},{nodeWidth:{get:function(){return u},set:function(w){u=+w}},nodePadding:{get:function(){return C},set:function(w){C=w}},nodes:{get:function(){return x},set:function(w){x=w}},links:{get:function(){return O},set:function(w){O=w}},size:{get:function(){return m},set:function(w){m=w}},sinksRight:{get:function(){return v},set:function(w){v=w}},layout:{get:function(){A(32)},set:function(w){A(w)}},relayout:{get:function(){R()},set:function(w){}},center:{get:function(){return et()},set:function(w){"function"==typeof w&&(et=w)}},link:{get:function(){return tt()},set:function(w){return"function"==typeof w&&(tt=w),tt()}}}),f.utils.initOptions(a),a},f.models.sankeyChart=function(){"use strict";var a={top:5,right:0,bottom:5,left:0},u=f.models.sankey(),C=600,m=400,x=36,O=40,v="units",A=void 0,W=d3.format(",.0f"),tt=function(F){return W(F)+" "+v},et=d3.scale.category20(),q=function(F){return F.source.name+" \u2192 "+F.target.name+"\n"+tt(F.value)},rt=function(F){return F.color=et(F.name.replace(/ .*/,""))},U=function(F){return d3.rgb(F.color).darker(2)},Z=function(F){return F.name+"\n"+tt(F.value)},lt=function(F,R){F.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(R)};function j(F){return F.each(function(R){var B={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},w=!1,L=!1;if(("object"==typeof R.nodes&&R.nodes.length)>=0&&("object"==typeof R.links&&R.links.length)>=0&&(w=!0),R.nodes&&R.nodes.length>0&&R.links&&R.links.length>0&&(L=!0),!w)return console.error("NVD3 Sankey chart error:","invalid data format for",R),console.info("Valid data format is: ",B,JSON.stringify(B)),lt(F,"Error loading chart, data is invalid"),!1;if(!L)return lt(F,"No data available"),!1;var P=F.append("svg").attr("width",C).attr("height",m).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");u.nodeWidth(x).nodePadding(O).size([C,m]);var T=u.link();u.nodes(R.nodes).links(R.links).layout(32).center(A);var M=P.append("g").selectAll(".link").data(R.links).enter().append("path").attr("class","link").attr("d",T).style("stroke-width",function(ot){return Math.max(1,ot.dy)}).sort(function(ot,ht){return ht.dy-ot.dy});M.append("title").text(q);var b=P.append("g").selectAll(".node").data(R.nodes).enter().append("g").attr("class","node").attr("transform",function(ot){return"translate("+ot.x+","+ot.y+")"}).call(d3.behavior.drag().origin(function(ot){return ot}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",function(ot){d3.select(this).attr("transform","translate("+ot.x+","+(ot.y=Math.max(0,Math.min(m-ot.dy,d3.event.y)))+")"),u.relayout(),M.attr("d",T)}));b.append("rect").attr("height",function(ot){return ot.dy}).attr("width",u.nodeWidth()).style("fill",rt).style("stroke",U).append("title").text(Z),b.append("text").attr("x",-6).attr("y",function(ot){return ot.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(ot){return ot.name}).filter(function(ot){return ot.x<C/2}).attr("x",6+u.nodeWidth()).attr("text-anchor","start")}),j}return j.options=f.utils.optionsFunc.bind(j),j._options=Object.create({},{units:{get:function(){return v},set:function(F){v=F}},width:{get:function(){return C},set:function(F){C=F}},height:{get:function(){return m},set:function(F){m=F}},format:{get:function(){return tt},set:function(F){tt=F}},linkTitle:{get:function(){return q},set:function(F){q=F}},nodeWidth:{get:function(){return x},set:function(F){x=F}},nodePadding:{get:function(){return O},set:function(F){O=F}},center:{get:function(){return A},set:function(F){A=F}},margin:{get:function(){return a},set:function(F){a.top=void 0!==F.top?F.top:a.top,a.right=void 0!==F.right?F.right:a.right,a.bottom=void 0!==F.bottom?F.bottom:a.bottom,a.left=void 0!==F.left?F.left:a.left}},nodeStyle:{get:function(){return{}},set:function(F){rt=void 0!==F.fillColor?F.fillColor:rt,U=void 0!==F.strokeColor?F.strokeColor:U,Z=void 0!==F.title?F.title:Z}}}),f.utils.initOptions(j),j},f.models.scatter=function(){"use strict";var S,at,st,Q,J,yt,Ct,St,a={top:0,right:0,bottom:0,left:0},u=null,C=null,m=f.utils.defaultColor(),x=null,O=Math.floor(1e5*Math.random()),v=null,A=d3.scale.linear(),W=d3.scale.linear(),tt=d3.scale.linear(),et=function(_t){return _t.x},q=function(_t){return _t.y},rt=function(_t){return _t.size||1},U=function(_t){return _t.shape||"circle"},Z=[],lt=[],j=[],F=!0,R=function(_t){return!_t.notActive},B=!1,w=.1,L=!1,P=!0,T=!1,M=function(){return 25},b=null,I=null,ot=null,ht=null,G=null,p=null,_=!1,D=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),K=!0,dt=250,ct=300,h=!1,gt=!1,E=f.utils.renderWatch(D,dt),ut=[16,256],z={};function ft(_t){var Pt;return z[Pt=_t[0].series+":"+_t[1]]=z[Pt]||{}}function xt(_t){delete z[_t[0].series+":"+_t[1]]}function jt(_t){var Pt,Bt,ne,Mt=ft(_t),Ht=!1;for(Pt=1;Pt<arguments.length;Pt+=2)Bt=arguments[Pt],ne=arguments[Pt+1](_t[0],_t[1]),(Mt[Bt]!==ne||!Mt.hasOwnProperty(Bt))&&(Mt[Bt]=ne,Ht=!0);return Ht}function Ut(_t){return E.reset(),_t.each(function(Pt){v=d3.select(this);var Bt=f.utils.availableWidth(u,v,a),ne=f.utils.availableHeight(C,v,a);f.utils.initSVG(v),Pt.forEach(function(Dt,se){Dt.values.forEach(function(kt){kt.series=se})});var Mt="function"==typeof Ut.yScale().base,Ht=b&&I&&G?[]:d3.merge(Pt.map(function(Dt){return Dt.values.map(function(se,kt){return{x:et(se,kt),y:q(se,kt),size:rt(se,kt)}})}));if(A.domain(b||d3.extent(Ht.map(function(Dt){return Dt.x}).concat(Z))),A.range(B&&Pt[0]?ot||[(Bt*w+Bt)/(2*Pt[0].values.length),Bt-Bt*(1+w)/(2*Pt[0].values.length)]:ot||[0,Bt]),Mt){var Qt=d3.min(Ht.map(function(Dt){if(0!==Dt.y)return Dt.y}));W.clamp(!0).domain(I||d3.extent(Ht.map(function(Dt){return 0!==Dt.y?Dt.y:.1*Qt}).concat(lt))).range(ht||[ne,0])}else W.domain(I||d3.extent(Ht.map(function(Dt){return Dt.y}).concat(lt))).range(ht||[ne,0]);tt.domain(G||d3.extent(Ht.map(function(Dt){return Dt.size}).concat(j))).range(p||ut),_=A.domain()[0]===A.domain()[1]||W.domain()[0]===W.domain()[1],A.domain()[0]===A.domain()[1]&&(A.domain()[0]?A.domain([A.domain()[0]-.01*A.domain()[0],A.domain()[1]+.01*A.domain()[1]]):A.domain([-1,1])),W.domain()[0]===W.domain()[1]&&(W.domain()[0]?W.domain([W.domain()[0]-.01*W.domain()[0],W.domain()[1]+.01*W.domain()[1]]):W.domain([-1,1])),isNaN(A.domain()[0])&&A.domain([-1,1]),isNaN(W.domain()[0])&&W.domain([-1,1]),S=S||A,at=at||W,st=st||tt;var re=A(1)!==S(1)||W(1)!==at(1)||tt(1)!==st(1);Ct=Ct||C;var Lt=(yt=yt||u)!==u||Ct!==C,Xt=(Q=Q||[])[0]!==A.domain()[0]||Q[1]!==A.domain()[1];Q=A.domain(),J=J||[],Xt=Xt||J[0]!==W.domain()[0]||J[1]!==W.domain()[1],J=W.domain();var zt=v.selectAll("g.nv-wrap.nv-scatter").data([Pt]),Ft=zt.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+O),ae=Ft.append("defs"),ue=Ft.append("g"),xe=zt.select("g");function ge(){if(gt=!1,!F)return!1;if(!0===K){zt.select(".nv-point-paths").selectAll("path").remove();var Dt=d3.merge(Pt.map(function(It,Kt){return It.values.map(function(pe,ie){var te=et(pe,ie),de=q(pe,ie);return[f.utils.NaNtoZero(A(te))+1e-4*Math.random(),f.utils.NaNtoZero(W(de))+1e-4*Math.random(),Kt,ie,pe]}).filter(function(pe,ie){return R(pe[4],ie)})}));if(0==Dt.length)return!1;Dt.length<3&&(Dt.push([A.range()[0]-20,W.range()[0]-20,null,null]),Dt.push([A.range()[1]+20,W.range()[1]+20,null,null]),Dt.push([A.range()[0]-20,W.range()[0]+20,null,null]),Dt.push([A.range()[1]+20,W.range()[1]-20,null,null]));var se=d3.geom.polygon([[-10,-10],[-10,C+10],[u+10,C+10],[u+10,-10]]);Dt=Dt.sort(function(It,Kt){return It[0]-Kt[0]||It[1]-Kt[1]});for(var Ot=0;Ot<Dt.length-1;)Math.abs(Dt[Ot][0]-Dt[Ot+1][0])<1e-4&&Math.abs(Dt[Ot][1]-Dt[Ot+1][1])<1e-4?Dt.splice(Ot+1,1):Ot++;var Jt=d3.geom.voronoi(Dt).map(function(It,Kt){return{data:se.clip(It),series:Dt[Kt][2],point:Dt[Kt][3]}}),ee=zt.select(".nv-point-paths").selectAll("path").data(Jt),fe=ee.enter().append("svg:path").attr("d",function(It){return It&&It.data&&0!==It.data.length?"M"+It.data.join(",")+"Z":"M 0 0"}).attr("id",function(It,Kt){return"nv-path-"+Kt}).attr("clip-path",function(It,Kt){return"url(#nv-clip-"+O+"-"+Kt+")"});T&&fe.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),P&&(zt.select(".nv-point-clips").selectAll("*").remove(),zt.select(".nv-point-clips").selectAll("clipPath").data(Dt).enter().append("svg:clipPath").attr("id",function(It,Kt){return"nv-clip-"+O+"-"+Kt}).append("svg:circle").attr("cx",function(It){return It[0]}).attr("cy",function(It){return It[1]}).attr("r",M));var ce=function(It,Kt,pe){if(gt)return 0;var ie=Pt[Kt.series];if(void 0!==ie){var te=ie.values[Kt.point];te.color=m(ie,Kt.series),te.x=et(te),te.y=q(te);var de=v.node().getBoundingClientRect(),tr=window.pageYOffset||document.documentElement.scrollTop,Bn=window.pageXOffset||document.documentElement.scrollLeft;pe({point:te,series:ie,pos:{left:A(et(te,Kt.point))+de.left+Bn+a.left+10,top:W(q(te,Kt.point))+de.top+tr+a.top+10},relativePos:[A(et(te,Kt.point))+a.left,W(q(te,Kt.point))+a.top],seriesIndex:Kt.series,pointIndex:Kt.point,event:d3.event,element:It})}};ee.on("click",function(It){ce(this,It,D.elementClick)}).on("dblclick",function(It){ce(this,It,D.elementDblClick)}).on("mouseover",function(It){ce(this,It,D.elementMouseover)}).on("mouseout",function(It,Kt){ce(this,It,D.elementMouseout)})}else zt.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(It,Kt){if(gt||!Pt[It.series])return 0;var pe=Pt[It.series],ie=pe.values[Kt];D.elementClick({point:ie,series:pe,pos:[A(et(ie,Kt))+a.left,W(q(ie,Kt))+a.top],relativePos:[A(et(ie,Kt))+a.left,W(q(ie,Kt))+a.top],seriesIndex:It.series,pointIndex:Kt,event:d3.event,element:this})}).on("dblclick",function(It,Kt){if(gt||!Pt[It.series])return 0;var pe=Pt[It.series],ie=pe.values[Kt];D.elementDblClick({point:ie,series:pe,pos:[A(et(ie,Kt))+a.left,W(q(ie,Kt))+a.top],relativePos:[A(et(ie,Kt))+a.left,W(q(ie,Kt))+a.top],seriesIndex:It.series,pointIndex:Kt})}).on("mouseover",function(It,Kt){if(gt||!Pt[It.series])return 0;var pe=Pt[It.series],ie=pe.values[Kt];D.elementMouseover({point:ie,series:pe,pos:[A(et(ie,Kt))+a.left,W(q(ie,Kt))+a.top],relativePos:[A(et(ie,Kt))+a.left,W(q(ie,Kt))+a.top],seriesIndex:It.series,pointIndex:Kt,color:m(It,Kt)})}).on("mouseout",function(It,Kt){if(gt||!Pt[It.series])return 0;var pe=Pt[It.series],ie=pe.values[Kt];D.elementMouseout({point:ie,series:pe,pos:[A(et(ie,Kt))+a.left,W(q(ie,Kt))+a.top],relativePos:[A(et(ie,Kt))+a.left,W(q(ie,Kt))+a.top],seriesIndex:It.series,pointIndex:Kt,color:m(It,Kt)})})}zt.classed("nv-single-point",_),ue.append("g").attr("class","nv-groups"),ue.append("g").attr("class","nv-point-paths"),Ft.append("g").attr("class","nv-point-clips"),zt.attr("transform","translate("+a.left+","+a.top+")"),ae.append("clipPath").attr("id","nv-edge-clip-"+O).append("rect").attr("transform","translate( -10, -10)"),zt.select("#nv-edge-clip-"+O+" rect").attr("width",Bt+20).attr("height",ne>0?ne+20:0),xe.attr("clip-path",L?"url(#nv-edge-clip-"+O+")":""),gt=!0;var be=zt.select(".nv-groups").selectAll(".nv-group").data(function(Dt){return Dt},function(Dt){return Dt.key});be.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),be.exit().remove(),be.attr("class",function(Dt,se){return(Dt.classed||"")+" nv-group nv-series-"+se}).classed("nv-noninteractive",!F).classed("hover",function(Dt){return Dt.hover}),be.watchTransition(E,"scatter: groups").style("fill",function(Dt,se){return m(Dt,se)}).style("stroke",function(Dt,se){return Dt.pointBorderColor||x||m(Dt,se)}).style("stroke-opacity",1).style("fill-opacity",.5);var Ce=be.selectAll("path.nv-point").data(function(Dt){return Dt.values.map(function(se,kt){return[se,kt]}).filter(function(se,kt){return R(se[0],kt)})});if(Ce.enter().append("path").attr("class",function(Dt){return"nv-point nv-point-"+Dt[1]}).style("fill",function(Dt){return Dt.color}).style("stroke",function(Dt){return Dt.color}).attr("transform",function(Dt){return"translate("+f.utils.NaNtoZero(S(et(Dt[0],Dt[1])))+","+f.utils.NaNtoZero(at(q(Dt[0],Dt[1])))+")"}).attr("d",f.utils.symbol().type(function(Dt){return U(Dt[0])}).size(function(Dt){return tt(rt(Dt[0],Dt[1]))})),Ce.exit().each(xt).remove(),be.exit().selectAll("path.nv-point").watchTransition(E,"scatter exit").attr("transform",function(Dt){return"translate("+f.utils.NaNtoZero(A(et(Dt[0],Dt[1])))+","+f.utils.NaNtoZero(W(q(Dt[0],Dt[1])))+")"}).remove(),Ce.filter(function(Dt){return jt(Dt,"x",et,"y",q)||re||Lt||Xt}).watchTransition(E,"scatter points").attr("transform",function(Dt){return"translate("+f.utils.NaNtoZero(A(et(Dt[0],Dt[1])))+","+f.utils.NaNtoZero(W(q(Dt[0],Dt[1])))+")"}),Ce.filter(function(Dt){return jt(Dt,"shape",U,"size",rt)||re||Lt||Xt}).watchTransition(E,"scatter points").attr("d",f.utils.symbol().type(function(Dt){return U(Dt[0])}).size(function(Dt){return tt(rt(Dt[0],Dt[1]))})),h){var ke=be.selectAll(".nv-label").data(function(Dt){return Dt.values.map(function(se,kt){return[se,kt]}).filter(function(se,kt){return R(se[0],kt)})});ke.enter().append("text").style("fill",function(Dt,se){return Dt.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(Dt){return"translate("+(f.utils.NaNtoZero(S(et(Dt[0],Dt[1])))+Math.sqrt(tt(rt(Dt[0],Dt[1]))/Math.PI)+2)+","+f.utils.NaNtoZero(at(q(Dt[0],Dt[1])))+")"}).text(function(Dt,se){return Dt[0].label}),ke.exit().remove(),be.exit().selectAll("path.nv-label").watchTransition(E,"scatter exit").attr("transform",function(Dt){return"translate("+(f.utils.NaNtoZero(A(et(Dt[0],Dt[1])))+Math.sqrt(tt(rt(Dt[0],Dt[1]))/Math.PI)+2)+","+f.utils.NaNtoZero(W(q(Dt[0],Dt[1])))+")"}).remove(),ke.each(function(Dt){d3.select(this).classed("nv-label",!0).classed("nv-label-"+Dt[1],!1).classed("hover",!1)}),ke.watchTransition(E,"scatter labels").attr("transform",function(Dt){return"translate("+(f.utils.NaNtoZero(A(et(Dt[0],Dt[1])))+Math.sqrt(tt(rt(Dt[0],Dt[1]))/Math.PI)+2)+","+f.utils.NaNtoZero(W(q(Dt[0],Dt[1])))+")"})}ct?(clearTimeout(St),St=setTimeout(ge,ct)):ge(),S=A.copy(),at=W.copy(),st=tt.copy(),yt=u,Ct=C}),E.renderEnd("scatter immediate"),Ut}return Ut.dispatch=D,Ut.options=f.utils.optionsFunc.bind(Ut),Ut._calls=new function(){this.clearHighlights=function(){return f.dom.write(function(){v.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(_t,Pt,Bt){f.dom.write(function(){v.select(".nv-groups").selectAll(".nv-series-"+_t).selectAll(".nv-point-"+Pt).classed("hover",Bt)})}},D.on("elementMouseover.point",function(_t){F&&Ut._calls.highlightPoint(_t.seriesIndex,_t.pointIndex,!0)}),D.on("elementMouseout.point",function(_t){F&&Ut._calls.highlightPoint(_t.seriesIndex,_t.pointIndex,!1)}),Ut._options=Object.create({},{width:{get:function(){return u},set:function(_t){u=_t}},height:{get:function(){return C},set:function(_t){C=_t}},xScale:{get:function(){return A},set:function(_t){A=_t}},yScale:{get:function(){return W},set:function(_t){W=_t}},pointScale:{get:function(){return tt},set:function(_t){tt=_t}},xDomain:{get:function(){return b},set:function(_t){b=_t}},yDomain:{get:function(){return I},set:function(_t){I=_t}},pointDomain:{get:function(){return G},set:function(_t){G=_t}},xRange:{get:function(){return ot},set:function(_t){ot=_t}},yRange:{get:function(){return ht},set:function(_t){ht=_t}},pointRange:{get:function(){return p},set:function(_t){p=_t}},forceX:{get:function(){return Z},set:function(_t){Z=_t}},forceY:{get:function(){return lt},set:function(_t){lt=_t}},forcePoint:{get:function(){return j},set:function(_t){j=_t}},interactive:{get:function(){return F},set:function(_t){F=_t}},pointActive:{get:function(){return R},set:function(_t){R=_t}},padDataOuter:{get:function(){return w},set:function(_t){w=_t}},padData:{get:function(){return B},set:function(_t){B=_t}},clipEdge:{get:function(){return L},set:function(_t){L=_t}},clipVoronoi:{get:function(){return P},set:function(_t){P=_t}},clipRadius:{get:function(){return M},set:function(_t){M=_t}},showVoronoi:{get:function(){return T},set:function(_t){T=_t}},id:{get:function(){return O},set:function(_t){O=_t}},interactiveUpdateDelay:{get:function(){return ct},set:function(_t){ct=_t}},showLabels:{get:function(){return h},set:function(_t){h=_t}},pointBorderColor:{get:function(){return x},set:function(_t){x=_t}},x:{get:function(){return et},set:function(_t){et=d3.functor(_t)}},y:{get:function(){return q},set:function(_t){q=d3.functor(_t)}},pointSize:{get:function(){return rt},set:function(_t){rt=d3.functor(_t)}},pointShape:{get:function(){return U},set:function(_t){U=d3.functor(_t)}},margin:{get:function(){return a},set:function(_t){a.top=void 0!==_t.top?_t.top:a.top,a.right=void 0!==_t.right?_t.right:a.right,a.bottom=void 0!==_t.bottom?_t.bottom:a.bottom,a.left=void 0!==_t.left?_t.left:a.left}},duration:{get:function(){return dt},set:function(_t){E.reset(dt=_t)}},color:{get:function(){return m},set:function(_t){m=f.utils.getColor(_t)}},useVoronoi:{get:function(){return K},set:function(_t){!1===(K=_t)&&(P=!1)}}}),f.utils.initOptions(Ut),Ut},f.models.scatterChart=function(){"use strict";var a=f.models.scatter(),u=f.models.axis(),C=f.models.axis(),m=f.models.legend(),x=f.models.distribution(),O=f.models.distribution(),v=f.models.tooltip(),A={top:30,right:20,bottom:50,left:75},W=null,tt=null,et=null,q=null,rt=f.utils.defaultColor(),U=a.xScale(),Z=a.yScale(),lt=!1,j=!1,F=!0,R=!0,B=!0,w=!1,L=f.utils.state(),P=null,T=d3.dispatch("stateChange","changeState","renderEnd"),M=null,b=250,I=!1;a.xScale(U).yScale(Z),u.orient("bottom").tickPadding(10),C.orient(w?"right":"left").tickPadding(10),x.axis("x"),O.axis("y"),v.headerFormatter(function(K,dt){return u.tickFormat()(K,dt)}).valueFormatter(function(K,dt){return C.tickFormat()(K,dt)});var G=f.utils.renderWatch(T,b);function D(K){return G.reset(),G.models(a),R&&G.models(u),B&&G.models(C),lt&&G.models(x),j&&G.models(O),K.each(function(dt){q=d3.select(this),f.utils.initSVG(q);var at,h=f.utils.availableWidth(tt,q,A),S=f.utils.availableHeight(et,q,A);if(D.update=function(){0===b?q.call(D):q.transition().duration(b).call(D)},D.container=this,L.setter(function(K){return function(dt){void 0!==dt.active&&K.forEach(function(ct,h){ct.disabled=!dt.active[h]})}}(dt),D.update).getter(function(K){return function(){return{active:K.map(function(dt){return!dt.disabled})}}}(dt)).update(),L.disabled=dt.map(function(E){return!!E.disabled}),!P)for(at in P={},L)P[at]=L[at]instanceof Array?L[at].slice(0):L[at];if(!dt||!dt.length||!dt.filter(function(E){return E.values.length}).length)return f.utils.noData(D,q),G.renderEnd("scatter immediate"),D;q.selectAll(".nv-noData").remove(),U=a.xScale(),Z=a.yScale();var st=q.selectAll("g.nv-wrap.nv-scatterChart").data([dt]),J=st.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+a.id()).append("g"),yt=st.select("g");J.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),J.append("g").attr("class","nv-x nv-axis"),J.append("g").attr("class","nv-y nv-axis"),J.append("g").attr("class","nv-scatterWrap"),J.append("g").attr("class","nv-regressionLinesWrap"),J.append("g").attr("class","nv-distWrap"),J.append("g").attr("class","nv-legendWrap"),w&&yt.select(".nv-y.nv-axis").attr("transform","translate("+h+",0)"),F?(m.width(h),st.select(".nv-legendWrap").datum(dt).call(m),!W&&m.height()!==A.top&&(A.top=m.height(),S=f.utils.availableHeight(et,q,A)),st.select(".nv-legendWrap").attr("transform","translate(0,"+-A.top+")")):yt.select(".nv-legendWrap").selectAll("*").remove(),st.attr("transform","translate("+A.left+","+A.top+")"),a.width(h).height(S).color(dt.map(function(E,ut){return E.color=E.color||rt(E,ut),E.color}).filter(function(E,ut){return!dt[ut].disabled})).showLabels(I),st.select(".nv-scatterWrap").datum(dt.filter(function(E){return!E.disabled})).call(a),st.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+a.id()+")");var St=st.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(E){return E});St.enter().append("g").attr("class","nv-regLines");var gt=St.selectAll(".nv-regLine").data(function(E){return[E]});gt.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),gt.filter(function(E){return E.intercept&&E.slope}).watchTransition(G,"scatterPlusLineChart: regline").attr("x1",U.range()[0]).attr("x2",U.range()[1]).attr("y1",function(E,ut){return Z(U.domain()[0]*E.slope+E.intercept)}).attr("y2",function(E,ut){return Z(U.domain()[1]*E.slope+E.intercept)}).style("stroke",function(E,ut,z){return rt(E,z)}).style("stroke-opacity",function(E,ut){return E.disabled||void 0===E.slope||void 0===E.intercept?0:1}),R&&(u.scale(U)._ticks(f.utils.calcTicksX(h/100,dt)).tickSize(-S,0),yt.select(".nv-x.nv-axis").attr("transform","translate(0,"+Z.range()[0]+")").call(u)),B&&(C.scale(Z)._ticks(f.utils.calcTicksY(S/36,dt)).tickSize(-h,0),yt.select(".nv-y.nv-axis").call(C)),lt&&(x.getData(a.x()).scale(U).width(h).color(dt.map(function(E,ut){return E.color||rt(E,ut)}).filter(function(E,ut){return!dt[ut].disabled})),J.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),yt.select(".nv-distributionX").attr("transform","translate(0,"+Z.range()[0]+")").datum(dt.filter(function(E){return!E.disabled})).call(x)),j&&(O.getData(a.y()).scale(Z).width(S).color(dt.map(function(E,ut){return E.color||rt(E,ut)}).filter(function(E,ut){return!dt[ut].disabled})),J.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),yt.select(".nv-distributionY").attr("transform","translate("+(w?h:-O.size())+",0)").datum(dt.filter(function(E){return!E.disabled})).call(O)),m.dispatch.on("stateChange",function(E){for(var ut in E)L[ut]=E[ut];T.stateChange(L),D.update()}),T.on("changeState",function(E){void 0!==E.disabled&&(dt.forEach(function(ut,z){ut.disabled=E.disabled[z]}),L.disabled=E.disabled),D.update()}),a.dispatch.on("elementMouseout.tooltip",function(E){v.hidden(!0),q.select(".nv-chart-"+a.id()+" .nv-series-"+E.seriesIndex+" .nv-distx-"+E.pointIndex).attr("y1",0),q.select(".nv-chart-"+a.id()+" .nv-series-"+E.seriesIndex+" .nv-disty-"+E.pointIndex).attr("x2",O.size())}),a.dispatch.on("elementMouseover.tooltip",function(E){q.select(".nv-series-"+E.seriesIndex+" .nv-distx-"+E.pointIndex).attr("y1",E.relativePos[1]-S),q.select(".nv-series-"+E.seriesIndex+" .nv-disty-"+E.pointIndex).attr("x2",E.relativePos[0]+x.size()),v.data(E).hidden(!1)}),U.copy(),Z.copy()}),G.renderEnd("scatter with line immediate"),D}return D.dispatch=T,D.scatter=a,D.legend=m,D.xAxis=u,D.yAxis=C,D.distX=x,D.distY=O,D.tooltip=v,D.options=f.utils.optionsFunc.bind(D),D._options=Object.create({},{width:{get:function(){return tt},set:function(K){tt=K}},height:{get:function(){return et},set:function(K){et=K}},container:{get:function(){return q},set:function(K){q=K}},showDistX:{get:function(){return lt},set:function(K){lt=K}},showDistY:{get:function(){return j},set:function(K){j=K}},showLegend:{get:function(){return F},set:function(K){F=K}},showXAxis:{get:function(){return R},set:function(K){R=K}},showYAxis:{get:function(){return B},set:function(K){B=K}},defaultState:{get:function(){return P},set:function(K){P=K}},noData:{get:function(){return M},set:function(K){M=K}},duration:{get:function(){return b},set:function(K){b=K}},showLabels:{get:function(){return I},set:function(K){I=K}},margin:{get:function(){return A},set:function(K){void 0!==K.top&&(A.top=K.top,W=K.top),A.right=void 0!==K.right?K.right:A.right,A.bottom=void 0!==K.bottom?K.bottom:A.bottom,A.left=void 0!==K.left?K.left:A.left}},rightAlignYAxis:{get:function(){return w},set:function(K){w=K,C.orient(K?"right":"left")}},color:{get:function(){return rt},set:function(K){rt=f.utils.getColor(K),m.color(rt),x.color(rt),O.color(rt)}}}),f.utils.inheritOptions(D,a),f.utils.initOptions(D),D},f.models.sparkline=function(){"use strict";var et,q,rt,U,a={top:2,right:0,bottom:2,left:0},u=400,C=32,m=null,x=!0,O=d3.scale.linear(),v=d3.scale.linear(),A=function(B){return B.x},W=function(B){return B.y},tt=f.utils.getColor(["#000"]),Z=!0,lt=!0,j=d3.dispatch("renderEnd"),F=f.utils.renderWatch(j);function R(B){return F.reset(),B.each(function(w){var L=u-a.left-a.right,P=C-a.top-a.bottom;m=d3.select(this),f.utils.initSVG(m),O.domain(et||d3.extent(w,A)).range(rt||[0,L]),v.domain(q||d3.extent(w,W)).range(U||[P,0]);var T=m.selectAll("g.nv-wrap.nv-sparkline").data([w]);T.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),T.select("g"),T.attr("transform","translate("+a.left+","+a.top+")");var ot=T.selectAll("path").data(function(G){return[G]});ot.enter().append("path"),ot.exit().remove(),ot.style("stroke",function(G,p){return G.color||tt(G,p)}).attr("d",d3.svg.line().x(function(G,p){return O(A(G,p))}).y(function(G,p){return v(W(G,p))}));var ht=T.selectAll("circle.nv-point").data(function(G){var p=G.map(function(ct,h){return W(ct,h)});function _(ct){if(-1!=ct){var h=G[ct];return h.pointIndex=ct,h}return null}var D=_(p.lastIndexOf(v.domain()[1])),K=_(p.indexOf(v.domain()[0])),dt=_(p.length-1);return[Z?K:null,Z?D:null,lt?dt:null].filter(function(ct){return null!=ct})});ht.enter().append("circle"),ht.exit().remove(),ht.attr("cx",function(G,p){return O(A(G,G.pointIndex))}).attr("cy",function(G,p){return v(W(G,G.pointIndex))}).attr("r",2).attr("class",function(G,p){return A(G,G.pointIndex)==O.domain()[1]?"nv-point nv-currentValue":W(G,G.pointIndex)==v.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),F.renderEnd("sparkline immediate"),R}return R.options=f.utils.optionsFunc.bind(R),R._options=Object.create({},{width:{get:function(){return u},set:function(B){u=B}},height:{get:function(){return C},set:function(B){C=B}},xDomain:{get:function(){return et},set:function(B){et=B}},yDomain:{get:function(){return q},set:function(B){q=B}},xRange:{get:function(){return rt},set:function(B){rt=B}},yRange:{get:function(){return U},set:function(B){U=B}},xScale:{get:function(){return O},set:function(B){O=B}},yScale:{get:function(){return v},set:function(B){v=B}},animate:{get:function(){return x},set:function(B){x=B}},showMinMaxPoints:{get:function(){return Z},set:function(B){Z=B}},showCurrentPoint:{get:function(){return lt},set:function(B){lt=B}},x:{get:function(){return A},set:function(B){A=d3.functor(B)}},y:{get:function(){return W},set:function(B){W=d3.functor(B)}},margin:{get:function(){return a},set:function(B){a.top=void 0!==B.top?B.top:a.top,a.right=void 0!==B.right?B.right:a.right,a.bottom=void 0!==B.bottom?B.bottom:a.bottom,a.left=void 0!==B.left?B.left:a.left}},color:{get:function(){return tt},set:function(B){tt=f.utils.getColor(B)}}}),R.dispatch=j,f.utils.initOptions(R),R},f.models.sparklinePlus=function(){"use strict";var x,O,a=f.models.sparkline(),u={top:15,right:100,bottom:10,left:50},C=null,m=null,v=[],A=!1,W=d3.format(",r"),tt=d3.format(",.2f"),et=!0,q=!0,rt=!1,U=null,Z=d3.dispatch("renderEnd"),lt=f.utils.renderWatch(Z);function j(F){return lt.reset(),lt.models(a),F.each(function(R){var B=d3.select(this);f.utils.initSVG(B);var w=f.utils.availableWidth(C,B,u),L=f.utils.availableHeight(m,B,u);if(j.update=function(){B.call(j)},j.container=this,!R||!R.length)return f.utils.noData(j,B),j;B.selectAll(".nv-noData").remove();var P=a.y()(R[R.length-1],R.length-1);x=a.xScale(),O=a.yScale();var T=B.selectAll("g.nv-wrap.nv-sparklineplus").data([R]),b=T.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),I=T.select("g");b.append("g").attr("class","nv-sparklineWrap"),b.append("g").attr("class","nv-valueWrap"),b.append("g").attr("class","nv-hoverArea"),T.attr("transform","translate("+u.left+","+u.top+")");var ot=I.select(".nv-sparklineWrap");if(a.width(w).height(L),ot.call(a),et){var G=I.select(".nv-valueWrap").selectAll(".nv-currentValue").data([P]);G.enter().append("text").attr("class","nv-currentValue").attr("dx",rt?-8:8).attr("dy",".9em").style("text-anchor",rt?"end":"start"),G.attr("x",w+(rt?u.right:0)).attr("y",q?function(D){return O(D)}:0).style("fill",a.color()(R[R.length-1],R.length-1)).text(tt(P))}function p(){if(!A){var D=I.selectAll(".nv-hoverValue").data(v),K=D.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);D.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),D.attr("transform",function(dt){return"translate("+x(a.x()(R[dt],dt))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),v.length&&(K.append("line").attr("x1",0).attr("y1",-u.top).attr("x2",0).attr("y2",L),K.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-u.top).attr("text-anchor","end").attr("dy",".9em"),I.select(".nv-hoverValue .nv-xValue").text(W(a.x()(R[v[0]],v[0]))),K.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-u.top).attr("text-anchor","start").attr("dy",".9em"),I.select(".nv-hoverValue .nv-yValue").text(tt(a.y()(R[v[0]],v[0]))))}}b.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!A){var D=d3.mouse(this)[0]-u.left;v=[function(dt,ct){for(var h=Math.abs(a.x()(dt[0],0)-ct),S=0,at=0;at<dt.length;at++)Math.abs(a.x()(dt[at],at)-ct)<h&&(h=Math.abs(a.x()(dt[at],at)-ct),S=at);return S}(R,Math.round(x.invert(D)))],p()}}).on("click",function(){A=!A}).on("mouseout",function(){v=[],p()}),I.select(".nv-hoverArea rect").attr("transform",function(D){return"translate("+-u.left+","+-u.top+")"}).attr("width",w+u.left+u.right).attr("height",L+u.top)}),lt.renderEnd("sparklinePlus immediate"),j}return j.dispatch=Z,j.sparkline=a,j.options=f.utils.optionsFunc.bind(j),j._options=Object.create({},{width:{get:function(){return C},set:function(F){C=F}},height:{get:function(){return m},set:function(F){m=F}},xTickFormat:{get:function(){return W},set:function(F){W=F}},yTickFormat:{get:function(){return tt},set:function(F){tt=F}},showLastValue:{get:function(){return et},set:function(F){et=F}},alignValue:{get:function(){return q},set:function(F){q=F}},rightAlignValue:{get:function(){return rt},set:function(F){rt=F}},noData:{get:function(){return U},set:function(F){U=F}},margin:{get:function(){return u},set:function(F){u.top=void 0!==F.top?F.top:u.top,u.right=void 0!==F.right?F.right:u.right,u.bottom=void 0!==F.bottom?F.bottom:u.bottom,u.left=void 0!==F.left?F.left:u.left}}}),f.utils.inheritOptions(j,a),f.utils.initOptions(j),j},f.models.stackedArea=function(){"use strict";var Z,lt,a={top:0,right:0,bottom:0,left:0},u=960,C=500,m=f.utils.defaultColor(),x=Math.floor(1e5*Math.random()),O=null,v=function(L){return L.x},A=function(L){return L.y},W=function(L,P){return!isNaN(A(L,P))&&null!==A(L,P)},tt="stack",et="zero",q="default",rt="linear",U=!1,j=f.models.scatter(),F=250,R=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");j.pointSize(2.2).pointDomain([2.2,2.2]);var B=f.utils.renderWatch(R,F);function w(L){return B.reset(),B.models(j),L.each(function(P){var T=u-a.left-a.right,M=C-a.top-a.bottom;O=d3.select(this),f.utils.initSVG(O),Z=j.xScale(),lt=j.yScale();var b=P;P.forEach(function(h,S){h.seriesIndex=S,h.values=h.values.map(function(at,st){return at.index=st,at.seriesIndex=S,at})});var I=P.filter(function(h){return!h.disabled});P=d3.layout.stack().order(q).offset(et).values(function(h){return h.values}).x(v).y(A).out(function(h,S,at){h.display={y:at,y0:S}})(I);var ot=O.selectAll("g.nv-wrap.nv-stackedarea").data([P]),ht=ot.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),G=ht.append("defs"),p=ht.append("g"),_=ot.select("g");p.append("g").attr("class","nv-areaWrap"),p.append("g").attr("class","nv-scatterWrap"),ot.attr("transform","translate("+a.left+","+a.top+")"),0==j.forceY().length&&j.forceY().push(0),j.width(T).height(M).x(v).y(function(h){if(void 0!==h.display)return h.display.y+h.display.y0}).color(P.map(function(h,S){return h.color=h.color||m(h,h.seriesIndex),h.color})),_.select(".nv-scatterWrap").datum(P).call(j),G.append("clipPath").attr("id","nv-edge-clip-"+x).append("rect"),ot.select("#nv-edge-clip-"+x+" rect").attr("width",T).attr("height",M),_.attr("clip-path",U?"url(#nv-edge-clip-"+x+")":"");var K=d3.svg.area().defined(W).x(function(h,S){return Z(v(h,S))}).y0(function(h){return lt(h.display.y0)}).y1(function(h){return lt(h.display.y+h.display.y0)}).interpolate(rt),dt=d3.svg.area().defined(W).x(function(h,S){return Z(v(h,S))}).y0(function(h){return lt(h.display.y0)}).y1(function(h){return lt(h.display.y0)}),ct=_.select(".nv-areaWrap").selectAll("path.nv-area").data(function(h){return h});ct.enter().append("path").attr("class",function(h,S){return"nv-area nv-area-"+S}).attr("d",function(h,S){return dt(h.values,h.seriesIndex)}).on("mouseover",function(h,S){d3.select(this).classed("hover",!0),R.areaMouseover({point:h,series:h.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:h.seriesIndex})}).on("mouseout",function(h,S){d3.select(this).classed("hover",!1),R.areaMouseout({point:h,series:h.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:h.seriesIndex})}).on("click",function(h,S){d3.select(this).classed("hover",!1),R.areaClick({point:h,series:h.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:h.seriesIndex})}),ct.exit().remove(),ct.style("fill",function(h,S){return h.color||m(h,h.seriesIndex)}).style("stroke",function(h,S){return h.color||m(h,h.seriesIndex)}),ct.watchTransition(B,"stackedArea path").attr("d",function(h,S){return K(h.values,S)}),j.dispatch.on("elementMouseover.area",function(h){_.select(".nv-chart-"+x+" .nv-area-"+h.seriesIndex).classed("hover",!0)}),j.dispatch.on("elementMouseout.area",function(h){_.select(".nv-chart-"+x+" .nv-area-"+h.seriesIndex).classed("hover",!1)}),w.d3_stackedOffset_stackPercent=function(h){var st,Q,J,S=h.length,at=h[0].length,yt=[];for(Q=0;Q<at;++Q){for(st=0,J=0;st<b.length;st++)J+=A(b[st].values[Q]);if(J)for(st=0;st<S;st++)h[st][Q][1]/=J;else for(st=0;st<S;st++)h[st][Q][1]=0}for(Q=0;Q<at;++Q)yt[Q]=0;return yt}}),B.renderEnd("stackedArea immediate"),w}return w.dispatch=R,w.scatter=j,j.dispatch.on("elementClick",function(){R.elementClick.apply(this,arguments)}),j.dispatch.on("elementMouseover",function(){R.elementMouseover.apply(this,arguments)}),j.dispatch.on("elementMouseout",function(){R.elementMouseout.apply(this,arguments)}),w.interpolate=function(L){return arguments.length?(rt=L,w):rt},w.duration=function(L){return arguments.length?(B.reset(F=L),j.duration(F),w):F},w.dispatch=R,w.scatter=j,w.options=f.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return u},set:function(L){u=L}},height:{get:function(){return C},set:function(L){C=L}},defined:{get:function(){return W},set:function(L){W=L}},clipEdge:{get:function(){return U},set:function(L){U=L}},offset:{get:function(){return et},set:function(L){et=L}},order:{get:function(){return q},set:function(L){q=L}},interpolate:{get:function(){return rt},set:function(L){rt=L}},x:{get:function(){return v},set:function(L){v=d3.functor(L)}},y:{get:function(){return A},set:function(L){A=d3.functor(L)}},margin:{get:function(){return a},set:function(L){a.top=void 0!==L.top?L.top:a.top,a.right=void 0!==L.right?L.right:a.right,a.bottom=void 0!==L.bottom?L.bottom:a.bottom,a.left=void 0!==L.left?L.left:a.left}},color:{get:function(){return m},set:function(L){m=f.utils.getColor(L)}},style:{get:function(){return tt},set:function(L){switch(tt=L){case"stack":w.offset("zero"),w.order("default");break;case"stream":w.offset("wiggle"),w.order("inside-out");break;case"stream-center":w.offset("silhouette"),w.order("inside-out");break;case"expand":w.offset("expand"),w.order("default");break;case"stack_percent":w.offset(w.d3_stackedOffset_stackPercent),w.order("default")}}},duration:{get:function(){return F},set:function(L){B.reset(F=L),j.duration(F)}}}),f.utils.inheritOptions(w,j),f.utils.initOptions(w),w},f.models.stackedAreaChart=function(){"use strict";var T,M,a=f.models.stackedArea(),u=f.models.axis(),C=f.models.axis(),m=f.models.legend(),x=f.models.legend(),O=f.interactiveGuideline(),v=f.models.tooltip(),A=f.models.focus(f.models.stackedArea()),W={top:10,right:25,bottom:50,left:60},tt=null,et=null,q=null,rt=f.utils.defaultColor(),U=!0,Z=!0,lt="top",j=!0,F=!0,R=!1,B=!1,w=!1,L=!0,P="TOTAL",b=f.utils.state(),I=null,ot=null,ht=d3.dispatch("stateChange","changeState","renderEnd"),G=250,p=["Stacked","Stream","Expanded"],_={},D=250;b.style=a.style(),u.orient("bottom").tickPadding(7),C.orient(R?"right":"left"),v.headerFormatter(function(J,yt){return u.tickFormat()(J,yt)}).valueFormatter(function(J,yt){return C.tickFormat()(J,yt)}),O.tooltip.headerFormatter(function(J,yt){return u.tickFormat()(J,yt)}).valueFormatter(function(J,yt){return null==J?"N/A":C.tickFormat()(J,yt)});var K=null,dt=null;x.updateState(!1);var ct=f.utils.renderWatch(ht),st=(a.style(),d3.format("%"));function Q(J){return ct.reset(),ct.models(a),j&&ct.models(u),F&&ct.models(C),J.each(function(yt){var Ct=d3.select(this);f.utils.initSVG(Ct);var ut,gt=f.utils.availableWidth(et,Ct,W),E=f.utils.availableHeight(q,Ct,W)-(B?A.height():0);if(Q.update=function(){Ct.transition().duration(D).call(Q)},Q.container=this,b.setter(function(J){return function(yt){void 0!==yt.active&&J.forEach(function(Ct,St){Ct.disabled=!yt.active[St]})}}(yt),Q.update).getter(function(J){return function(){return{active:J.map(function(yt){return!yt.disabled}),style:a.style()}}}(yt)).update(),b.disabled=yt.map(function(Ft){return!!Ft.disabled}),!I)for(ut in I={},b)I[ut]=b[ut]instanceof Array?b[ut].slice(0):b[ut];if(!yt||!yt.length||!yt.filter(function(Ft){return Ft.values.length}).length)return f.utils.noData(Q,Ct),Q;Ct.selectAll(".nv-noData").remove(),T=a.xScale(),M=a.yScale();var z=Ct.selectAll("g.nv-wrap.nv-stackedAreaChart").data([yt]),ft=z.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),xt=z.select("g");ft.append("g").attr("class","nv-legendWrap"),ft.append("g").attr("class","nv-controlsWrap");var jt=ft.append("g").attr("class","nv-focus");if(jt.append("g").attr("class","nv-background").append("rect"),jt.append("g").attr("class","nv-x nv-axis"),jt.append("g").attr("class","nv-y nv-axis"),jt.append("g").attr("class","nv-stackedWrap"),jt.append("g").attr("class","nv-interactive"),ft.append("g").attr("class","nv-focusWrap"),Z){var _t=U&&"top"===lt?gt-G:gt;if(m.width(_t),xt.select(".nv-legendWrap").datum(yt).call(m),"bottom"===lt){var Pt=10+(j?12:0);W.bottom=Math.max(m.height()+Pt,W.bottom);var Bt=(E=f.utils.availableHeight(q,Ct,W)-(B?A.height():0))+Pt;xt.select(".nv-legendWrap").attr("transform","translate(0,"+Bt+")")}else"top"===lt&&(!tt&&W.top!=m.height()&&(W.top=m.height(),E=f.utils.availableHeight(q,Ct,W)-(B?A.height():0)),xt.select(".nv-legendWrap").attr("transform","translate("+(gt-_t)+","+-W.top+")"))}else xt.select(".nv-legendWrap").selectAll("*").remove();if(U){var ne=[{key:_.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=a.style(),style:"stack"},{key:_.stream||"Stream",metaKey:"Stream",disabled:"stream"!=a.style(),style:"stream"},{key:_.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=a.style(),style:"expand"},{key:_.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=a.style(),style:"stack_percent"}];G=p.length/3*260,ne=ne.filter(function(Ft){return-1!==p.indexOf(Ft.metaKey)}),x.width(G).color(["#444","#444","#444"]),xt.select(".nv-controlsWrap").datum(ne).call(x);var Mt=Math.max(x.height(),Z&&"top"===lt?m.height():0);W.top!=Mt&&(W.top=Mt,E=f.utils.availableHeight(q,Ct,W)-(B?A.height():0)),xt.select(".nv-controlsWrap").attr("transform","translate(0,"+-W.top+")")}else xt.select(".nv-controlsWrap").selectAll("*").remove();z.attr("transform","translate("+W.left+","+W.top+")"),R&&xt.select(".nv-y.nv-axis").attr("transform","translate("+gt+",0)"),w&&(O.width(gt).height(E).margin({left:W.left,top:W.top}).svgContainer(Ct).xScale(T),z.select(".nv-interactive").call(O)),xt.select(".nv-focus .nv-background rect").attr("width",gt).attr("height",E),a.width(gt).height(E).color(yt.map(function(Ft,ae){return Ft.color||rt(Ft,ae)}).filter(function(Ft,ae){return!yt[ae].disabled}));var Qt,Ht=xt.select(".nv-focus .nv-stackedWrap").datum(yt.filter(function(Ft){return!Ft.disabled}));function re(){j&&xt.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+E+")").transition().duration(D).call(u)}function Lt(){if(F){if("expand"===a.style()||"stack_percent"===a.style()){var Ft=C.tickFormat();(!K||Ft!==st)&&(K=Ft),C.tickFormat(st)}else K&&(C.tickFormat(K),K=null);xt.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(C)}}if(j&&u.scale(T)._ticks(f.utils.calcTicksX(gt/100,yt)).tickSize(-E,0),F&&(Qt="wiggle"===a.offset()?0:f.utils.calcTicksY(E/36,yt),C.scale(M)._ticks(Qt).tickSize(-gt,0)),B){A.width(gt),xt.select(".nv-focusWrap").attr("transform","translate(0,"+(E+W.bottom+A.margin().top)+")").datum(yt.filter(function(Ft){return!Ft.disabled})).call(A);var Xt=A.brush.empty()?A.xDomain():A.brush.extent();null!==Xt&&zt(Xt)}else Ht.transition().call(a),re(),Lt();function zt(Ft){xt.select(".nv-focus .nv-stackedWrap").datum(yt.filter(function(ue){return!ue.disabled}).map(function(ue,xe){return{key:ue.key,area:ue.area,classed:ue.classed,values:ue.values.filter(function(ge,be){return a.x()(ge,be)>=Ft[0]&&a.x()(ge,be)<=Ft[1]}),disableTooltip:ue.disableTooltip}})).transition().duration(D).call(a),re(),Lt()}a.dispatch.on("areaClick.toggle",function(Ft){1===yt.filter(function(ae){return!ae.disabled}).length?yt.forEach(function(ae){ae.disabled=!1}):yt.forEach(function(ae,ue){ae.disabled=ue!=Ft.seriesIndex}),b.disabled=yt.map(function(ae){return!!ae.disabled}),ht.stateChange(b),Q.update()}),m.dispatch.on("stateChange",function(Ft){for(var ae in Ft)b[ae]=Ft[ae];ht.stateChange(b),Q.update()}),x.dispatch.on("legendClick",function(Ft,ae){!Ft.disabled||(ne=ne.map(function(ue){return ue.disabled=!0,ue}),Ft.disabled=!1,a.style(Ft.style),b.style=a.style(),ht.stateChange(b),Q.update())}),O.dispatch.on("elementMousemove",function(Ft){a.clearHighlights();var ae,ue,xe,ge=[],be=0,Ce=!0,ke=!1;if(yt.filter(function(ee,fe){return ee.seriesIndex=fe,!ee.disabled}).forEach(function(ee,fe){ue=f.interactiveBisect(ee.values,Ft.pointXValue,Q.x());var we=ee.values[ue],Yt=Q.y()(we,ue);if(null!=Yt&&Yt>0&&(a.highlightPoint(fe,ue,!0),ke=!0),fe===yt.length-1&&!ke&&a.highlightPoint(fe,ue,!0),void 0!==we){void 0===ae&&(ae=we),void 0===xe&&(xe=Q.xScale()(Q.x()(we,ue)));var ce="expand"==a.style()?we.display.y:Q.y()(we,ue);ge.push({key:ee.key,value:ce,color:rt(ee,ee.seriesIndex),point:we}),L&&"expand"!=a.style()&&null!=ce&&(be+=ce,Ce=!1)}}),ge.reverse(),ge.length>2){var Dt=Q.yScale().invert(Ft.mouseY),kt=null;ge.forEach(function(ee,fe){Dt=Math.abs(Dt);var we=Math.abs(ee.point.display.y0),Yt=Math.abs(ee.point.display.y);Dt>=we&&Dt<=Yt+we&&(kt=fe)}),null!=kt&&(ge[kt].highlight=!0)}L&&"expand"!=a.style()&&ge.length>=2&&!Ce&&ge.push({key:P,value:be,total:!0});var Ot=Q.x()(ae,ue),Jt=O.tooltip.valueFormatter();"expand"===a.style()||"stack_percent"===a.style()?(dt||(dt=Jt),Jt=d3.format(".1%")):dt&&(Jt=dt,dt=null),O.tooltip.valueFormatter(Jt).data({value:Ot,series:ge})(),O.renderGuideLine(xe)}),O.dispatch.on("elementMouseout",function(Ft){a.clearHighlights()}),A.dispatch.on("onBrush",function(Ft){zt(Ft)}),ht.on("changeState",function(Ft){void 0!==Ft.disabled&&yt.length===Ft.disabled.length&&(yt.forEach(function(ae,ue){ae.disabled=Ft.disabled[ue]}),b.disabled=Ft.disabled),void 0!==Ft.style&&a.style(Ft.style),Q.update()})}),ct.renderEnd("stacked Area chart immediate"),Q}return a.dispatch.on("elementMouseover.tooltip",function(J){J.point.x=a.x()(J.point),J.point.y=a.y()(J.point),v.data(J).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(J){v.hidden(!0)}),Q.dispatch=ht,Q.stacked=a,Q.legend=m,Q.controls=x,Q.xAxis=u,Q.x2Axis=A.xAxis,Q.yAxis=C,Q.y2Axis=A.yAxis,Q.interactiveLayer=O,Q.tooltip=v,Q.focus=A,Q.dispatch=ht,Q.options=f.utils.optionsFunc.bind(Q),Q._options=Object.create({},{width:{get:function(){return et},set:function(J){et=J}},height:{get:function(){return q},set:function(J){q=J}},showLegend:{get:function(){return Z},set:function(J){Z=J}},legendPosition:{get:function(){return lt},set:function(J){lt=J}},showXAxis:{get:function(){return j},set:function(J){j=J}},showYAxis:{get:function(){return F},set:function(J){F=J}},defaultState:{get:function(){return I},set:function(J){I=J}},noData:{get:function(){return ot},set:function(J){ot=J}},showControls:{get:function(){return U},set:function(J){U=J}},controlLabels:{get:function(){return _},set:function(J){_=J}},controlOptions:{get:function(){return p},set:function(J){p=J}},showTotalInTooltip:{get:function(){return L},set:function(J){L=J}},totalLabel:{get:function(){return P},set:function(J){P=J}},focusEnable:{get:function(){return B},set:function(J){B=J}},focusHeight:{get:function(){return A.height()},set:function(J){A.height(J)}},brushExtent:{get:function(){return A.brushExtent()},set:function(J){A.brushExtent(J)}},margin:{get:function(){return W},set:function(J){void 0!==J.top&&(W.top=J.top,tt=J.top),W.right=void 0!==J.right?J.right:W.right,W.bottom=void 0!==J.bottom?J.bottom:W.bottom,W.left=void 0!==J.left?J.left:W.left}},focusMargin:{get:function(){return A.margin},set:function(J){A.margin.top=void 0!==J.top?J.top:A.margin.top,A.margin.right=void 0!==J.right?J.right:A.margin.right,A.margin.bottom=void 0!==J.bottom?J.bottom:A.margin.bottom,A.margin.left=void 0!==J.left?J.left:A.margin.left}},duration:{get:function(){return D},set:function(J){ct.reset(D=J),a.duration(D),u.duration(D),C.duration(D)}},color:{get:function(){return rt},set:function(J){rt=f.utils.getColor(J),m.color(rt),a.color(rt),A.color(rt)}},x:{get:function(){return a.x()},set:function(J){a.x(J),A.x(J)}},y:{get:function(){return a.y()},set:function(J){a.y(J),A.y(J)}},rightAlignYAxis:{get:function(){return R},set:function(J){C.orient((R=J)?"right":"left")}},useInteractiveGuideline:{get:function(){return w},set:function(J){w=!!J,Q.interactive(!J),Q.useVoronoi(!J),a.scatter.interactive(!J)}}}),f.utils.inheritOptions(Q,a),f.utils.initOptions(Q),Q},f.models.stackedAreaWithFocusChart=function(){return f.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},f.models.sunburst=function(){"use strict";var B,w,L,P,a={top:0,right:0,bottom:0,left:0},u=600,C=600,m="count",x={count:function(h){return 1},value:function(h){return h.value||h.size},size:function(h){return h.value||h.size}},O=Math.floor(1e4*Math.random()),v=null,A=f.utils.defaultColor(),W=!1,tt=function(h){return"count"===m?h.name+" #"+h.value:h.name+" "+(h.value||h.size)},et=.02,q=function(h,S){return h.name>S.name},rt=function(h,S){return void 0!==h.parent?h.name+"-"+h.parent.name+"-"+S:h.name},U=!0,Z=500,lt=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),j=d3.scale.linear().range([0,2*Math.PI]),F=d3.scale.sqrt(),R=d3.layout.partition().sort(q),T={},M=d3.svg.arc().startAngle(function(h){return Math.max(0,Math.min(2*Math.PI,j(h.x)))}).endAngle(function(h){return Math.max(0,Math.min(2*Math.PI,j(h.x+h.dx)))}).innerRadius(function(h){return Math.max(0,F(h.y))}).outerRadius(function(h){return Math.max(0,F(h.y+h.dy))});function b(h){return I(h)>90?180:0}function I(h){return(Math.max(0,Math.min(2*Math.PI,j(h.x)))+Math.max(0,Math.min(2*Math.PI,j(h.x+h.dx))))/2*(180/Math.PI)-90}function ot(h){var S=Math.max(0,Math.min(2*Math.PI,j(h.x)));return(Math.max(0,Math.min(2*Math.PI,j(h.x+h.dx)))-S)/(2*Math.PI)}function ht(h){var S=Math.max(0,Math.min(2*Math.PI,j(h.x)));return Math.max(0,Math.min(2*Math.PI,j(h.x+h.dx)))-S>et}function G(h,S){var at=d3.interpolate(j.domain(),[B.x,B.x+B.dx]),st=d3.interpolate(F.domain(),[B.y,1]),Q=d3.interpolate(F.range(),[B.y?20:0,P]);return 0===S?function(){return M(h)}:function(J){return j.domain(at(J)),F.domain(st(J)).range(Q(J)),M(h)}}function p(h){var S=d3.interpolate({x:h.x0,dx:h.dx0,y:h.y0,dy:h.dy0},h);return function(at){var st=S(at);return h.x0=st.x,h.dx0=st.dx,h.y0=st.y,h.dy0=st.dy,M(st)}}function K(h){var S=v.selectAll("text"),at=v.selectAll("path");S.transition().attr("opacity",0),B=h,at.transition().duration(Z).attrTween("d",G).each("end",function(st){st.x>=h.x&&st.x<h.x+h.dx&&st.depth>=h.depth&&d3.select(this.parentNode).select("text").transition().duration(Z).text(function(yt){return tt(yt)}).attr("opacity",function(yt){return ht(yt)?1:0}).attr("transform",function(){var yt=this.getBBox().width;if(0===st.depth)return"translate("+yt/2*-1+",0)";if(st.depth===h.depth)return"translate("+(F(st.y)+5)+",0)";var Ct=I(st),St=b(st);return 0===St?"rotate("+Ct+")translate("+(F(st.y)+5)+",0)":"rotate("+Ct+")translate("+(F(st.y)+yt+5)+",0)rotate("+St+")"})})}var dt=f.utils.renderWatch(lt);function ct(h){return dt.reset(),h.each(function(S){v=d3.select(this),w=f.utils.availableWidth(u,v,a),L=f.utils.availableHeight(C,v,a),P=Math.min(w,L)/2,F.range([0,P]);var at=v.select("g.nvd3.nv-wrap.nv-sunburst");at[0][0]?at.attr("transform","translate("+(w/2+a.left+a.right)+","+(L/2+a.top+a.bottom)+")"):at=v.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+O).attr("transform","translate("+(w/2+a.left+a.right)+","+(L/2+a.top+a.bottom)+")"),v.on("click",function(yt,Ct){lt.chartClick({data:yt,index:Ct,pos:d3.event,id:O})}),R.value(x[m]||x.count);var st=R.nodes(S[0]).reverse();!function(h){h.forEach(function(S){var at=rt(S),st=T[at];st?(S.dx0=st.dx,S.x0=st.x,S.dy0=st.dy,S.y0=st.y):(S.dx0=S.dx,S.x0=S.x,S.dy0=S.dy,S.y0=S.y),function(h){var S=rt(h);T[S]||(T[S]={});var at=T[S];at.dx=h.dx,at.x=h.x,at.dy=h.dy,at.y=h.y}(S)})}(st);var Q=at.selectAll(".arc-container").data(st,rt);Q.enter().append("g").attr("class","arc-container").append("path").attr("d",M).style("fill",function(yt){return yt.color?yt.color:A(U?(yt.children?yt:yt.parent).name:yt.name)}).style("stroke","#FFF").on("click",function(yt,Ct){K(yt),lt.elementClick({data:yt,index:Ct})}).on("mouseover",function(yt,Ct){d3.select(this).classed("hover",!0).style("opacity",.8),lt.elementMouseover({data:yt,color:d3.select(this).style("fill"),percent:ot(yt)})}).on("mouseout",function(yt,Ct){d3.select(this).classed("hover",!1).style("opacity",1),lt.elementMouseout({data:yt})}).on("mousemove",function(yt,Ct){lt.elementMousemove({data:yt})}),Q.each(function(yt){d3.select(this).select("path").transition().duration(Z).attrTween("d",p)}),W&&(Q.selectAll("text").remove(),Q.append("text").text(function(yt){return tt(yt)}).transition().duration(Z).attr("opacity",function(yt){return ht(yt)?1:0}).attr("transform",function(yt){var Ct=this.getBBox().width;if(0===yt.depth)return"rotate(0)translate("+Ct/2*-1+",0)";var St=I(yt),gt=b(yt);return 0===gt?"rotate("+St+")translate("+(F(yt.y)+5)+",0)":"rotate("+St+")translate("+(F(yt.y)+Ct+5)+",0)rotate("+gt+")"})),K(st[st.length-1]),Q.exit().transition().duration(Z).attr("opacity",0).each("end",function(yt){var Ct=rt(yt);T[Ct]=void 0}).remove()}),dt.renderEnd("sunburst immediate"),ct}return ct.dispatch=lt,ct.options=f.utils.optionsFunc.bind(ct),ct._options=Object.create({},{width:{get:function(){return u},set:function(h){u=h}},height:{get:function(){return C},set:function(h){C=h}},mode:{get:function(){return m},set:function(h){m=h}},id:{get:function(){return O},set:function(h){O=h}},duration:{get:function(){return Z},set:function(h){Z=h}},groupColorByParent:{get:function(){return U},set:function(h){U=!!h}},showLabels:{get:function(){return W},set:function(h){W=!!h}},labelFormat:{get:function(){return tt},set:function(h){tt=h}},labelThreshold:{get:function(){return et},set:function(h){et=h}},sort:{get:function(){return q},set:function(h){q=h}},key:{get:function(){return rt},set:function(h){rt=h}},margin:{get:function(){return a},set:function(h){a.top=null!=h.top?h.top:a.top,a.right=null!=h.right?h.right:a.right,a.bottom=null!=h.bottom?h.bottom:a.bottom,a.left=null!=h.left?h.left:a.left}},color:{get:function(){return A},set:function(h){A=f.utils.getColor(h)}}}),f.utils.initOptions(ct),ct},f.models.sunburstChart=function(){"use strict";var a=f.models.sunburst(),u=f.models.tooltip(),C={top:30,right:20,bottom:20,left:20},O=f.utils.defaultColor(),v=!1,W=(Math.round(1e5*Math.random()),null),tt=null,et=250,q=d3.dispatch("stateChange","changeState","renderEnd"),rt=f.utils.renderWatch(q);function U(Z){return rt.reset(),rt.models(a),Z.each(function(lt){var j=d3.select(this);f.utils.initSVG(j);var F=f.utils.availableWidth(null,j,C),R=f.utils.availableHeight(null,j,C);if(U.update=function(){0===et?j.call(U):j.transition().duration(et).call(U)},U.container=j,!lt||!lt.length)return f.utils.noData(U,j),U;j.selectAll(".nv-noData").remove(),a.width(F).height(R).margin(C),j.call(a)}),rt.renderEnd("sunburstChart immediate"),U}return u.duration(0).headerEnabled(!1).valueFormatter(function(Z){return Z}),a.dispatch.on("elementMouseover.tooltip",function(Z){Z.series={key:Z.data.name,value:Z.data.value||Z.data.size,color:Z.color,percent:Z.percent},v||(delete Z.percent,delete Z.series.percent),u.data(Z).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(Z){u.hidden(!0)}),a.dispatch.on("elementMousemove.tooltip",function(Z){u()}),U.dispatch=q,U.sunburst=a,U.tooltip=u,U.options=f.utils.optionsFunc.bind(U),U._options=Object.create({},{noData:{get:function(){return tt},set:function(Z){tt=Z}},defaultState:{get:function(){return W},set:function(Z){W=Z}},showTooltipPercent:{get:function(){return v},set:function(Z){v=Z}},color:{get:function(){return O},set:function(Z){a.color(O=Z)}},duration:{get:function(){return et},set:function(Z){rt.reset(et=Z),a.duration(et)}},margin:{get:function(){return C},set:function(Z){C.top=void 0!==Z.top?Z.top:C.top,C.right=void 0!==Z.right?Z.right:C.right,C.bottom=void 0!==Z.bottom?Z.bottom:C.bottom,C.left=void 0!==Z.left?Z.left:C.left,a.margin(C)}}}),f.utils.inheritOptions(U,a),f.utils.initOptions(U),U},f.version="1.8.6"},334:(en,Ne,ye)=>{"use strict";ye.r(Ne),ye.d(Ne,{WorkerappModule:()=>W});var f=ye(6019),a=ye(9843),u=ye(3668),C=ye(5560);const x=[{path:"",component:(()=>{class tt{constructor(q){this.cd=q,this.title="nvd3-graph"}ngOnInit(){this.initChart(),setInterval(()=>{this.updateChart()},500),this.worker=new Worker(ye.tu(new URL(ye.p+ye.u(3045),ye.b))),this.worker.onmessage=({data:q})=>{console.log(q)}}initChart(){this.options={chart:{type:"discreteBarChart",height:450,x:function(q){return q.label},y:function(q){return q.value},showValues:!0,valueFormat:function(q){return d3.format(",.4f")(q)},duration:500,xAxis:{axisLabel:"X Axis"},yAxis:{axisLabel:"Y Axis",axisLabelDistance:-10}}}}updateChart(){this.data=[{values:[{label:"A",value:Math.floor(100*Math.random())},{label:"B",value:Math.floor(100*Math.random())},{label:"C",value:Math.floor(100*Math.random())},{label:"D",value:Math.floor(100*Math.random())},{label:"E",value:Math.floor(100*Math.random())},{label:"F",value:Math.floor(100*Math.random())},{label:"G",value:Math.floor(100*Math.random())},{label:"H",value:Math.floor(100*Math.random())}]}]}handleButtonClick(){this.clearCanvas();let q=this.createCanvas();document.getElementById("canContainer").append(q);let rt=q.getContext("2d");rt.beginPath();for(let U=0;U<691;U++)for(let Z=0;Z<491;Z++)rt.fillRect(U,Z,10,10)}handleWebWorkerProcess(){this.clearCanvas();let q=this.createCanvas();document.getElementById("canContainer").append(q);let rt=q.transferControlToOffscreen();this.worker.postMessage({canvas:rt},[rt])}clearCanvas(){document.getElementById("canContainer").innerHTML=""}createCanvas(){let q=document.createElement("canvas");return q.setAttribute("width","700"),q.setAttribute("height","500"),q}}return tt.\u0275fac=function(q){return new(q||tt)(u.\u0275\u0275directiveInject(u.ChangeDetectorRef))},tt.\u0275cmp=u.\u0275\u0275defineComponent({type:tt,selectors:[["ng-component"]],decls:14,vars:2,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","mr-2",3,"click"],["type","button",1,"btn","btn-info",3,"click"],[1,"main"],[1,"graph"],[3,"options","data"],["id","canContainer",1,"canvasContainer"]],template:function(q,rt){1&q&&(u.\u0275\u0275elementStart(0,"div",0),u.\u0275\u0275elementStart(1,"div",1),u.\u0275\u0275elementStart(2,"h1"),u.\u0275\u0275text(3,"Chart Demo"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(4,"div"),u.\u0275\u0275elementStart(5,"button",2),u.\u0275\u0275listener("click",function(){return rt.handleButtonClick()}),u.\u0275\u0275text(6," Main Thread Task "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(7,"button",3),u.\u0275\u0275listener("click",function(){return rt.handleWebWorkerProcess()}),u.\u0275\u0275text(8," Web Worker Task "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(9,"div",4),u.\u0275\u0275elementStart(10,"div",5),u.\u0275\u0275element(11,"nvd3",6),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(12,"div",0),u.\u0275\u0275element(13,"div",7),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()),2&q&&(u.\u0275\u0275advance(11),u.\u0275\u0275property("options",rt.options)("data",rt.data))},directives:[C.ZV],styles:[".nvd3[_ngcontent-%COMP%]   .nv-axis[_ngcontent-%COMP%]{pointer-events:none;opacity:1}.nvd3[_ngcontent-%COMP%]   .nv-axis[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:none;stroke:#000;stroke-opacity:.75;shape-rendering:crispEdges}.nvd3[_ngcontent-%COMP%]   .nv-axis[_ngcontent-%COMP%]   path.domain[_ngcontent-%COMP%]{stroke-opacity:.75}.nvd3[_ngcontent-%COMP%]   .nv-axis.nv-x[_ngcontent-%COMP%]   path.domain[_ngcontent-%COMP%]{stroke-opacity:0}.nvd3[_ngcontent-%COMP%]   .nv-axis[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{fill:none;stroke:#e5e5e5;shape-rendering:crispEdges}.nvd3[_ngcontent-%COMP%]   .nv-axis[_ngcontent-%COMP%]   .zero[_ngcontent-%COMP%]   line[_ngcontent-%COMP%], .nvd3[_ngcontent-%COMP%]   .nv-axis[_ngcontent-%COMP%]   line.zero[_ngcontent-%COMP%]{stroke-opacity:.75}.nvd3[_ngcontent-%COMP%]   .nv-axis[_ngcontent-%COMP%]   .nv-axisMaxMin[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-weight:bold}.nvd3[_ngcontent-%COMP%]   .x[_ngcontent-%COMP%]   .nv-axis[_ngcontent-%COMP%]   .nv-axisMaxMin[_ngcontent-%COMP%]   text[_ngcontent-%COMP%], .nvd3[_ngcontent-%COMP%]   .x2[_ngcontent-%COMP%]   .nv-axis[_ngcontent-%COMP%]   .nv-axisMaxMin[_ngcontent-%COMP%]   text[_ngcontent-%COMP%], .nvd3[_ngcontent-%COMP%]   .x3[_ngcontent-%COMP%]   .nv-axis[_ngcontent-%COMP%]   .nv-axisMaxMin[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{text-anchor:middle}.nvd3[_ngcontent-%COMP%]   .nv-axis.nv-disabled[_ngcontent-%COMP%]{opacity:0}.nvd3[_ngcontent-%COMP%]   .nv-bars[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill-opacity:.75;transition:fill-opacity .25s linear}.nvd3[_ngcontent-%COMP%]   .nv-bars[_ngcontent-%COMP%]   rect.hover[_ngcontent-%COMP%]{fill-opacity:1}.nvd3[_ngcontent-%COMP%]   .nv-bars[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#add8e6}.nvd3[_ngcontent-%COMP%]   .nv-bars[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#0000}.nvd3[_ngcontent-%COMP%]   .nv-bars[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#000}.nvd3[_ngcontent-%COMP%]   .nv-multibar[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%], .nvd3[_ngcontent-%COMP%]   .nv-multibarHorizontal[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%], .nvd3[_ngcontent-%COMP%]   .nv-discretebar[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{stroke-opacity:0;transition:fill-opacity .25s linear}.nvd3[_ngcontent-%COMP%]   .nv-multibar[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]:hover, .nvd3[_ngcontent-%COMP%]   .nv-multibarHorizontal[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]:hover, .nvd3[_ngcontent-%COMP%]   .nv-candlestickBar[_ngcontent-%COMP%]   .nv-ticks[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]:hover, .nvd3[_ngcontent-%COMP%]   .nv-discretebar[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]:hover{fill-opacity:1}.nvd3[_ngcontent-%COMP%]   .nv-discretebar[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   text[_ngcontent-%COMP%], .nvd3[_ngcontent-%COMP%]   .nv-multibarHorizontal[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-weight:bold;fill:#000;stroke:#0000}.nvd3[_ngcontent-%COMP%]   .nv-boxplot[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill-opacity:.5}.nvd3[_ngcontent-%COMP%]   .nv-boxplot[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]:hover{fill-opacity:1}.nvd3[_ngcontent-%COMP%]   .nv-boxplot[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]:hover{fill-opacity:1}.nvd3[_ngcontent-%COMP%]   line.nv-boxplot-median[_ngcontent-%COMP%]{stroke:#000}.nv-boxplot-tick[_ngcontent-%COMP%]:hover{stroke-width:2.5px}.nvd3.nv-bullet[_ngcontent-%COMP%]{font:10px sans-serif}.nvd3.nv-bullet[_ngcontent-%COMP%]   .nv-measure[_ngcontent-%COMP%]{fill-opacity:.8}.nvd3.nv-bullet[_ngcontent-%COMP%]   .nv-measure[_ngcontent-%COMP%]:hover{fill-opacity:1}.nvd3.nv-bullet[_ngcontent-%COMP%]   .nv-marker[_ngcontent-%COMP%]{stroke:#000;stroke-width:2px}.nvd3.nv-bullet[_ngcontent-%COMP%]   .nv-markerTriangle[_ngcontent-%COMP%]{stroke:#000;fill:#fff;stroke-width:1.5px}.nvd3.nv-bullet[_ngcontent-%COMP%]   .nv-markerLine[_ngcontent-%COMP%]{stroke:#000;stroke-width:1.5px}.nvd3.nv-bullet[_ngcontent-%COMP%]   .nv-tick[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#666;stroke-width:.5px}.nvd3.nv-bullet[_ngcontent-%COMP%]   .nv-range.nv-s0[_ngcontent-%COMP%]{fill:#eee}.nvd3.nv-bullet[_ngcontent-%COMP%]   .nv-range.nv-s1[_ngcontent-%COMP%]{fill:#ddd}.nvd3.nv-bullet[_ngcontent-%COMP%]   .nv-range.nv-s2[_ngcontent-%COMP%]{fill:#ccc}.nvd3.nv-bullet[_ngcontent-%COMP%]   .nv-title[_ngcontent-%COMP%]{font-size:14px;font-weight:bold}.nvd3.nv-bullet[_ngcontent-%COMP%]   .nv-subtitle[_ngcontent-%COMP%]{fill:#999}.nvd3.nv-bullet[_ngcontent-%COMP%]   .nv-range[_ngcontent-%COMP%]{fill:#bababa;fill-opacity:.4}.nvd3.nv-bullet[_ngcontent-%COMP%]   .nv-range[_ngcontent-%COMP%]:hover{fill-opacity:.7}.nvd3.nv-candlestickBar[_ngcontent-%COMP%]   .nv-ticks[_ngcontent-%COMP%]   .nv-tick[_ngcontent-%COMP%]{stroke-width:1px}.nvd3.nv-candlestickBar[_ngcontent-%COMP%]   .nv-ticks[_ngcontent-%COMP%]   .nv-tick.hover[_ngcontent-%COMP%]{stroke-width:2px}.nvd3.nv-candlestickBar[_ngcontent-%COMP%]   .nv-ticks[_ngcontent-%COMP%]   .nv-tick.positive[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{stroke:#2ca02c;fill:#2ca02c}.nvd3.nv-candlestickBar[_ngcontent-%COMP%]   .nv-ticks[_ngcontent-%COMP%]   .nv-tick.negative[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{stroke:#d62728;fill:#d62728}.with-transitions[_ngcontent-%COMP%]   .nv-candlestickBar[_ngcontent-%COMP%]   .nv-ticks[_ngcontent-%COMP%]   .nv-tick[_ngcontent-%COMP%]{transition:stroke-width .25s linear,stroke-opacity .25s linear}.nvd3.nv-candlestickBar[_ngcontent-%COMP%]   .nv-ticks[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#333}.nv-force-node[_ngcontent-%COMP%]{stroke:#fff;stroke-width:1.5px}.nv-force-link[_ngcontent-%COMP%]{stroke:#999;stroke-opacity:.6}.nv-force-node[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{stroke-width:0px}.nvd3[_ngcontent-%COMP%]   .nv-check-box[_ngcontent-%COMP%]   .nv-box[_ngcontent-%COMP%]{fill-opacity:0;stroke-width:2}.nvd3[_ngcontent-%COMP%]   .nv-check-box[_ngcontent-%COMP%]   .nv-check[_ngcontent-%COMP%]{fill-opacity:0;stroke-width:4}.nvd3[_ngcontent-%COMP%]   .nv-series.nv-disabled[_ngcontent-%COMP%]   .nv-check-box[_ngcontent-%COMP%]   .nv-check[_ngcontent-%COMP%]{fill-opacity:0;stroke-opacity:0}.nvd3[_ngcontent-%COMP%]   .nv-controlsWrap[_ngcontent-%COMP%]   .nv-legend[_ngcontent-%COMP%]   .nv-check-box[_ngcontent-%COMP%]   .nv-check[_ngcontent-%COMP%]{opacity:0}.nvd3.nv-linePlusBar[_ngcontent-%COMP%]   .nv-bar[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill-opacity:.75}.nvd3.nv-linePlusBar[_ngcontent-%COMP%]   .nv-bar[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]:hover{fill-opacity:1}.nvd3[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   path.nv-line[_ngcontent-%COMP%]{fill:none}.nvd3[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   path.nv-area[_ngcontent-%COMP%]{stroke:none}.nvd3.nv-line[_ngcontent-%COMP%]   .nvd3.nv-scatter[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   .nv-point[_ngcontent-%COMP%]{fill-opacity:0;stroke-opacity:0}.nvd3.nv-scatter.nv-single-point[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   .nv-point[_ngcontent-%COMP%]{fill-opacity:.5!important;stroke-opacity:.5!important}.with-transitions[_ngcontent-%COMP%]   .nvd3[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   .nv-point[_ngcontent-%COMP%]{transition:stroke-width .25s linear,stroke-opacity .25s linear}.nvd3.nv-scatter[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   .nv-point.hover[_ngcontent-%COMP%], .nvd3[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   .nv-point.hover[_ngcontent-%COMP%]{stroke-width:7px;fill-opacity:.95!important;stroke-opacity:.95!important}.nvd3[_ngcontent-%COMP%]   .nv-point-paths[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke:#aaa;stroke-opacity:0;fill:#eee;fill-opacity:0}.nvd3[_ngcontent-%COMP%]   .nv-indexLine[_ngcontent-%COMP%]{cursor:ew-resize}svg.nvd3-svg[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;display:block;width:100%;height:100%}.nvtooltip.with-3d-shadow[_ngcontent-%COMP%], .with-3d-shadow[_ngcontent-%COMP%]   .nvtooltip[_ngcontent-%COMP%]{box-shadow:0 5px 10px #0003;border-radius:5px}.nvd3[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font:normal 12px Arial,sans-serif}.nvd3[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font:bold 14px Arial,sans-serif}.nvd3[_ngcontent-%COMP%]   .nv-background[_ngcontent-%COMP%]{fill:#fff;fill-opacity:0}.nvd3.nv-noData[_ngcontent-%COMP%]{font-size:18px;font-weight:bold}.nv-brush[_ngcontent-%COMP%]   .extent[_ngcontent-%COMP%]{fill-opacity:.125;shape-rendering:crispEdges}.nv-brush[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#eee;stroke:#666}.nvd3[_ngcontent-%COMP%]   .nv-legend[_ngcontent-%COMP%]   .nv-series[_ngcontent-%COMP%]{cursor:pointer}.nvd3[_ngcontent-%COMP%]   .nv-legend[_ngcontent-%COMP%]   .nv-disabled[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill-opacity:0}.nvd3[_ngcontent-%COMP%]   .nv-brush[_ngcontent-%COMP%]   .extent[_ngcontent-%COMP%]{fill-opacity:0!important}.nvd3[_ngcontent-%COMP%]   .nv-brushBackground[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{stroke:#000;stroke-width:.4;fill:#fff;fill-opacity:.7}@media print{.nvd3[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{stroke-width:0;fill-opacity:1}}.nvd3.nv-ohlcBar[_ngcontent-%COMP%]   .nv-ticks[_ngcontent-%COMP%]   .nv-tick[_ngcontent-%COMP%]{stroke-width:1px}.nvd3.nv-ohlcBar[_ngcontent-%COMP%]   .nv-ticks[_ngcontent-%COMP%]   .nv-tick.hover[_ngcontent-%COMP%]{stroke-width:2px}.nvd3.nv-ohlcBar[_ngcontent-%COMP%]   .nv-ticks[_ngcontent-%COMP%]   .nv-tick.positive[_ngcontent-%COMP%]{stroke:#2ca02c}.nvd3.nv-ohlcBar[_ngcontent-%COMP%]   .nv-ticks[_ngcontent-%COMP%]   .nv-tick.negative[_ngcontent-%COMP%]{stroke:#d62728}.nvd3[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:none;stroke:#eee;stroke-opacity:.4;shape-rendering:crispEdges}.nvd3[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:none;stroke-opacity:.7}.nvd3[_ngcontent-%COMP%]   .nv-parallelCoordinates-brush[_ngcontent-%COMP%]   .extent[_ngcontent-%COMP%]{fill:#fff;fill-opacity:.6;stroke:gray;shape-rendering:crispEdges}.nvd3[_ngcontent-%COMP%]   .nv-parallelCoordinates[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%]{fill-opacity:1;stroke-width:3px}.nvd3[_ngcontent-%COMP%]   .missingValuesline[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{fill:none;stroke:#000;stroke-width:1;stroke-opacity:1;stroke-dasharray:5,5}.nvd3.nv-pie[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke-opacity:0;transition:fill-opacity .25s linear,stroke-width .25s linear,stroke-opacity .25s linear}.nvd3.nv-pie[_ngcontent-%COMP%]   .nv-pie-title[_ngcontent-%COMP%]{font-size:24px;fill:#13c4f996}.nvd3.nv-pie[_ngcontent-%COMP%]   .nv-slice[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{stroke:#000;stroke-width:0}.nvd3.nv-pie[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke:#fff;stroke-width:1px;stroke-opacity:1}.nvd3.nv-pie[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill-opacity:.7}.nvd3.nv-pie[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill-opacity:1}.nvd3.nv-pie[_ngcontent-%COMP%]   .nv-label[_ngcontent-%COMP%]{pointer-events:none}.nvd3.nv-pie[_ngcontent-%COMP%]   .nv-label[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill-opacity:0;stroke-opacity:0}.nvd3[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   .nv-point.hover[_ngcontent-%COMP%]{stroke-width:20px;stroke-opacity:.5}.nvd3[_ngcontent-%COMP%]   .nv-scatter[_ngcontent-%COMP%]   .nv-point.hover[_ngcontent-%COMP%]{fill-opacity:1}.nv-noninteractive[_ngcontent-%COMP%]{pointer-events:none}.nv-distx[_ngcontent-%COMP%], .nv-disty[_ngcontent-%COMP%]{pointer-events:none}.nvd3.nv-sparkline[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:none}.nvd3.nv-sparklineplus[_ngcontent-%COMP%]   g.nv-hoverValue[_ngcontent-%COMP%]{pointer-events:none}.nvd3.nv-sparklineplus[_ngcontent-%COMP%]   .nv-hoverValue[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#333;stroke-width:1.5px}.nvd3.nv-sparklineplus[_ngcontent-%COMP%], .nvd3.nv-sparklineplus[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{pointer-events:all}.nvd3[_ngcontent-%COMP%]   .nv-hoverArea[_ngcontent-%COMP%]{fill-opacity:0;stroke-opacity:0}.nvd3.nv-sparklineplus[_ngcontent-%COMP%]   .nv-xValue[_ngcontent-%COMP%], .nvd3.nv-sparklineplus[_ngcontent-%COMP%]   .nv-yValue[_ngcontent-%COMP%]{stroke-width:0;font-size:.9em;font-weight:normal}.nvd3.nv-sparklineplus[_ngcontent-%COMP%]   .nv-yValue[_ngcontent-%COMP%]{stroke:#f66}.nvd3.nv-sparklineplus[_ngcontent-%COMP%]   .nv-maxValue[_ngcontent-%COMP%]{stroke:#2ca02c;fill:#2ca02c}.nvd3.nv-sparklineplus[_ngcontent-%COMP%]   .nv-minValue[_ngcontent-%COMP%]{stroke:#d62728;fill:#d62728}.nvd3.nv-sparklineplus[_ngcontent-%COMP%]   .nv-currentValue[_ngcontent-%COMP%]{font-weight:bold;font-size:1.1em}.nvd3.nv-stackedarea[_ngcontent-%COMP%]   path.nv-area[_ngcontent-%COMP%]{fill-opacity:.7;stroke-opacity:0;transition:fill-opacity .25s linear,stroke-opacity .25s linear}.nvd3.nv-stackedarea[_ngcontent-%COMP%]   path.nv-area.hover[_ngcontent-%COMP%]{fill-opacity:.9}.nvd3.nv-stackedarea[_ngcontent-%COMP%]   .nv-groups[_ngcontent-%COMP%]   .nv-point[_ngcontent-%COMP%]{stroke-opacity:0;fill-opacity:0}.nvtooltip[_ngcontent-%COMP%]{position:absolute;background-color:#fff;color:#000;padding:1px;border:1px solid rgba(0,0,0,.2);z-index:10000;display:block;font-family:Arial,sans-serif;font-size:13px;text-align:left;pointer-events:none;white-space:nowrap;-webkit-user-select:none;user-select:none}.nvtooltip[_ngcontent-%COMP%]{background:rgba(255,255,255,.8);border:1px solid rgba(0,0,0,.5);border-radius:4px}.nvtooltip.with-transitions[_ngcontent-%COMP%], .with-transitions[_ngcontent-%COMP%]   .nvtooltip[_ngcontent-%COMP%]{transition:opacity 50ms linear;transition-delay:.2s}.nvtooltip.x-nvtooltip[_ngcontent-%COMP%], .nvtooltip.y-nvtooltip[_ngcontent-%COMP%]{padding:8px}.nvtooltip[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;padding:4px 14px;line-height:18px;font-weight:normal;background-color:#f7f7f7bf;color:#000;text-align:center;border-bottom:1px solid #ebebeb;border-radius:5px 5px 0 0}.nvtooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:5px 14px;text-align:center}.nvtooltip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin:2px 0}.nvtooltip[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:6px;border-spacing:0}.nvtooltip[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:2px 9px 2px 0;vertical-align:middle}.nvtooltip[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.key[_ngcontent-%COMP%]{font-weight:normal}.nvtooltip[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.key.total[_ngcontent-%COMP%]{font-weight:bold}.nvtooltip[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.value[_ngcontent-%COMP%]{text-align:right;font-weight:bold}.nvtooltip[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.percent[_ngcontent-%COMP%]{color:#a9a9a9}.nvtooltip[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.highlight[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1px 9px 1px 0;border-bottom-style:solid;border-bottom-width:1px;border-top-style:solid;border-top-width:1px}.nvtooltip[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.legend-color-guide[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:8px;height:8px;vertical-align:middle}.nvtooltip[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.legend-color-guide[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:12px;height:12px;border:1px solid #999}.nvtooltip[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding:3px;text-align:center}.nvtooltip-pending-removal[_ngcontent-%COMP%]{pointer-events:none;display:none}.nvd3[_ngcontent-%COMP%]   .nv-interactiveGuideLine[_ngcontent-%COMP%]{pointer-events:none}.nvd3[_ngcontent-%COMP%]   line.nv-guideline[_ngcontent-%COMP%]{stroke:#ccc}",".canvasContainer[_ngcontent-%COMP%]{visibility:hidden}"]}),tt})()}];let O=(()=>{class tt{}return tt.\u0275fac=function(q){return new(q||tt)},tt.\u0275mod=u.\u0275\u0275defineNgModule({type:tt}),tt.\u0275inj=u.\u0275\u0275defineInjector({imports:[[a.Bz.forChild(x)],a.Bz]}),tt})();ye(415),ye(3025);let W=(()=>{class tt{}return tt.\u0275fac=function(q){return new(q||tt)},tt.\u0275mod=u.\u0275\u0275defineNgModule({type:tt}),tt.\u0275inj=u.\u0275\u0275defineInjector({imports:[[f.ez,O,C.PW]]}),tt})()}}]);