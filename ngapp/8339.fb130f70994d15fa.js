"use strict";(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[8339],{8052:(j,p,r)=>{r.r(p),r.d(p,{StoredemoModule:()=>u});var n=r(6019),s=r(9843),d=r(3668);let S=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=d.\u0275\u0275defineComponent({type:t,selectors:[["app-storedemo"]],decls:20,vars:0,consts:[[1,"m-2","d-flex","justify-content-center"],["routerLink","users-store-feature","routerLinkActive","active",1,"btn","btn-outline-info","mr-2"],["routerLink","users-store","routerLinkActive","active",1,"btn","btn-outline-info","mr-2"],["routerLink","users-entity","routerLinkActive","active",1,"btn","btn-outline-warning","mr-2"],["routerLink","users-data","routerLinkActive","active",1,"btn","btn-outline-success","mr-2"],["routerLink","users-ws","routerLinkActive","active",1,"btn","btn-outline-danger","mr-2"],["routerLink","users-service","routerLinkActive","active",1,"btn","btn-outline-primary","mr-2"],["routerLink","users-cs","routerLinkActive","active",1,"btn","btn-outline-success","mr-2"],["routerLink","csdemo","routerLinkActive","active",1,"btn","btn-outline-danger","mr-2"],["routerLink","users-entity-demo","routerLinkActive","active",1,"btn","btn-outline-warning"]],template:function(o,h){1&o&&(d.\u0275\u0275elementStart(0,"header",0),d.\u0275\u0275elementStart(1,"a",1),d.\u0275\u0275text(2,"Users Store Feature"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"a",2),d.\u0275\u0275text(4,"Users Store"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"a",3),d.\u0275\u0275text(6,"Users Entity"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(7,"a",4),d.\u0275\u0275text(8,"Users Data"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(9,"a",5),d.\u0275\u0275text(10,"Users WS"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(11,"a",6),d.\u0275\u0275text(12,"Users Service"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(13,"a",7),d.\u0275\u0275text(14,"Users Component Store"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(15,"a",8),d.\u0275\u0275text(16,"Users CS Demo"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(17,"a",9),d.\u0275\u0275text(18,"Users Entity Demo"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(19,"router-outlet"))},directives:[s.yS,s.Od,s.lC],styles:[""],changeDetection:0}),t})();var e=r(1366),l=r(739),f=r(2019);let O=(()=>{class t{constructor(o){this.userService=o}resolve(o,h){return this.userService.loaded$.pipe((0,e.b)(g=>{g||this.userService.getAll()}),(0,l.P)())}}return t.\u0275fac=function(o){return new(o||t)(d.\u0275\u0275inject(f.$))},t.\u0275prov=d.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=r(9839),T=r(8735),R=r(5875),U=r(1932);let I=(()=>{class t{constructor(o){this.store=o}resolve(o,h){return this.store.pipe((0,_.Ys)(U.QQ),(0,e.b)(g=>{g||this.store.dispatch((0,R.wv)())}),(0,T.h)(g=>g),(0,l.P)())}}return t.\u0275fac=function(o){return new(o||t)(d.\u0275\u0275inject(_.yh))},t.\u0275prov=d.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var M=r(9334),y=r(8672);let A=(()=>{class t{constructor(o){this.store=o}resolve(o,h){return this.store.pipe((0,_.Ys)(y.pU),(0,e.b)(g=>{g||this.store.dispatch((0,M.Ec)())}),(0,T.h)(g=>g),(0,l.P)())}}return t.\u0275fac=function(o){return new(o||t)(d.\u0275\u0275inject(_.yh))},t.\u0275prov=d.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var F=r(3649);let N=(()=>{class t{constructor(o){this.userService=o}resolve(o,h){return this.userService.getUsers()}}return t.\u0275fac=function(o){return new(o||t)(d.\u0275\u0275inject(F.K))},t.\u0275prov=d.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var x=r(1155),W=r(7345);let H=(()=>{class t{constructor(o){this.store=o}resolve(o,h){return this.store.pipe((0,_.Ys)(W.gA),(0,e.b)(g=>{g||this.store.dispatch((0,x.zc)())}),(0,T.h)(g=>g),(0,l.P)())}}return t.\u0275fac=function(o){return new(o||t)(d.\u0275\u0275inject(_.yh))},t.\u0275prov=d.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=r(3359),C=r(2232);let c=(()=>{class t{constructor(o){this.store=o}resolve(o,h){return this.store.pipe((0,_.Ys)(C.gA),(0,e.b)(g=>{g||this.store.dispatch((0,m.zc)())}),(0,T.h)(g=>g),(0,l.P)())}}return t.\u0275fac=function(o){return new(o||t)(d.\u0275\u0275inject(_.yh))},t.\u0275prov=d.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=r(5794);const a=[{path:"",component:S,children:[{path:"users-store",loadChildren:()=>Promise.all([r.e(8592),r.e(4659)]).then(r.bind(r,4659)).then(t=>t.UsersStoreModule),resolve:[c]},{path:"users-entity",loadChildren:()=>Promise.all([r.e(8592),r.e(5337)]).then(r.bind(r,5337)).then(t=>t.UsersEntityModule),resolve:[A]},{path:"users-data",loadChildren:()=>Promise.resolve().then(r.bind(r,9518)).then(t=>t.UsersDataModule),resolve:[O]},{path:"users-ws",loadChildren:()=>Promise.resolve().then(r.bind(r,8125)).then(t=>t.UsersWsModule),resolve:[(()=>{class t{constructor(o){this.userService=o}resolve(o,h){return this.userService.loaded$.pipe((0,e.b)(g=>{g||this.userService.getAll()}),(0,l.P)())}}return t.\u0275fac=function(o){return new(o||t)(d.\u0275\u0275inject(v.q))},t.\u0275prov=d.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()]},{path:"users-service",loadChildren:()=>r.e(2570).then(r.bind(r,2570)).then(t=>t.UsersDataModule),resolve:{users:N}},{path:"users-cs",loadChildren:()=>Promise.all([r.e(5515),r.e(8685)]).then(r.bind(r,8685)).then(t=>t.UsersCsModule)},{path:"csdemo",loadChildren:()=>Promise.all([r.e(5515),r.e(5727)]).then(r.bind(r,5727)).then(t=>t.CsdemoModule)},{path:"users-entity-demo",loadChildren:()=>Promise.all([r.e(8592),r.e(1927)]).then(r.bind(r,1927)).then(t=>t.UsersEntityDemoModule),resolve:[I]},{path:"users-store-feature",loadChildren:()=>Promise.all([r.e(8592),r.e(6365)]).then(r.bind(r,6365)).then(t=>t.UsersStoreFeatureModule),resolve:[H]},{path:"",redirectTo:"users-data"}]}];let i=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=d.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=d.\u0275\u0275defineInjector({imports:[[s.Bz.forChild(a)],s.Bz]}),t})(),u=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=d.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=d.\u0275\u0275defineInjector({imports:[[n.ez,i]]}),t})()},2019:(j,p,r)=>{r.d(p,{$:()=>S});var n=r(581),s=r(9518),d=r(3668);let S=(()=>{class e extends n.c8{constructor(f){super(s.usersFeatureKey,f)}}return e.\u0275fac=function(f){return new(f||e)(d.\u0275\u0275inject(n.yV))},e.\u0275prov=d.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},9518:(j,p,r)=>{r.r(p),r.d(p,{UsersDataModule:()=>H,entityMetadata:()=>W,usersFeatureKey:()=>x});var n=r(6019),s=r(9843),d=r(7847),S=r(5304),e=r(3668),l=r(9133),f=r(2019),O=r(8167),_=r(138),T=r(86);let R=(()=>{class m{constructor(c,v,P,a){this.fb=c,this.dialogRef=v,this.userService=a,this.dialogTitle=P.dialogTitle,this.user=P.user,this.mode=P.mode;const i={email:[""],first_name:[""],last_name:[""]};"update"==this.mode?(this.form=this.fb.group(i),this.form.patchValue(Object.assign({},this.user))):"create"==this.mode&&(this.form=this.fb.group(Object.assign({},i)))}onClose(){this.dialogRef.close()}onSave(){const c=Object.assign(Object.assign({},this.user),this.form.value);"update"==this.mode?(console.log("Update User",c),this.userService.update(c),this.dialogRef.close()):"create"==this.mode&&(console.log("Add User",c),c.avatar="https://robohash.org/test?size=128x128",this.userService.add(c,{isOptimistic:!1}),this.dialogRef.close())}}return m.\u0275fac=function(c){return new(c||m)(e.\u0275\u0275directiveInject(l.qu),e.\u0275\u0275directiveInject(S.so),e.\u0275\u0275directiveInject(S.WI),e.\u0275\u0275directiveInject(f.$))},m.\u0275cmp=e.\u0275\u0275defineComponent({type:m,selectors:[["app-user-data-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","First Name","formControlName","first_name"],["matInput","","placeholder","Last Name","formControlName","last_name"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(c,v){1&c&&(e.\u0275\u0275elementStart(0,"h2",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"mat-dialog-content"),e.\u0275\u0275elementContainerStart(3),e.\u0275\u0275elementContainerStart(4,1),e.\u0275\u0275elementStart(5,"mat-form-field"),e.\u0275\u0275element(6,"input",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"mat-form-field"),e.\u0275\u0275element(8,"input",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"mat-form-field"),e.\u0275\u0275element(10,"input",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-dialog-actions"),e.\u0275\u0275elementStart(12,"button",5),e.\u0275\u0275listener("click",function(){return v.onClose()}),e.\u0275\u0275text(13,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",6),e.\u0275\u0275listener("click",function(){return v.onSave()}),e.\u0275\u0275text(15,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&c&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(v.dialogTitle),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",v.form))},directives:[S.uh,S.xY,l.JL,l.sg,O.KE,_.Nt,l.Fj,l.JJ,l.u,S.H8,T.lW],styles:[""],changeDetection:0}),m})();function U(m,C){if(1&m){const c=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275elementStart(1,"div",6),e.\u0275\u0275element(2,"img",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",8),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275elementStart(5,"strong"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"br"),e.\u0275\u0275elementStart(8,"small"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div"),e.\u0275\u0275elementStart(11,"button",9),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(c).$implicit;return e.\u0275\u0275nextContext().editUser(a)}),e.\u0275\u0275element(12,"i",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"button",11),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(c).$implicit;return e.\u0275\u0275nextContext().removeUser(a)}),e.\u0275\u0275element(14,"i",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&m){const c=C.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("src",c.avatar,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(c.first_name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(c.email)}}const M=[{path:"",component:(()=>{class m{constructor(c,v){this.userDataService=c,this.dialog=v}ngOnInit(){this.users$=this.userDataService.entities$}removeUser(c){console.log("Remove user"),this.userDataService.delete(c)}addUser(){const c=(0,d.m)();c.data={dialogTitle:"Add User",mode:"create"},this.dialog.open(R,c)}editUser(c){const v=(0,d.m)();v.data={dialogTitle:"Edit User",user:c,mode:"update"},this.dialog.open(R,v).afterClosed().subscribe(P=>{console.log("Closed",P)})}}return m.\u0275fac=function(c){return new(c||m)(e.\u0275\u0275directiveInject(f.$),e.\u0275\u0275directiveInject(S.uw))},m.\u0275cmp=e.\u0275\u0275defineComponent({type:m,selectors:[["app-users-data"]],decls:8,vars:3,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","align-self-center",3,"click"],[1,"ti-plus"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","mr-2"],["alt","...",3,"src"],[1,"flex-grow-1","ml-2"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-danger",3,"click"],[1,"ti-trash"]],template:function(c,v){1&c&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"header",1),e.\u0275\u0275elementStart(2,"h1"),e.\u0275\u0275text(3,"Users List (Data)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return v.addUser()}),e.\u0275\u0275element(5,"i",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,U,15,3,"div",4),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()),2&c&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(7,1,v.users$)))},directives:[n.sg],pipes:[n.Ov],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px}"],changeDetection:0}),m})()}];let y=(()=>{class m{}return m.\u0275fac=function(c){return new(c||m)},m.\u0275mod=e.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=e.\u0275\u0275defineInjector({imports:[[s.Bz.forChild(M)],s.Bz]}),m})();var A=r(581),F=r(4522);let N=(()=>{class m extends A.EJ{constructor(c,v){super(x,c,v),this.API_URL="https://hksocket.herokuapp.com/users"}getAll(){return this.http.get(`${this.API_URL}`)}add(c){return this.http.post(`${this.API_URL}`,c)}update(c){return this.http.put(`${this.API_URL}/${c.id}`,c.changes)}delete(c){return this.http.delete(`${this.API_URL}/${c}`)}}return m.\u0275fac=function(c){return new(c||m)(e.\u0275\u0275inject(F.eN),e.\u0275\u0275inject(A.hR))},m.\u0275prov=e.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const x="users",W={[x]:{entityDispatcherOptions:{optimisticUpdate:!0},selectId:m=>m._id}};let H=(()=>{class m{constructor(c,v,P){this.eds=c,this.entityDataService=v,this.usersDataService=P,this.eds.registerMetadataMap(W),this.entityDataService.registerService(x,this.usersDataService)}}return m.\u0275fac=function(c){return new(c||m)(e.\u0275\u0275inject(A.f0),e.\u0275\u0275inject(A.sP),e.\u0275\u0275inject(N))},m.\u0275mod=e.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=e.\u0275\u0275defineInjector({imports:[[n.ez,y,S.Is,_.c,O.lN,T.ot,l.UX]]}),m})()},5875:(j,p,r)=>{r.d(p,{zr:()=>l,jU:()=>O,FM:()=>f,m_:()=>T,kS:()=>_,wv:()=>d,UO:()=>e,hz:()=>S,pk:()=>R});var n=r(9839),s=(()=>{return(U=s||(s={})).GET_ENTITY_USERS="[User Entity Resolver] Get Users",U.GET_ENTITY_USERS_SUCCESS="[User Entity Effect] Get Users success",U.GET_ENTITY_USERS_FAILURE="[User Entity Effect] Get Users failure",U.ADD_ENTITY_USER="[User Entity Component] Add User",U.ADD_ENTITY_USER_SUCCESS="[User Entity Component] Add User success",U.ADD_ENTITY_USER_FAILURE="[User Entity Component] Add User failure",U.EDIT_ENTITY_USER="[Edit Entity User Component] Edit User",U.EDIT_ENTITY_USER_SUCCESS="[Edit Entity User Component] Edit User success",U.EDIT_ENTITY_USER_FAILURE="[Edit Entity User Component] Edit User failure",U.DELETE_ENTITY_USER="[User Entity Component] Delete User",U.DELETE_ENTITY_USER_SUCCESS="[User Entity Component] Delete User success",U.DELETE_ENTITY_USER_FAILURE="[User Entity Component] Delete User failure",U.SET_USER_ID="[One Component] Set User Id",s;var U})();const d=(0,n.PH)(s.GET_ENTITY_USERS),S=(0,n.PH)(s.GET_ENTITY_USERS_SUCCESS,(0,n.Ky)()),e=(0,n.PH)(s.GET_ENTITY_USERS_FAILURE,(0,n.Ky)()),l=(0,n.PH)(s.ADD_ENTITY_USER,(0,n.Ky)()),f=(0,n.PH)(s.ADD_ENTITY_USER_SUCCESS,(0,n.Ky)()),O=(0,n.PH)(s.ADD_ENTITY_USER_FAILURE),_=(0,n.PH)(s.EDIT_ENTITY_USER,(0,n.Ky)()),T=(0,n.PH)(s.DELETE_ENTITY_USER,(0,n.Ky)()),R=(0,n.PH)(s.SET_USER_ID,(0,n.Ky)())},1053:(j,p,r)=>{r.d(p,{K9:()=>S,NV:()=>f,OR:()=>_,td:()=>T});var n=r(2808),s=r(9839),d=r(5875);const S="userEntityDemo",e=(0,n.H)({}),l=e.getInitialState({loaded:!1,selectedUserId:1}),f=(0,s.Lq)(l,(0,s.on)(d.hz,(U,I)=>e.setAll(I.users,Object.assign(Object.assign({},U),{loaded:!0}))),(0,s.on)(d.FM,(U,I)=>e.addOne(I.user,U)),(0,s.on)(d.kS,(U,I)=>e.updateOne(I.user,U)),(0,s.on)(d.m_,(U,I)=>e.removeOne(I.id,U)),(0,s.on)(d.pk,(U,I)=>Object.assign(Object.assign({},U),{selectedUserId:I.id}))),{selectEntities:_,selectAll:T}=e.getSelectors()},1932:(j,p,r)=>{r.d(p,{Fp:()=>S,aU:()=>e,J9:()=>l,Ls:()=>_,QQ:()=>T});var n=r(9839),s=r(1053);const d=(0,n.ZF)(s.K9),S=(0,n.P1)(d,s.td),e=(0,n.P1)(S,R=>R.length),l=(0,n.P1)(S,R=>R.slice(0,3)),f=(0,n.P1)(d,s.OR),O=(0,n.P1)(d,R=>R.selectedUserId),_=(0,n.P1)(f,O,(R,U)=>R[U]),T=(0,n.P1)(d,R=>R.loaded)},9334:(j,p,r)=>{r.d(p,{S2:()=>l,XI:()=>O,SI:()=>f,Mb:()=>T,f_:()=>_,Ec:()=>d,V6:()=>e,vn:()=>S});var n=r(9839),s=(()=>{return(R=s||(s={})).GET_ENTITY_USERS="[User Entity Resolver] Get Users",R.GET_ENTITY_USERS_SUCCESS="[User Entity Effect] Get Users success",R.GET_ENTITY_USERS_FAILURE="[User Entity Effect] Get Users failure",R.ADD_ENTITY_USER="[User Entity Component] Add User",R.ADD_ENTITY_USER_SUCCESS="[User Entity Component] Add User success",R.ADD_ENTITY_USER_FAILURE="[User Entity Component] Add User failure",R.EDIT_ENTITY_USER="[Edit Entity User Component] Edit User",R.EDIT_ENTITY_USER_SUCCESS="[Edit Entity User Component] Edit User success",R.EDIT_ENTITY_USER_FAILURE="[Edit Entity User Component] Edit User failure",R.DELETE_ENTITY_USER="[User Entity Component] Delete User",R.DELETE_ENTITY_USER_SUCCESS="[User Entity Component] Delete User success",R.DELETE_ENTITY_USER_FAILURE="[User Entity Component] Delete User failure",s;var R})();const d=(0,n.PH)(s.GET_ENTITY_USERS),S=(0,n.PH)(s.GET_ENTITY_USERS_SUCCESS,(0,n.Ky)()),e=(0,n.PH)(s.GET_ENTITY_USERS_FAILURE,(0,n.Ky)()),l=(0,n.PH)(s.ADD_ENTITY_USER,(0,n.Ky)()),f=(0,n.PH)(s.ADD_ENTITY_USER_SUCCESS,(0,n.Ky)()),O=(0,n.PH)(s.ADD_ENTITY_USER_FAILURE),_=(0,n.PH)(s.EDIT_ENTITY_USER,(0,n.Ky)()),T=(0,n.PH)(s.DELETE_ENTITY_USER,(0,n.Ky)())},2540:(j,p,r)=>{r.d(p,{YI:()=>S,Jy:()=>f,OR:()=>_,td:()=>T});var n=r(2808),s=r(9839),d=r(9334);const S="userEntity",e=(0,n.H)({}),l=e.getInitialState({loaded:!1}),f=(0,s.Lq)(l,(0,s.on)(d.vn,(U,I)=>e.setAll(I.users,Object.assign(Object.assign({},U),{loaded:!0}))),(0,s.on)(d.SI,(U,I)=>e.addOne(I.user,U)),(0,s.on)(d.f_,(U,I)=>e.updateOne(I.user,U)),(0,s.on)(d.Mb,(U,I)=>e.removeOne(I.id,U))),{selectEntities:_,selectAll:T}=e.getSelectors()},8672:(j,p,r)=>{r.d(p,{vH:()=>S,pU:()=>l});var n=r(9839),s=r(2540);const d=(0,n.ZF)(s.YI),S=(0,n.P1)(d,s.td),l=((0,n.P1)(d,s.OR),(0,n.P1)(d,f=>f.loaded))},3649:(j,p,r)=>{r.d(p,{K:()=>S});var n=r(8053),s=r(3668),d=r(4522);let S=(()=>{class e{constructor(f){this.http=f,this.API_URL="https://reqres.in/api/users"}getUsers(){return this.http.get(`${this.API_URL}`).pipe((0,n.U)(f=>f.data))}addUser(f){return this.http.post(`${this.API_URL}`,f)}updateUser(f){return this.http.put(`${this.API_URL}/${f.id}`,f)}removeUser(f){return this.http.delete(`${this.API_URL}/${f}`)}}return e.\u0275fac=function(f){return new(f||e)(s.\u0275\u0275inject(d.eN))},e.\u0275prov=s.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},1155:(j,p,r)=>{r.d(p,{Dx:()=>l,Ls:()=>O,Kz:()=>f,Fp:()=>U,ru:()=>M,yc:()=>I,d0:()=>_,ox:()=>R,U7:()=>T,zc:()=>d,aA:()=>e,IU:()=>S});var n=r(9839),s=(()=>{return(y=s||(s={})).GET_STORE_USERS="[User Store Resolver] Get Users",y.GET_STORE_USERS_SUCCESS="[User Store Effect] Get Users success",y.GET_STORE_USERS_FAILURE="[User Store Effect] Get Users failure",y.ADD_STORE_USER="[User Store Component] Add User",y.ADD_STORE_USER_SUCCESS="[User Store Component] Add User success",y.ADD_STORE_USER_FAILURE="[User Store Component] Add User failure",y.EDIT_STORE_USER="[Edit Store User Component] Edit User",y.EDIT_STORE_USER_SUCCESS="[Edit Store User Component] Edit User success",y.EDIT_STORE_USER_FAILURE="[Edit Store User Component] Edit User failure",y.DELETE_STORE_USER="[User Store Component] Delete User",y.DELETE_STORE_USER_SUCCESS="[User Store Component] Delete User success",y.DELETE_STORE_USER_FAILURE="[User Store Component] Delete User failure",s;var y})();const d=(0,n.PH)(s.GET_STORE_USERS),S=(0,n.PH)(s.GET_STORE_USERS_SUCCESS,(0,n.Ky)()),e=(0,n.PH)(s.GET_STORE_USERS_FAILURE,(0,n.Ky)()),l=(0,n.PH)(s.ADD_STORE_USER,(0,n.Ky)()),f=(0,n.PH)(s.ADD_STORE_USER_SUCCESS,(0,n.Ky)()),O=(0,n.PH)(s.ADD_STORE_USER_FAILURE),_=(0,n.PH)(s.EDIT_STORE_USER,(0,n.Ky)()),T=(0,n.PH)(s.EDIT_STORE_USER_SUCCESS,(0,n.Ky)()),R=(0,n.PH)(s.EDIT_STORE_USER_FAILURE),U=(0,n.PH)(s.DELETE_STORE_USER,(0,n.Ky)()),I=(0,n.PH)(s.DELETE_STORE_USER_SUCCESS),M=(0,n.PH)(s.DELETE_STORE_USER_SUCCESS)},406:(j,p,r)=>{r.d(p,{N3:()=>e});var n=r(9839),s=r(1155);const e=(0,n.Tz)({name:"usersStoreFeature",reducer:(0,n.Lq)({data:null,error:null,isLoading:!1,loaded:!1},(0,n.on)(s.zc,l=>Object.assign(Object.assign({},l),{isLoading:!0})),(0,n.on)(s.IU,(l,f)=>Object.assign(Object.assign({},l),{isLoading:!1,data:f.users,loaded:!0})),(0,n.on)(s.aA,(l,f)=>Object.assign(Object.assign({},l),{isLoading:!1})),(0,n.on)(s.Dx,l=>Object.assign(Object.assign({},l),{isLoading:!0})),(0,n.on)(s.Kz,(l,f)=>Object.assign(Object.assign({},l),{isLoading:!1,data:[f.user,...l.data]})),(0,n.on)(s.Ls,l=>Object.assign(Object.assign({},l),{isLoading:!1})),(0,n.on)(s.d0,l=>Object.assign(Object.assign({},l),{isLoading:!0})),(0,n.on)(s.U7,(l,f)=>{const O=l.data.map(_=>_.id===f.user.id?f.user:_);return Object.assign(Object.assign({},l),{isLoading:!1,data:O})}),(0,n.on)(s.ox,l=>Object.assign(Object.assign({},l),{isLoading:!1})),(0,n.on)(s.Fp,(l,f)=>{const O=l.data.filter(_=>_.id!==f.id);return Object.assign(Object.assign({},l),{data:O})}),(0,n.on)(s.yc,l=>Object.assign(Object.assign({},l),{isLoading:!1})),(0,n.on)(s.ru,l=>Object.assign(Object.assign({},l),{isLoading:!1})))})},7345:(j,p,r)=>{r.d(p,{zE:()=>d,gA:()=>S});var n=r(406);const{selectData:d,selectLoaded:S}=n.N3},3359:(j,p,r)=>{r.d(p,{Dx:()=>l,Ls:()=>O,Kz:()=>f,Fp:()=>U,ru:()=>M,yc:()=>I,d0:()=>_,ox:()=>R,U7:()=>T,zc:()=>d,aA:()=>e,IU:()=>S});var n=r(9839),s=(()=>{return(y=s||(s={})).GET_STORE_USERS="[User Store Resolver] Get Users",y.GET_STORE_USERS_SUCCESS="[User Store Effect] Get Users success",y.GET_STORE_USERS_FAILURE="[User Store Effect] Get Users failure",y.ADD_STORE_USER="[User Store Component] Add User",y.ADD_STORE_USER_SUCCESS="[User Store Component] Add User success",y.ADD_STORE_USER_FAILURE="[User Store Component] Add User failure",y.EDIT_STORE_USER="[Edit Store User Component] Edit User",y.EDIT_STORE_USER_SUCCESS="[Edit Store User Component] Edit User success",y.EDIT_STORE_USER_FAILURE="[Edit Store User Component] Edit User failure",y.DELETE_STORE_USER="[User Store Component] Delete User",y.DELETE_STORE_USER_SUCCESS="[User Store Component] Delete User success",y.DELETE_STORE_USER_FAILURE="[User Store Component] Delete User failure",s;var y})();const d=(0,n.PH)(s.GET_STORE_USERS),S=(0,n.PH)(s.GET_STORE_USERS_SUCCESS,(0,n.Ky)()),e=(0,n.PH)(s.GET_STORE_USERS_FAILURE,(0,n.Ky)()),l=(0,n.PH)(s.ADD_STORE_USER,(0,n.Ky)()),f=(0,n.PH)(s.ADD_STORE_USER_SUCCESS,(0,n.Ky)()),O=(0,n.PH)(s.ADD_STORE_USER_FAILURE),_=(0,n.PH)(s.EDIT_STORE_USER,(0,n.Ky)()),T=(0,n.PH)(s.EDIT_STORE_USER_SUCCESS,(0,n.Ky)()),R=(0,n.PH)(s.EDIT_STORE_USER_FAILURE),U=(0,n.PH)(s.DELETE_STORE_USER,(0,n.Ky)()),I=(0,n.PH)(s.DELETE_STORE_USER_SUCCESS),M=(0,n.PH)(s.DELETE_STORE_USER_SUCCESS)},4214:(j,p,r)=>{r.d(p,{GH:()=>d,wq:()=>e});var n=r(9839),s=r(3359);const d="userStore",e=(0,n.Lq)({data:null,isLoading:!1,error:null,loaded:!1},(0,n.on)(s.zc,l=>Object.assign(Object.assign({},l),{isLoading:!0})),(0,n.on)(s.IU,(l,f)=>Object.assign(Object.assign({},l),{isLoading:!1,data:f.users,loaded:!0})),(0,n.on)(s.aA,(l,f)=>Object.assign(Object.assign({},l),{isLoading:!1})),(0,n.on)(s.Dx,l=>Object.assign(Object.assign({},l),{isLoading:!0})),(0,n.on)(s.Kz,(l,f)=>Object.assign(Object.assign({},l),{isLoading:!1,data:[f.user,...l.data]})),(0,n.on)(s.Ls,l=>Object.assign(Object.assign({},l),{isLoading:!1})),(0,n.on)(s.d0,l=>Object.assign(Object.assign({},l),{isLoading:!0})),(0,n.on)(s.U7,(l,f)=>{const O=l.data.map(_=>_.id===f.user.id?f.user:_);return Object.assign(Object.assign({},l),{isLoading:!1,data:O})}),(0,n.on)(s.ox,l=>Object.assign(Object.assign({},l),{isLoading:!1})),(0,n.on)(s.Fp,(l,f)=>{const O=l.data.filter(_=>_.id!==f.id);return Object.assign(Object.assign({},l),{data:O})}),(0,n.on)(s.yc,l=>Object.assign(Object.assign({},l),{isLoading:!1})),(0,n.on)(s.ru,l=>Object.assign(Object.assign({},l),{isLoading:!1})))},2232:(j,p,r)=>{r.d(p,{zE:()=>S,gA:()=>e});var n=r(9839),s=r(4214);const d=(0,n.ZF)(s.GH),S=(0,n.P1)(d,l=>l.data),e=(0,n.P1)(d,l=>l.loaded)},5794:(j,p,r)=>{r.d(p,{q:()=>S});var n=r(581),s=r(8125),d=r(3668);let S=(()=>{class e extends n.c8{constructor(f){super(s.usersWsFeatureKey,f)}}return e.\u0275fac=function(f){return new(f||e)(d.\u0275\u0275inject(n.yV))},e.\u0275prov=d.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},8125:(j,p,r)=>{r.r(p),r.d(p,{UsersWsModule:()=>H,entityMetadata:()=>W,usersWsFeatureKey:()=>x});var n=r(6019),s=r(9843),d=r(7847),S=r(5304),e=r(3668),l=r(9133),f=r(5794),O=r(8167),_=r(138),T=r(86);let R=(()=>{class m{constructor(c,v,P,a){this.fb=c,this.dialogRef=v,this.userService=a,this.dialogTitle=P.dialogTitle,this.user=P.user,this.mode=P.mode;const i={email:[""],first_name:[""],last_name:[""]};"update"==this.mode?(this.form=this.fb.group(i),this.form.patchValue(Object.assign({},this.user))):"create"==this.mode&&(this.form=this.fb.group(Object.assign({},i)))}onClose(){this.dialogRef.close()}onSave(){const c=Object.assign(Object.assign({},this.user),this.form.value);"update"==this.mode?(console.log("Update User",c),this.userService.update(c),this.dialogRef.close()):"create"==this.mode&&(console.log("Add User",c),c.avatar="https://robohash.org/test?size=128x128",this.userService.add(c,{isOptimistic:!1}),this.dialogRef.close())}}return m.\u0275fac=function(c){return new(c||m)(e.\u0275\u0275directiveInject(l.qu),e.\u0275\u0275directiveInject(S.so),e.\u0275\u0275directiveInject(S.WI),e.\u0275\u0275directiveInject(f.q))},m.\u0275cmp=e.\u0275\u0275defineComponent({type:m,selectors:[["app-user-data-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","First Name","formControlName","first_name"],["matInput","","placeholder","Last Name","formControlName","last_name"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(c,v){1&c&&(e.\u0275\u0275elementStart(0,"h2",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"mat-dialog-content"),e.\u0275\u0275elementContainerStart(3),e.\u0275\u0275elementContainerStart(4,1),e.\u0275\u0275elementStart(5,"mat-form-field"),e.\u0275\u0275element(6,"input",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"mat-form-field"),e.\u0275\u0275element(8,"input",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"mat-form-field"),e.\u0275\u0275element(10,"input",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-dialog-actions"),e.\u0275\u0275elementStart(12,"button",5),e.\u0275\u0275listener("click",function(){return v.onClose()}),e.\u0275\u0275text(13,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",6),e.\u0275\u0275listener("click",function(){return v.onSave()}),e.\u0275\u0275text(15,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&c&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(v.dialogTitle),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",v.form))},directives:[S.uh,S.xY,l.JL,l.sg,O.KE,_.Nt,l.Fj,l.JJ,l.u,S.H8,T.lW],styles:[""],changeDetection:0}),m})();function U(m,C){if(1&m){const c=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275elementStart(1,"div",6),e.\u0275\u0275element(2,"img",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",8),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275elementStart(5,"strong"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"br"),e.\u0275\u0275elementStart(8,"small"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div"),e.\u0275\u0275elementStart(11,"button",9),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(c).$implicit;return e.\u0275\u0275nextContext().editUser(a)}),e.\u0275\u0275element(12,"i",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"button",11),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(c).$implicit;return e.\u0275\u0275nextContext().removeUser(a)}),e.\u0275\u0275element(14,"i",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&m){const c=C.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("src",c.avatar,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(c.first_name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(c.email)}}const M=[{path:"",component:(()=>{class m{constructor(c,v){this.userDataService=c,this.dialog=v}ngOnInit(){this.users$=this.userDataService.entities$}removeUser(c){console.log("Remove user"),this.userDataService.delete(c)}addUser(){const c=(0,d.m)();c.data={dialogTitle:"Add User",mode:"create"},this.dialog.open(R,c)}editUser(c){const v=(0,d.m)();v.data={dialogTitle:"Edit User",user:c,mode:"update"},this.dialog.open(R,v).afterClosed().subscribe(P=>{console.log("Closed",P)})}}return m.\u0275fac=function(c){return new(c||m)(e.\u0275\u0275directiveInject(f.q),e.\u0275\u0275directiveInject(S.uw))},m.\u0275cmp=e.\u0275\u0275defineComponent({type:m,selectors:[["app-users-ws"]],decls:8,vars:3,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","align-self-center",3,"click"],[1,"ti-plus"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","mr-2"],["alt","...",3,"src"],[1,"flex-grow-1","ml-2"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-danger",3,"click"],[1,"ti-trash"]],template:function(c,v){1&c&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"header",1),e.\u0275\u0275elementStart(2,"h1"),e.\u0275\u0275text(3,"Users List (Data)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return v.addUser()}),e.\u0275\u0275element(5,"i",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,U,15,3,"div",4),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()),2&c&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(7,1,v.users$)))},directives:[n.sg],pipes:[n.Ov],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px}"],changeDetection:0}),m})()}];let y=(()=>{class m{}return m.\u0275fac=function(c){return new(c||m)},m.\u0275mod=e.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=e.\u0275\u0275defineInjector({imports:[[s.Bz.forChild(M)],s.Bz]}),m})();var A=r(581),F=r(4522);let N=(()=>{class m extends A.EJ{constructor(c,v){super(x,c,v),this.API_URL="https://hksocket.herokuapp.com/users"}getAll(){return this.http.get(`${this.API_URL}`)}add(c){return this.http.post(`${this.API_URL}`,c)}update(c){return this.http.put(`${this.API_URL}/${c.id}`,c.changes)}delete(c){return this.http.delete(`${this.API_URL}/${c}`)}}return m.\u0275fac=function(c){return new(c||m)(e.\u0275\u0275inject(F.eN),e.\u0275\u0275inject(A.hR))},m.\u0275prov=e.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const x="users",W={[x]:{entityDispatcherOptions:{optimisticUpdate:!0},selectId:m=>m._id}};let H=(()=>{class m{constructor(c,v,P){this.eds=c,this.entityDataService=v,this.usersDataService=P,this.eds.registerMetadataMap(W),this.entityDataService.registerService(x,this.usersDataService)}}return m.\u0275fac=function(c){return new(c||m)(e.\u0275\u0275inject(A.f0),e.\u0275\u0275inject(A.sP),e.\u0275\u0275inject(N))},m.\u0275mod=e.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=e.\u0275\u0275defineInjector({imports:[[n.ez,y,S.Is,_.c,O.lN,T.ot,l.UX]]}),m})()},4762:(j,p,r)=>{function e(a,i,u,t){var h,E=arguments.length,o=E<3?i:null===t?t=Object.getOwnPropertyDescriptor(i,u):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(a,i,u,t);else for(var g=a.length-1;g>=0;g--)(h=a[g])&&(o=(E<3?h(o):E>3?h(i,u,o):h(i,u))||o);return E>3&&o&&Object.defineProperty(i,u,o),o}function l(a,i){return function(u,t){i(u,t,a)}}function f(a,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,i)}function O(a,i,u,t){return new(u||(u=Promise))(function(o,h){function g(b){try{D(t.next(b))}catch(Y){h(Y)}}function K(b){try{D(t.throw(b))}catch(Y){h(Y)}}function D(b){b.done?o(b.value):function(o){return o instanceof u?o:new u(function(h){h(o)})}(b.value).then(g,K)}D((t=t.apply(a,i||[])).next())})}r.d(p,{gn:()=>e,fM:()=>l,w6:()=>f,mG:()=>O})}}]);