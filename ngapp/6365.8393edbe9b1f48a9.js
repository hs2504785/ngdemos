"use strict";(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[6365],{6365:(N,S,n)=>{n.r(S),n.d(S,{UsersStoreFeatureModule:()=>O});var f=n(6019),U=n(9843),p=n(9839),o=n(1155),g=n(7847),h=n(2139),x=n(7345),e=n(3668),F=n(5304);function C(t,l){if(1&t){const r=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275elementStart(1,"div",6),e.\u0275\u0275element(2,"img",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",8),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275elementStart(5,"strong"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"br"),e.\u0275\u0275elementStart(8,"small"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div"),e.\u0275\u0275elementStart(11,"button",9),e.\u0275\u0275listener("click",function(){const c=e.\u0275\u0275restoreView(r).$implicit;return e.\u0275\u0275nextContext().editUser(c)}),e.\u0275\u0275element(12,"i",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"button",11),e.\u0275\u0275listener("click",function(){const c=e.\u0275\u0275restoreView(r).$implicit;return e.\u0275\u0275nextContext().removeUser(c)}),e.\u0275\u0275element(14,"i",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&t){const r=l.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("src",r.avatar,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(r.first_name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(r.email)}}const E=[{path:"",component:(()=>{class t{constructor(r,i){this.store=r,this.dialog=i}ngOnInit(){this.users$=this.store.pipe((0,p.Ys)(x.zE))}removeUser(r){console.log("Remove user"),this.store.dispatch((0,o.Fp)({id:r.id}))}addUser(){const r=(0,g.m)();r.data={dialogTitle:"Add User",mode:"create"},this.dialog.open(h.W,r)}editUser(r){const i=(0,g.m)();i.data={dialogTitle:"Edit User",user:r,mode:"update"},this.dialog.open(h.W,i).afterClosed().subscribe(s=>{console.log("Closed",s)})}}return t.\u0275fac=function(r){return new(r||t)(e.\u0275\u0275directiveInject(p.yh),e.\u0275\u0275directiveInject(F.uw))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-users-store-feature"]],decls:8,vars:3,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","align-self-center",3,"click"],[1,"ti-plus"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","mr-2"],["alt","...",3,"src"],[1,"flex-grow-1","ml-2"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-danger",3,"click"],[1,"ti-trash"]],template:function(r,i){1&r&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"header",1),e.\u0275\u0275elementStart(2,"h1"),e.\u0275\u0275text(3,"Users List (Store)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return i.addUser()}),e.\u0275\u0275element(5,"i",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,C,15,3,"div",4),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()),2&r&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(7,1,i.users$)))},directives:[f.sg],pipes:[f.Ov],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px}"],changeDetection:0}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[U.Bz.forChild(E)],U.Bz]}),t})();var a=n(2407),v=n(9204),d=n(8053),u=n(2047),$=n(4421),m=n(2411),M=n(5820);let j=(()=>{class t{constructor(r,i){this.actions$=r,this.userStoreSetvice=i,this.loadStoreUsers$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(o.zc),(0,v.w)(()=>this.userStoreSetvice.getUsers().pipe((0,d.U)(s=>(0,o.IU)({users:s})),(0,u.K)(s=>(0,m.of)((0,o.aA)({error:s}))))))),this.deleteStoreUsers$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(o.Fp),(0,$.zg)(({id:s})=>this.userStoreSetvice.removeUser(s).pipe((0,d.U)(()=>(0,o.yc)()),(0,u.K)(()=>(0,m.of)((0,o.ru)())))))),this.createStoreUser$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(o.Dx),(0,v.w)(({user:s})=>this.userStoreSetvice.addUser(s).pipe((0,d.U)(c=>(0,o.Kz)({user:c})),(0,u.K)(()=>(0,m.of)((0,o.Ls)())))))),this.editStoreUser$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(o.d0),(0,v.w)(({user:s})=>this.userStoreSetvice.updateUser(s).pipe((0,d.U)(c=>(0,o.U7)({user:c})),(0,u.K)(()=>(0,m.of)((0,o.ox)()))))))}}return t.\u0275fac=function(r){return new(r||t)(e.\u0275\u0275inject(a.eX),e.\u0275\u0275inject(M.p))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();var I=n(406),z=n(138),T=n(8167),W=n(86),K=n(9133);let O=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[f.ez,y,F.Is,z.c,T.lN,W.ot,K.UX,p.Aw.forFeature(I.N3),a.sQ.forFeature([j])]]}),t})()}}]);