(self.webpackChunkngdemos=self.webpackChunkngdemos||[]).push([[7136],{7136:(e,t,n)=>{"use strict";n.r(t),n.d(t,{UsersDataModule:()=>S});var i=n(1116),r=n(766),s=n(4981),a=n(4689),l=n(842),o=n(2935),c=n(5366),d=n(1041),m=n(6932),u=n(3070),h=n(9550),p=n(4369);let f=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.dialogRef=t,this.userService=i,this.dialogTitle=n.dialogTitle,this.user=n.user,this.mode=n.mode;const r={email:[""],first_name:[""],last_name:[""]};"update"==this.mode?(this.form=this.fb.group(r),this.form.patchValue(Object.assign({},this.user))):"create"==this.mode&&(this.form=this.fb.group(Object.assign({},r)))}onClose(){this.dialogRef.close()}onSave(){const e=Object.assign(Object.assign({},this.user),this.form.value);"update"==this.mode?(console.log("Update User",e),this.dialogRef.close(e)):"create"==this.mode&&(console.log("Add User",e),e.avatar="https://reqres.in/img/faces/10-image.jpg",this.dialogRef.close(e))}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](d.qu),c["\u0275\u0275directiveInject"](o.so),c["\u0275\u0275directiveInject"](o.WI),c["\u0275\u0275directiveInject"](m.K))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-data-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","First Name","formControlName","first_name"],["matInput","","placeholder","Last Name","formControlName","last_name"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h2",0),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"mat-dialog-content"),c["\u0275\u0275elementContainerStart"](3),c["\u0275\u0275elementContainerStart"](4,1),c["\u0275\u0275elementStart"](5,"mat-form-field"),c["\u0275\u0275element"](6,"input",2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"mat-form-field"),c["\u0275\u0275element"](8,"input",3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"mat-form-field"),c["\u0275\u0275element"](10,"input",4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"mat-dialog-actions"),c["\u0275\u0275elementStart"](12,"button",5),c["\u0275\u0275listener"]("click",function(){return t.onClose()}),c["\u0275\u0275text"](13,"Close"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"button",6),c["\u0275\u0275listener"]("click",function(){return t.onSave()}),c["\u0275\u0275text"](15,"Save"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](t.dialogTitle),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",t.form))},directives:[o.uh,o.xY,d.JL,d.sg,u.KE,h.Nt,d.Fj,d.JJ,d.u,o.H8,p.lW],styles:[""],changeDetection:0}),e})();function g(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",5),c["\u0275\u0275elementStart"](1,"div",6),c["\u0275\u0275element"](2,"img",7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",8),c["\u0275\u0275elementStart"](4,"div"),c["\u0275\u0275elementStart"](5,"strong"),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](7,"br"),c["\u0275\u0275elementStart"](8,"small"),c["\u0275\u0275text"](9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div"),c["\u0275\u0275elementStart"](11,"button",9),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"]().editUser(t)}),c["\u0275\u0275element"](12,"i",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"button",11),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"]().removeUser(t)}),c["\u0275\u0275element"](14,"i",12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("src",e.avatar,c["\u0275\u0275sanitizeUrl"]),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](e.first_name),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](e.email)}}const v=[{path:"",component:(()=>{class e{constructor(e,t,n,i){this.route=e,this.dialog=t,this.userService=n,this.cd=i}ngOnInit(){this.users=this.route.snapshot.data.users}removeUser(e){console.log("Remove user"),this.userService.removeUser(e.id).subscribe(t=>{this.users=this.users.filter(t=>t.id!==e.id),this.cd.detectChanges()})}addUser(){const e=(0,l.m)();e.data={dialogTitle:"Add User",mode:"create"},this.sub=this.dialog.open(f,e).afterClosed().pipe((0,s.z)(e=>this.userService.addUser(e))).subscribe(e=>{this.users=[e,...this.users],this.cd.detectChanges()})}editUser(e){const t=(0,l.m)();t.data={dialogTitle:"Edit User",user:e,mode:"update"};const n=this.dialog.open(f,t).afterClosed().pipe((0,a.w)(e=>this.userService.updateUser(e))).subscribe(t=>{this.users=this.users.map(n=>n.id===e.id?t:n),console.log("Closed Edit",t),this.cd.detectChanges()});this.sub&&this.sub.add(n)}ngOnDestroy(){var e;null===(e=this.sub)||void 0===e||e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](r.gz),c["\u0275\u0275directiveInject"](o.uw),c["\u0275\u0275directiveInject"](m.K),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-users-data"]],decls:7,vars:1,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","align-self-center",3,"click"],[1,"ti-plus"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","mr-2"],["alt","...",3,"src"],[1,"flex-grow-1","ml-2"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-danger",3,"click"],[1,"ti-trash"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"header",1),c["\u0275\u0275elementStart"](2,"h1"),c["\u0275\u0275text"](3,"Users List (Service)"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"button",2),c["\u0275\u0275listener"]("click",function(){return t.addUser()}),c["\u0275\u0275element"](5,"i",3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](6,g,15,3,"div",4),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngForOf",t.users))},directives:[i.sg],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px}"],changeDetection:0}),e})()}];let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[r.Bz.forChild(v)],r.Bz]}),e})(),S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[i.ez,b,o.Is,h.c,u.lN,p.ot,d.UX]]}),e})()}}]);