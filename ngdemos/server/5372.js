"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=5372,exports.ids=[5372],exports.modules={65372:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LongRunningModule:()=>LongRunningModule});var common=__webpack_require__(89318),router=__webpack_require__(14195);function lagRadar(config={}){const{frames=50,speed=.0017,size=300,inset=3,parent=document.getElementById("longTask")}=config,svgns="http://www.w3.org/2000/svg",styles=document.createTextNode("\n    .lagRadar-sweep > * {\n      shape-rendering: crispEdges;\n    }\n    .lagRadar-face {\n      fill: transparent;\n    }\n    .lagRadar-hand {\n      stroke-width: 4px;\n      stroke-linecap: round;\n    }\n  ");function $svg(tag,props={},children=[]){const el=document.createElementNS(svgns,tag);return Object.keys(props).forEach(prop=>el.setAttribute(prop,props[prop])),children.forEach(child=>el.appendChild(child)),el}__name($svg,"$svg");const PI2=2*Math.PI,middle=size/2,radius=middle-inset,$hand=$svg("path",{class:"lagRadar-hand"}),$arcs=new Array(frames).fill("path").map(t=>$svg(t)),$root=$svg("svg",{class:"lagRadar",height:size,width:size},[$svg("style",{type:"text/css"},[styles]),$svg("g",{class:"lagRadar-sweep"},$arcs),$hand,$svg("circle",{class:"lagRadar-face",cx:middle,cy:middle,r:radius})]);parent.appendChild($root);let frame,framePtr=0,last={rotation:0,now:Date.now(),tx:middle+radius,ty:middle};const calcHue=(()=>{const mult=120/Math.log(100);return function(ms_delta){return 120-Math.max(0,Math.min(mult*Math.log(ms_delta/10),120))}})();function animate(){const now=Date.now(),rdelta=Math.min(PI2-speed,speed*(now-last.now)),rotation=(last.rotation+rdelta)%PI2,tx=middle+radius*Math.cos(rotation),ty=middle+radius*Math.sin(rotation),bigArc=rdelta<Math.PI?"0":"1",path=`M${tx} ${ty}A${radius} ${radius} 0 ${bigArc} 0 ${last.tx} ${last.ty}L${middle} ${middle}`,hue=calcHue(rdelta/speed);$arcs[framePtr%frames].setAttribute("d",path),$arcs[framePtr%frames].setAttribute("fill",`hsl(${hue}, 80%, 40%)`),$hand.setAttribute("d",`M${middle} ${middle}L${tx} ${ty}`),$hand.setAttribute("stroke",`hsl(${hue}, 80%, 60%)`);for(let i=0;i<frames;i++)$arcs[(frames+framePtr-i)%frames].style.fillOpacity=""+(1-i/frames);framePtr++,last={now,rotation,tx,ty},frame=window.requestAnimationFrame(animate)}return __name(animate,"animate"),animate(),__name(function(){frame&&window.cancelAnimationFrame(frame),$root.remove()},"destroy")}__name(lagRadar,"lagRadar");var long_running_helper=__webpack_require__(5638),core=__webpack_require__(40305);const _c0=["output"];class LongRunningComponent{constructor(){}ngOnInit(){console.log("here"),lagRadar(),this.initWorker()}initWorker(){typeof Worker<"u"&&(this.worker=new Worker(new URL("./services/long-running.worker","file:///Users/hemant/Documents/GITHUB/ngdemos/src/app/modules/worker/modules/long-running/long-running.component.ts")),this.worker.onmessage=({data})=>{this.setResult("Worker",data,performance.now()-this.start)})}setResult(from,result,time){this.output.nativeElement.textContent=`\n    From ${from}.\n    Result: ${result}.\n    Time: ${time}`.trim()}runMainThread(){this.output.nativeElement.textContent="Wait...",this.start=performance.now();const result=(0,long_running_helper.P)(1e6);this.setResult("Main thread",result,performance.now()-this.start)}runWorkerThread(){this.output.nativeElement.textContent="Wait...",this.start=performance.now(),this.worker.postMessage(1e6)}}__name(LongRunningComponent,"LongRunningComponent"),LongRunningComponent.\u0275fac=__name(function(t){return new(t||LongRunningComponent)},"LongRunningComponent_Factory"),LongRunningComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:LongRunningComponent,selectors:[["app-long-running"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.\u0275\u0275viewQuery(_c0,5),2&rf){let _t;core.\u0275\u0275queryRefresh(_t=core.\u0275\u0275loadQuery())&&(ctx.output=_t.first)}},"LongRunningComponent_Query"),decls:14,vars:0,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-warning","mr-2",3,"click"],["type","button",1,"btn","btn-success",3,"click"],[1,"main","text-center"],[1,"text-muted"],["output",""],["id","longTask"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h1"),core.\u0275\u0275text(3,"Long Running Task Demo"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(4,"div")(5,"button",2),core.\u0275\u0275listener("click",__name(function(){return ctx.runMainThread()},"LongRunningComponent_Template_button_click_5_listener")),core.\u0275\u0275text(6," Main Thread Task "),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(7,"button",3),core.\u0275\u0275listener("click",__name(function(){return ctx.runWorkerThread()},"LongRunningComponent_Template_button_click_7_listener")),core.\u0275\u0275text(8," Web Worker Task "),core.\u0275\u0275elementEnd()()(),core.\u0275\u0275elementStart(9,"div",4)(10,"div",5,6),core.\u0275\u0275text(12,"Nothing to display... yet"),core.\u0275\u0275elementEnd(),core.\u0275\u0275element(13,"div",7),core.\u0275\u0275elementEnd()())},"LongRunningComponent_Template"),changeDetection:0});const routes=[{path:"",component:LongRunningComponent}];class LongRunningRoutingModule{}__name(LongRunningRoutingModule,"LongRunningRoutingModule"),LongRunningRoutingModule.\u0275fac=__name(function(t){return new(t||LongRunningRoutingModule)},"LongRunningRoutingModule_Factory"),LongRunningRoutingModule.\u0275mod=core.\u0275\u0275defineNgModule({type:LongRunningRoutingModule}),LongRunningRoutingModule.\u0275inj=core.\u0275\u0275defineInjector({imports:[router.Bz.forChild(routes),router.Bz]});class LongRunningModule{}__name(LongRunningModule,"LongRunningModule"),LongRunningModule.\u0275fac=__name(function(t){return new(t||LongRunningModule)},"LongRunningModule_Factory"),LongRunningModule.\u0275mod=core.\u0275\u0275defineNgModule({type:LongRunningModule}),LongRunningModule.\u0275inj=core.\u0275\u0275defineInjector({imports:[common.ez,LongRunningRoutingModule]})},5638:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function crazyBusyFunction(num){let res;for(var i=0;i<=num;i+=.1)res=performance.now();return res}function keepCounting(cb,times=1e9){for(var x=1;x<=times;x++){x%2e7==0&&cb(x)}}__webpack_require__.d(__webpack_exports__,{P:()=>crazyBusyFunction,W:()=>keepCounting}),__name(crazyBusyFunction,"crazyBusyFunction"),__name(keepCounting,"keepCounting")}};