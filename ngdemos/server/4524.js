"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=4524,exports.ids=[4524],exports.modules={14524:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CsdemoModule:()=>CsdemoModule});var common=__webpack_require__(89318),router=__webpack_require__(14195),user_cs_store_service=__webpack_require__(21132),core=__webpack_require__(40305),default_dialog_config=__webpack_require__(43493),user_cs_dialog_component=__webpack_require__(18292),dialog=__webpack_require__(4734);function OneComponent_div_6_Template(rf,ctx){if(1&rf){const _r3=core.\u0275\u0275getCurrentView();core.\u0275\u0275elementStart(0,"div",5)(1,"div",6),core.\u0275\u0275element(2,"img",7),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(3,"div",8)(4,"div")(5,"strong"),core.\u0275\u0275text(6),core.\u0275\u0275elementEnd(),core.\u0275\u0275element(7,"br"),core.\u0275\u0275elementStart(8,"small"),core.\u0275\u0275text(9),core.\u0275\u0275elementEnd()(),core.\u0275\u0275elementStart(10,"div")(11,"button",9),core.\u0275\u0275listener("click",__name(function(){const user_r1=core.\u0275\u0275restoreView(_r3).$implicit,ctx_r2=core.\u0275\u0275nextContext();return core.\u0275\u0275resetView(ctx_r2.editUser(user_r1))},"OneComponent_div_6_Template_button_click_11_listener")),core.\u0275\u0275element(12,"i",10),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(13,"button",11),core.\u0275\u0275listener("click",__name(function(){const user_r1=core.\u0275\u0275restoreView(_r3).$implicit,ctx_r4=core.\u0275\u0275nextContext();return core.\u0275\u0275resetView(ctx_r4.removeUser(user_r1))},"OneComponent_div_6_Template_button_click_13_listener")),core.\u0275\u0275element(14,"i",12),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(15,"button",13),core.\u0275\u0275listener("click",__name(function(){const user_r1=core.\u0275\u0275restoreView(_r3).$implicit,ctx_r5=core.\u0275\u0275nextContext();return core.\u0275\u0275resetView(ctx_r5.selectUser(user_r1))},"OneComponent_div_6_Template_button_click_15_listener")),core.\u0275\u0275element(16,"i",14),core.\u0275\u0275elementEnd()()()()}if(2&rf){const user_r1=ctx.$implicit;core.\u0275\u0275advance(2),core.\u0275\u0275property("src",user_r1.avatar,core.\u0275\u0275sanitizeUrl),core.\u0275\u0275advance(4),core.\u0275\u0275textInterpolate(user_r1.first_name),core.\u0275\u0275advance(3),core.\u0275\u0275textInterpolate(user_r1.email)}}__name(OneComponent_div_6_Template,"OneComponent_div_6_Template");class OneComponent{constructor(dialog2,userService){this.dialog=dialog2,this.userService=userService,this.users$=this.userService.users$}ngOnInit(){this.userService.getUsers()}removeUser(user){console.log("Remove user"),this.userService.removeUser(user.id)}addUser(){const dialogConfig=(0,default_dialog_config.m)();dialogConfig.data={dialogTitle:"Add User",mode:"create"},this.sub=this.dialog.open(user_cs_dialog_component.K,dialogConfig).afterClosed().subscribe(res=>{res&&this.userService.addUser(res)})}editUser(user){const dialogConfig=(0,default_dialog_config.m)();dialogConfig.data={dialogTitle:"Edit User",user,mode:"update"};const editSub=this.dialog.open(user_cs_dialog_component.K,dialogConfig).afterClosed().subscribe(res=>{res&&this.userService.updateUser(res)});this.sub&&this.sub.add(editSub)}selectUser(user){this.userService.patchState({selectdUserId:user.id})}ngOnDestroy(){var _a;null==(_a=this.sub)||_a.unsubscribe()}}function TwoComponent_ng_container_3_Template(rf,ctx){if(1&rf&&(core.\u0275\u0275elementContainerStart(0),core.\u0275\u0275elementStart(1,"pre"),core.\u0275\u0275text(2),core.\u0275\u0275pipe(3,"json"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(4,"div",2)(5,"div",3),core.\u0275\u0275element(6,"img",4),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(7,"div",5)(8,"div")(9,"strong"),core.\u0275\u0275text(10),core.\u0275\u0275elementEnd(),core.\u0275\u0275element(11,"br"),core.\u0275\u0275elementStart(12,"small"),core.\u0275\u0275text(13),core.\u0275\u0275elementEnd()()()(),core.\u0275\u0275elementContainerEnd()),2&rf){const user_r1=ctx.ngIf;core.\u0275\u0275advance(2),core.\u0275\u0275textInterpolate1("",core.\u0275\u0275pipeBind1(3,4,user_r1),"\n  "),core.\u0275\u0275advance(4),core.\u0275\u0275property("src",user_r1.avatar,core.\u0275\u0275sanitizeUrl),core.\u0275\u0275advance(4),core.\u0275\u0275textInterpolate(user_r1.first_name),core.\u0275\u0275advance(3),core.\u0275\u0275textInterpolate(user_r1.email)}}__name(OneComponent,"OneComponent"),OneComponent.\u0275fac=__name(function(t){return new(t||OneComponent)(core.\u0275\u0275directiveInject(dialog.uw),core.\u0275\u0275directiveInject(user_cs_store_service.O))},"OneComponent_Factory"),OneComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:OneComponent,selectors:[["app-one"]],decls:8,vars:3,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","align-self-center",3,"click"],[1,"ti-plus"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","mr-2"],["alt","...",3,"src"],[1,"flex-grow-1","ml-2"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-danger","mr-2",3,"click"],[1,"ti-trash"],[1,"btn","btn-info",3,"click"],[1,"ti-eye"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"div",0)(1,"header",1)(2,"h1"),core.\u0275\u0275text(3,"Users List (Service)"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(4,"button",2),core.\u0275\u0275listener("click",__name(function(){return ctx.addUser()},"OneComponent_Template_button_click_4_listener")),core.\u0275\u0275element(5,"i",3),core.\u0275\u0275elementEnd()(),core.\u0275\u0275template(6,OneComponent_div_6_Template,17,3,"div",4),core.\u0275\u0275pipe(7,"async"),core.\u0275\u0275elementEnd()),2&rf&&(core.\u0275\u0275advance(6),core.\u0275\u0275property("ngForOf",core.\u0275\u0275pipeBind1(7,1,ctx.users$)))},"OneComponent_Template"),dependencies:[common.sg,common.Ov],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px}"],changeDetection:0}),__name(TwoComponent_ng_container_3_Template,"TwoComponent_ng_container_3_Template");class TwoComponent{constructor(userStore){this.userStore=userStore,this.user$=this.userStore.userById$}}__name(TwoComponent,"TwoComponent"),TwoComponent.\u0275fac=__name(function(t){return new(t||TwoComponent)(core.\u0275\u0275directiveInject(user_cs_store_service.O))},"TwoComponent_Factory"),TwoComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:TwoComponent,selectors:[["app-two"]],decls:5,vars:3,consts:[[1,"container"],[4,"ngIf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","mr-2"],["alt","...",3,"src"],[1,"flex-grow-1","ml-2"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"div",0)(1,"h2"),core.\u0275\u0275text(2,"View Detail"),core.\u0275\u0275elementEnd(),core.\u0275\u0275template(3,TwoComponent_ng_container_3_Template,14,6,"ng-container",1),core.\u0275\u0275pipe(4,"async"),core.\u0275\u0275elementEnd()),2&rf&&(core.\u0275\u0275advance(3),core.\u0275\u0275property("ngIf",core.\u0275\u0275pipeBind1(4,1,ctx.user$)))},"TwoComponent_Template"),dependencies:[common.O5,common.Ov,common.Ts],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px;border-radius:50%}"],changeDetection:0});class ThreeComponent{constructor(userStore){this.userStore=userStore,this.usersCount$=this.userStore.usersCount$}}function FourComponent_div_3_Template(rf,ctx){if(1&rf&&(core.\u0275\u0275elementStart(0,"div",2)(1,"div",3),core.\u0275\u0275element(2,"img",4),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(3,"div",5)(4,"div")(5,"strong"),core.\u0275\u0275text(6),core.\u0275\u0275elementEnd(),core.\u0275\u0275element(7,"br"),core.\u0275\u0275elementStart(8,"small"),core.\u0275\u0275text(9),core.\u0275\u0275elementEnd()()()()),2&rf){const user_r1=ctx.$implicit;core.\u0275\u0275advance(2),core.\u0275\u0275property("src",user_r1.avatar,core.\u0275\u0275sanitizeUrl),core.\u0275\u0275advance(4),core.\u0275\u0275textInterpolate(user_r1.first_name),core.\u0275\u0275advance(3),core.\u0275\u0275textInterpolate(user_r1.email)}}__name(ThreeComponent,"ThreeComponent"),ThreeComponent.\u0275fac=__name(function(t){return new(t||ThreeComponent)(core.\u0275\u0275directiveInject(user_cs_store_service.O))},"ThreeComponent_Factory"),ThreeComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:ThreeComponent,selectors:[["app-three"]],decls:8,vars:3,consts:[[1,"container"],[1,"small"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"div",0)(1,"h3"),core.\u0275\u0275text(2,"Summary"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(3,"p",1)(4,"strong"),core.\u0275\u0275text(5,"Total number of users: "),core.\u0275\u0275elementEnd(),core.\u0275\u0275text(6),core.\u0275\u0275pipe(7,"async"),core.\u0275\u0275elementEnd()()),2&rf&&(core.\u0275\u0275advance(6),core.\u0275\u0275textInterpolate1("",core.\u0275\u0275pipeBind1(7,1,ctx.usersCount$)," "))},"ThreeComponent_Template"),dependencies:[common.Ov],changeDetection:0}),__name(FourComponent_div_3_Template,"FourComponent_div_3_Template");class FourComponent{constructor(userStore){this.userStore=userStore,this.users$=this.userStore.top3users$}}__name(FourComponent,"FourComponent"),FourComponent.\u0275fac=__name(function(t){return new(t||FourComponent)(core.\u0275\u0275directiveInject(user_cs_store_service.O))},"FourComponent_Factory"),FourComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:FourComponent,selectors:[["app-four"]],decls:5,vars:3,consts:[[1,"container"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","mr-2"],["alt","...",3,"src"],[1,"flex-grow-1","ml-2"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"div",0)(1,"h3"),core.\u0275\u0275text(2,"Top 3 Users"),core.\u0275\u0275elementEnd(),core.\u0275\u0275template(3,FourComponent_div_3_Template,10,3,"div",1),core.\u0275\u0275pipe(4,"async"),core.\u0275\u0275elementEnd()),2&rf&&(core.\u0275\u0275advance(3),core.\u0275\u0275property("ngForOf",core.\u0275\u0275pipeBind1(4,1,ctx.users$)))},"FourComponent_Template"),dependencies:[common.sg,common.Ov],styles:["img[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%}"],changeDetection:0});class CsdemoComponent{}__name(CsdemoComponent,"CsdemoComponent"),CsdemoComponent.\u0275fac=__name(function(t){return new(t||CsdemoComponent)},"CsdemoComponent_Factory"),CsdemoComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:CsdemoComponent,selectors:[["app-csdemo"]],features:[core.\u0275\u0275ProvidersFeature([user_cs_store_service.O])],decls:9,vars:0,consts:[[1,"wrapper"],[1,"one"],[1,"two"],[1,"three"],[1,"four"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"div",0)(1,"div",1),core.\u0275\u0275element(2,"app-one"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(3,"div",2),core.\u0275\u0275element(4,"app-two"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(5,"div",3),core.\u0275\u0275element(6,"app-three"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(7,"div",4),core.\u0275\u0275element(8,"app-four"),core.\u0275\u0275elementEnd()())},"CsdemoComponent_Template"),dependencies:[OneComponent,TwoComponent,ThreeComponent,FourComponent],styles:[".wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);grid-gap:10px;width:100vw;height:calc(100vh - 52px)}.one[_ngcontent-%COMP%]{border-style:solid;border-color:#6a6af099;grid-column:1/3;grid-row:1/3;overflow-y:auto}.two[_ngcontent-%COMP%]{border-style:solid;border-color:#ff0;grid-column:3/4;grid-row:1/3;overflow-y:auto}.three[_ngcontent-%COMP%]{border-style:solid;border-color:violet;grid-row:3/5;grid-column:1/3}.four[_ngcontent-%COMP%]{border-style:solid;border-color:#0ff;grid-column:3/4;grid-row:3/5;overflow-y:auto}"],changeDetection:0});const routes=[{path:"",component:CsdemoComponent}];class CsdemoRoutingModule{}__name(CsdemoRoutingModule,"CsdemoRoutingModule"),CsdemoRoutingModule.\u0275fac=__name(function(t){return new(t||CsdemoRoutingModule)},"CsdemoRoutingModule_Factory"),CsdemoRoutingModule.\u0275mod=core.\u0275\u0275defineNgModule({type:CsdemoRoutingModule}),CsdemoRoutingModule.\u0275inj=core.\u0275\u0275defineInjector({imports:[router.Bz.forChild(routes),router.Bz]});var input=__webpack_require__(2212),form_field=__webpack_require__(69041),fesm2020_forms=__webpack_require__(43070),fesm2020_button=__webpack_require__(12161);class CsdemoModule{}__name(CsdemoModule,"CsdemoModule"),CsdemoModule.\u0275fac=__name(function(t){return new(t||CsdemoModule)},"CsdemoModule_Factory"),CsdemoModule.\u0275mod=core.\u0275\u0275defineNgModule({type:CsdemoModule}),CsdemoModule.\u0275inj=core.\u0275\u0275defineInjector({imports:[common.ez,CsdemoRoutingModule,dialog.Is,input.c,form_field.lN,fesm2020_button.ot,fesm2020_forms.UX]})},18292:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>UserCsDialogComponent});var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4734),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(40305),_angular_forms__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(43070),_angular_material_input__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2212),_angular_material_form_field__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(69041),_angular_material_button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(12161);class UserCsDialogComponent{constructor(fb,dialogRef,data){this.fb=fb,this.dialogRef=dialogRef,this.dialogTitle=data.dialogTitle,this.user=data.user,this.mode=data.mode;const formControls={email:[""],first_name:[""],last_name:[""]};"update"==this.mode?(this.form=this.fb.group(formControls),this.form.patchValue({...this.user})):"create"==this.mode&&(this.form=this.fb.group({...formControls}))}onClose(){this.dialogRef.close()}onSave(){const user={...this.user,...this.form.value};"update"==this.mode?(console.log("Update User",user),this.dialogRef.close(user)):"create"==this.mode&&(console.log("Add User",user),user.avatar="https://reqres.in/img/faces/10-image.jpg",this.dialogRef.close(user))}}__name(UserCsDialogComponent,"UserCsDialogComponent"),UserCsDialogComponent.\u0275fac=__name(function(t){return new(t||UserCsDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(_angular_forms__WEBPACK_IMPORTED_MODULE_1__.qu),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__.so),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__.WI))},"UserCsDialogComponent_Factory"),UserCsDialogComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineComponent({type:UserCsDialogComponent,selectors:[["app-user-cs-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","First Name","formControlName","first_name"],["matInput","","placeholder","Last Name","formControlName","last_name"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275elementStart(0,"h2",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275text(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275elementEnd(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275elementStart(2,"mat-dialog-content"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275elementContainerStart(3)(4,1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275elementStart(5,"mat-form-field"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275element(6,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275elementEnd(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275elementStart(7,"mat-form-field"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275element(8,"input",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275elementEnd(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275elementStart(9,"mat-form-field"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275element(10,"input",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275elementEnd(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275elementContainerEnd()(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275elementEnd(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275elementStart(11,"mat-dialog-actions")(12,"button",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275listener("click",__name(function(){return ctx.onClose()},"UserCsDialogComponent_Template_button_click_12_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275text(13,"Close"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275elementEnd(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275elementStart(14,"button",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275listener("click",__name(function(){return ctx.onSave()},"UserCsDialogComponent_Template_button_click_14_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275text(15,"Save"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275elementEnd()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275advance(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275textInterpolate(ctx.dialogTitle),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275advance(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275property("formGroup",ctx.form))},"UserCsDialogComponent_Template"),dependencies:[_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__.uh,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__.xY,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__.H8,_angular_material_input__WEBPACK_IMPORTED_MODULE_3__.Nt,_angular_material_form_field__WEBPACK_IMPORTED_MODULE_4__.KE,_angular_material_button__WEBPACK_IMPORTED_MODULE_5__.lW,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.u],changeDetection:0})},21132:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>UserCsStore});var ngrx_component_store=__webpack_require__(28388),cjs=__webpack_require__(25095),operators=__webpack_require__(51138),core=__webpack_require__(40305),http=__webpack_require__(48664),cache_service=__webpack_require__(91234);class UsersCsService{constructor(http2,cacheService){this.http=http2,this.cacheService=cacheService,this.API_URL="https://reqres.in/api/users"}getUsers(){return this.cacheService.getData(`${this.API_URL}`).pipe((0,operators.UI)(res=>res.data))}addUser(user){return this.http.post(`${this.API_URL}`,user)}updateUser(user){return this.http.put(`${this.API_URL}/${user.id}`,user)}removeUser(userId){return this.http.delete(`${this.API_URL}/${userId}`)}}__name(UsersCsService,"UsersCsService"),UsersCsService.\u0275fac=__name(function(t){return new(t||UsersCsService)(core.\u0275\u0275inject(http.eN),core.\u0275\u0275inject(cache_service.Q))},"UsersCsService_Factory"),UsersCsService.\u0275prov=core.\u0275\u0275defineInjectable({token:UsersCsService,factory:UsersCsService.\u0275fac,providedIn:"root"});var router=__webpack_require__(14195);class UserCsStore extends ngrx_component_store.m1{constructor(userCsService,route){super({users:[],selectdUserId:1}),this.userCsService=userCsService,this.route=route,this.users$=this.select(state=>state.users),this.selectedUserId$=this.select(state=>state.selectdUserId),this.usersCount$=this.select(this.users$,users=>users.length),this.top3users$=this.select(this.users$,users=>users.slice(0,3)),this.userById$=this.select(this.users$,this.selectedUserId$,(users,selectedUserId)=>users.find(item=>item.id===selectedUserId)),this.getUsers=this.effect(trigger$=>trigger$.pipe((0,operators.wt)(()=>this.userCsService.getUsers().pipe((0,operators.bw)({next:users=>this.setUsers(users),error:e=>this.logError(e)}),(0,operators.KQ)(()=>cjs.EMPTY))))),this.addUser=this.effect(user$=>user$.pipe((0,operators.wt)(user=>this.userCsService.addUser(user).pipe((0,operators.bw)({next:u=>this.addUserInStore(u),error:e=>this.logError(e)}),(0,operators.KQ)(()=>cjs.EMPTY))))),this.updateUser=this.effect(user$=>user$.pipe((0,operators.wt)(user=>this.userCsService.updateUser(user).pipe((0,operators.bw)({next:u=>this.updateUserInStore(u),error:e=>this.logError(e)}),(0,operators.KQ)(()=>cjs.EMPTY))))),this.removeUser=this.effect(userId$=>userId$.pipe((0,operators.wt)(userId=>this.userCsService.removeUser(+userId).pipe((0,operators.bw)({next:u=>this.removeUserFromStore(userId),error:e=>this.logError(e)}),(0,operators.KQ)(()=>cjs.EMPTY))))),this.setUsers=this.updater((state,users)=>({...state,users:[...state.users,...users]})),this.addUserInStore=this.updater((state,user)=>({...state,users:[user,...state.users]})),this.removeUserFromStore=this.updater((state,userId)=>({...state,users:state.users.filter(item=>item.id!==+userId)})),this.updateUserInStore=this.updater((state,user)=>({...state,users:state.users.map(item=>item.id===user.id?user:item)}))}logError(err){console.log("Errr",err)}}__name(UserCsStore,"UserCsStore"),UserCsStore.\u0275fac=__name(function(t){return new(t||UserCsStore)(core.\u0275\u0275inject(UsersCsService),core.\u0275\u0275inject(router.gz))},"UserCsStore_Factory"),UserCsStore.\u0275prov=core.\u0275\u0275defineInjectable({token:UserCsStore,factory:UserCsStore.\u0275fac})},91234:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>CacheService});var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25095),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(51138),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40305),_angular_common_http__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(48664);class CacheService{constructor(http){this.http=http,this.responseCache=new Map}getData(url){const cachedResponse=this.responseCache.get(url);return cachedResponse?(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.of)(cachedResponse):this.http.get(url).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__._g)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.Gz)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.bw)(resp=>{this.responseCache.set(url,resp)}))}clearCache(){this.responseCache.clear()}}__name(CacheService,"CacheService"),CacheService.\u0275fac=__name(function(t){return new(t||CacheService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.\u0275\u0275inject(_angular_common_http__WEBPACK_IMPORTED_MODULE_3__.eN))},"CacheService_Factory"),CacheService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_2__.\u0275\u0275defineInjectable({token:CacheService,factory:CacheService.\u0275fac,providedIn:"root"})},28388:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m1:()=>ComponentStore});var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25095),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(51138),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40305);function debounceSync(){return source=>new rxjs__WEBPACK_IMPORTED_MODULE_0__.Observable(observer=>{let actionSubscription,actionValue;const rootSubscription=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subscription;return rootSubscription.add(source.subscribe({complete:()=>{actionSubscription&&observer.next(actionValue),observer.complete()},error:error=>{observer.error(error)},next:value=>{actionValue=value,actionSubscription||(actionSubscription=rxjs__WEBPACK_IMPORTED_MODULE_0__.asapScheduler.schedule(()=>{observer.next(actionValue),actionSubscription=void 0}),rootSubscription.add(actionSubscription))}})),rootSubscription})}function isOnStoreInitDefined(cs){return"function"==typeof cs.ngrxOnStoreInit}function isOnStateInitDefined(cs){return"function"==typeof cs.ngrxOnStateInit}__name(debounceSync,"debounceSync"),__name(isOnStoreInitDefined,"isOnStoreInitDefined"),__name(isOnStateInitDefined,"isOnStateInitDefined"),__name(function provideComponentStore(componentStoreClass){const CS_WITH_HOOKS=new InjectionToken("@ngrx/component-store ComponentStore with Hooks");return[{provide:CS_WITH_HOOKS,useClass:componentStoreClass},{provide:componentStoreClass,useFactory:()=>{const componentStore=inject(CS_WITH_HOOKS);return componentStore.\u0275hasProvider=!0,isOnStoreInitDefined(componentStore)&&componentStore.ngrxOnStoreInit(),isOnStateInitDefined(componentStore)&&componentStore.state$.pipe(take(1)).subscribe(()=>componentStore.ngrxOnStateInit()),componentStore}}]},"provideComponentStore");const INITIAL_STATE_TOKEN=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("@ngrx/component-store Initial State");class ComponentStore{constructor(defaultState){this.destroySubject$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.ReplaySubject(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.ReplaySubject(1),this.isInitialized=!1,this.state$=this.select(s=>s),this.\u0275hasProvider=!1,defaultState&&this.initState(defaultState),this.checkProviderForHooks()}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(updaterFn){return observableOrValue=>{let syncError,isSyncUpdate=!0;const subscription=((0,rxjs__WEBPACK_IMPORTED_MODULE_0__.isObservable)(observableOrValue)?observableOrValue:(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.of)(observableOrValue)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.QV)(rxjs__WEBPACK_IMPORTED_MODULE_0__.queueScheduler),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.bw)(()=>this.assertStateIsInitialized()),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.Mm)(this.stateSubject$),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.UI)(([value,currentState])=>updaterFn(currentState,value)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.bw)(newState=>this.stateSubject$.next(newState)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.KQ)(error=>isSyncUpdate?(syncError=error,rxjs__WEBPACK_IMPORTED_MODULE_0__.EMPTY):(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.throwError)(error)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.Rs)(this.destroy$)).subscribe();if(syncError)throw syncError;return isSyncUpdate=!1,subscription}}initState(state){(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.scheduled)([state],rxjs__WEBPACK_IMPORTED_MODULE_0__.queueScheduler).subscribe(s=>{this.isInitialized=!0,this.stateSubject$.next(s)})}setState(stateOrUpdaterFn){"function"!=typeof stateOrUpdaterFn?this.initState(stateOrUpdaterFn):this.updater(stateOrUpdaterFn)()}patchState(partialStateOrUpdaterFn){const patchedState="function"==typeof partialStateOrUpdaterFn?partialStateOrUpdaterFn(this.get()):partialStateOrUpdaterFn;this.updater((state,partialState)=>({...state,...partialState}))(patchedState)}get(projector){let value;return this.assertStateIsInitialized(),this.stateSubject$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.qn)(1)).subscribe(state=>{value=projector?projector(state):state}),value}select(...args){const{observablesOrSelectorsObject,projector,config}=processSelectorArgs(args);return(hasProjectFnOnly(observablesOrSelectorsObject,projector)?this.stateSubject$:(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.combineLatest)(observablesOrSelectorsObject)).pipe(config.debounce?debounceSync():source$=>source$,projector?(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.UI)(projectorArgs=>observablesOrSelectorsObject.length>0&&Array.isArray(projectorArgs)?projector(...projectorArgs):projector(projectorArgs)):source$=>source$,(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.xb)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.d)({refCount:!0,bufferSize:1}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.Rs)(this.destroy$))}effect(generator){const origin$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject;return generator(origin$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.Rs)(this.destroy$)).subscribe(),observableOrValue=>((0,rxjs__WEBPACK_IMPORTED_MODULE_0__.isObservable)(observableOrValue)?observableOrValue:(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.of)(observableOrValue)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.Rs)(this.destroy$)).subscribe(value=>{origin$.next(value)})}checkProviderForHooks(){rxjs__WEBPACK_IMPORTED_MODULE_0__.asapScheduler.schedule(()=>{if((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.isDevMode)()&&(isOnStoreInitDefined(this)||isOnStateInitDefined(this))&&!this.\u0275hasProvider){const warnings=[isOnStoreInitDefined(this)?"OnStoreInit":"",isOnStateInitDefined(this)?"OnStateInit":""].filter(defined=>defined);console.warn(`@ngrx/component-store: ${this.constructor.name} has the ${warnings.join(" and ")} lifecycle hook(s) implemented without being provided using the provideComponentStore(${this.constructor.name}) function. To resolve this, provide the component store via provideComponentStore(${this.constructor.name})`)}})}assertStateIsInitialized(){if(!this.isInitialized)throw new Error(`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`)}}function processSelectorArgs(args){const selectorArgs=Array.from(args);let config={debounce:!1};if(isSelectConfig(selectorArgs[selectorArgs.length-1])&&(config={...config,...selectorArgs.pop()}),1===selectorArgs.length&&"function"!=typeof selectorArgs[0])return{observablesOrSelectorsObject:selectorArgs[0],projector:void 0,config};const projector=selectorArgs.pop();return{observablesOrSelectorsObject:selectorArgs,projector,config}}function isSelectConfig(arg){return typeof arg.debounce<"u"}function hasProjectFnOnly(observablesOrSelectorsObject,projector){return Array.isArray(observablesOrSelectorsObject)&&0===observablesOrSelectorsObject.length&&projector}function noopOperator(){return source$=>source$}__name(ComponentStore,"ComponentStore"),ComponentStore.\u0275fac=__name(function(t){return new(t||ComponentStore)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(INITIAL_STATE_TOKEN,8))},"ComponentStore_Factory"),ComponentStore.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineInjectable({token:ComponentStore,factory:ComponentStore.\u0275fac}),__name(processSelectorArgs,"processSelectorArgs"),__name(isSelectConfig,"isSelectConfig"),__name(hasProjectFnOnly,"hasProjectFnOnly"),__name(noopOperator,"noopOperator"),__name(function tapResponse(nextFn,errorFn,completeFn){return source=>source.pipe(tap({next:nextFn,complete:completeFn}),catchError(e=>(errorFn(e),EMPTY)))},"tapResponse")}};