"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=2474,exports.ids=[2474],exports.modules={72474:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{UsersStoreFeatureModule:()=>UsersStoreFeatureModule});var common=__webpack_require__(89318),router=__webpack_require__(14195),ngrx_store=__webpack_require__(7776),users_store_feature_actions=__webpack_require__(38672),default_dialog_config=__webpack_require__(43493),user_store_dialog_component=__webpack_require__(80200),users_store_feature_selectors=__webpack_require__(36341),core=__webpack_require__(40305),dialog=__webpack_require__(4734);function UsersStoreFeatureComponent_div_6_Template(rf,ctx){if(1&rf){const _r3=core.\u0275\u0275getCurrentView();core.\u0275\u0275elementStart(0,"div",5)(1,"div",6),core.\u0275\u0275element(2,"img",7),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(3,"div",8)(4,"div")(5,"strong"),core.\u0275\u0275text(6),core.\u0275\u0275elementEnd(),core.\u0275\u0275element(7,"br"),core.\u0275\u0275elementStart(8,"small"),core.\u0275\u0275text(9),core.\u0275\u0275elementEnd()(),core.\u0275\u0275elementStart(10,"div")(11,"button",9),core.\u0275\u0275listener("click",__name(function(){const user_r1=core.\u0275\u0275restoreView(_r3).$implicit,ctx_r2=core.\u0275\u0275nextContext();return core.\u0275\u0275resetView(ctx_r2.editUser(user_r1))},"UsersStoreFeatureComponent_div_6_Template_button_click_11_listener")),core.\u0275\u0275element(12,"i",10),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(13,"button",11),core.\u0275\u0275listener("click",__name(function(){const user_r1=core.\u0275\u0275restoreView(_r3).$implicit,ctx_r4=core.\u0275\u0275nextContext();return core.\u0275\u0275resetView(ctx_r4.removeUser(user_r1))},"UsersStoreFeatureComponent_div_6_Template_button_click_13_listener")),core.\u0275\u0275element(14,"i",12),core.\u0275\u0275elementEnd()()()()}if(2&rf){const user_r1=ctx.$implicit;core.\u0275\u0275advance(2),core.\u0275\u0275property("src",user_r1.avatar,core.\u0275\u0275sanitizeUrl),core.\u0275\u0275advance(4),core.\u0275\u0275textInterpolate(user_r1.first_name),core.\u0275\u0275advance(3),core.\u0275\u0275textInterpolate(user_r1.email)}}__name(UsersStoreFeatureComponent_div_6_Template,"UsersStoreFeatureComponent_div_6_Template");class UsersStoreFeatureComponent{constructor(store,dialog2){this.store=store,this.dialog=dialog2}ngOnInit(){this.users$=this.store.pipe((0,ngrx_store.Ys)(users_store_feature_selectors.zE))}removeUser(user){console.log("Remove user"),this.store.dispatch((0,users_store_feature_actions.Fp)({id:user.id}))}addUser(){const dialogConfig=(0,default_dialog_config.m)();dialogConfig.data={dialogTitle:"Add User",mode:"create"},this.dialog.open(user_store_dialog_component.W,dialogConfig)}editUser(user){const dialogConfig=(0,default_dialog_config.m)();dialogConfig.data={dialogTitle:"Edit User",user,mode:"update"},this.dialog.open(user_store_dialog_component.W,dialogConfig).afterClosed().subscribe(res=>{console.log("Closed",res)})}}__name(UsersStoreFeatureComponent,"UsersStoreFeatureComponent"),UsersStoreFeatureComponent.\u0275fac=__name(function(t){return new(t||UsersStoreFeatureComponent)(core.\u0275\u0275directiveInject(ngrx_store.yh),core.\u0275\u0275directiveInject(dialog.uw))},"UsersStoreFeatureComponent_Factory"),UsersStoreFeatureComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:UsersStoreFeatureComponent,selectors:[["app-users-store-feature"]],decls:8,vars:3,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","align-self-center",3,"click"],[1,"ti-plus"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","mr-2"],["alt","...",3,"src"],[1,"flex-grow-1","ml-2"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-danger",3,"click"],[1,"ti-trash"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"div",0)(1,"header",1)(2,"h1"),core.\u0275\u0275text(3,"Users List (Store)"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(4,"button",2),core.\u0275\u0275listener("click",__name(function(){return ctx.addUser()},"UsersStoreFeatureComponent_Template_button_click_4_listener")),core.\u0275\u0275element(5,"i",3),core.\u0275\u0275elementEnd()(),core.\u0275\u0275template(6,UsersStoreFeatureComponent_div_6_Template,15,3,"div",4),core.\u0275\u0275pipe(7,"async"),core.\u0275\u0275elementEnd()),2&rf&&(core.\u0275\u0275advance(6),core.\u0275\u0275property("ngForOf",core.\u0275\u0275pipeBind1(7,1,ctx.users$)))},"UsersStoreFeatureComponent_Template"),dependencies:[common.sg,common.Ov],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px}"],changeDetection:0});const routes=[{path:"",component:UsersStoreFeatureComponent}];class UsersStoreFeatureRoutingModule{}__name(UsersStoreFeatureRoutingModule,"UsersStoreFeatureRoutingModule"),UsersStoreFeatureRoutingModule.\u0275fac=__name(function(t){return new(t||UsersStoreFeatureRoutingModule)},"UsersStoreFeatureRoutingModule_Factory"),UsersStoreFeatureRoutingModule.\u0275mod=core.\u0275\u0275defineNgModule({type:UsersStoreFeatureRoutingModule}),UsersStoreFeatureRoutingModule.\u0275inj=core.\u0275\u0275defineInjector({imports:[router.Bz.forChild(routes),router.Bz]});var ngrx_effects=__webpack_require__(21334),operators=__webpack_require__(51138),cjs=__webpack_require__(25095),user_store_service=__webpack_require__(44030);class UsersStoreFeatureEffects{constructor(actions$,userStoreSetvice){this.actions$=actions$,this.userStoreSetvice=userStoreSetvice,this.loadStoreUsers$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(users_store_feature_actions.zc),(0,operators.wt)(()=>this.userStoreSetvice.getUsers().pipe((0,operators.UI)(users=>(0,users_store_feature_actions.IU)({users})),(0,operators.KQ)(error=>(0,cjs.of)((0,users_store_feature_actions.aA)({error}))))))),this.deleteStoreUsers$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(users_store_feature_actions.Fp),(0,operators.zg)(({id})=>this.userStoreSetvice.removeUser(id).pipe((0,operators.UI)(()=>(0,users_store_feature_actions.yc)()),(0,operators.KQ)(()=>(0,cjs.of)((0,users_store_feature_actions.ru)())))))),this.createStoreUser$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(users_store_feature_actions.Dx),(0,operators.wt)(({user})=>this.userStoreSetvice.addUser(user).pipe((0,operators.UI)(user2=>(0,users_store_feature_actions.Kz)({user:user2})),(0,operators.KQ)(()=>(0,cjs.of)((0,users_store_feature_actions.Ls)())))))),this.editStoreUser$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(users_store_feature_actions.d0),(0,operators.wt)(({user})=>this.userStoreSetvice.updateUser(user).pipe((0,operators.UI)(user2=>(0,users_store_feature_actions.U7)({user:user2})),(0,operators.KQ)(()=>(0,cjs.of)((0,users_store_feature_actions.ox)()))))))}}__name(UsersStoreFeatureEffects,"UsersStoreFeatureEffects"),UsersStoreFeatureEffects.\u0275fac=__name(function(t){return new(t||UsersStoreFeatureEffects)(core.\u0275\u0275inject(ngrx_effects.eX),core.\u0275\u0275inject(user_store_service.p))},"UsersStoreFeatureEffects_Factory"),UsersStoreFeatureEffects.\u0275prov=core.\u0275\u0275defineInjectable({token:UsersStoreFeatureEffects,factory:UsersStoreFeatureEffects.\u0275fac});var users_store_feature_reducer=__webpack_require__(96202),input=__webpack_require__(2212),form_field=__webpack_require__(69041),fesm2020_button=__webpack_require__(12161),fesm2020_forms=__webpack_require__(43070);class UsersStoreFeatureModule{}__name(UsersStoreFeatureModule,"UsersStoreFeatureModule"),UsersStoreFeatureModule.\u0275fac=__name(function(t){return new(t||UsersStoreFeatureModule)},"UsersStoreFeatureModule_Factory"),UsersStoreFeatureModule.\u0275mod=core.\u0275\u0275defineNgModule({type:UsersStoreFeatureModule}),UsersStoreFeatureModule.\u0275inj=core.\u0275\u0275defineInjector({imports:[common.ez,UsersStoreFeatureRoutingModule,dialog.Is,input.c,form_field.lN,fesm2020_button.ot,fesm2020_forms.UX,ngrx_store.Aw.forFeature(users_store_feature_reducer.N3),ngrx_effects.sQ.forFeature([UsersStoreFeatureEffects])]})},44030:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>UserStoreService});var rxjs_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(51138),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40305),_angular_common_http__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(48664);class UserStoreService{constructor(http){this.http=http,this.API_URL="https://reqres.in/api/users"}getUsers(){return this.http.get(`${this.API_URL}`).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_0__.UI)(res=>res.data))}addUser(user){return this.http.post(`${this.API_URL}`,user)}updateUser(user){return this.http.put(`${this.API_URL}/${user.id}`,user)}removeUser(userId){return this.http.delete(`${this.API_URL}/${userId}`)}}__name(UserStoreService,"UserStoreService"),UserStoreService.\u0275fac=__name(function(t){return new(t||UserStoreService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.eN))},"UserStoreService_Factory"),UserStoreService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineInjectable({token:UserStoreService,factory:UserStoreService.\u0275fac,providedIn:"root"})},80200:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>UserStoreDialogComponent});var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4734),_state_user_store_actions__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(77250),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40305),_angular_forms__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(43070),_ngrx_store__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7776),_angular_material_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2212),_angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(69041),_angular_material_button__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(12161);class UserStoreDialogComponent{constructor(fb,dialogRef,data,store){this.fb=fb,this.dialogRef=dialogRef,this.store=store,this.dialogTitle=data.dialogTitle,this.user=data.user,this.mode=data.mode;const formControls={email:[""],first_name:[""],last_name:[""]};"update"==this.mode?(this.form=this.fb.group(formControls),this.form.patchValue({...this.user})):"create"==this.mode&&(this.form=this.fb.group({...formControls}))}onClose(){this.dialogRef.close()}onSave(){const user={...this.user,...this.form.value};"update"==this.mode?(console.log("Update User",user),this.store.dispatch((0,_state_user_store_actions__WEBPACK_IMPORTED_MODULE_0__.d0)({user})),this.dialogRef.close()):"create"==this.mode&&(console.log("Add User",user),user.avatar="https://robohash.org/test?size=128x128",this.store.dispatch((0,_state_user_store_actions__WEBPACK_IMPORTED_MODULE_0__.Dx)({user})),this.dialogRef.close())}}__name(UserStoreDialogComponent,"UserStoreDialogComponent"),UserStoreDialogComponent.\u0275fac=__name(function(t){return new(t||UserStoreDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275directiveInject(_angular_forms__WEBPACK_IMPORTED_MODULE_2__.qu),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275directiveInject(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__.so),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275directiveInject(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__.WI),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275directiveInject(_ngrx_store__WEBPACK_IMPORTED_MODULE_4__.yh))},"UserStoreDialogComponent_Factory"),UserStoreDialogComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineComponent({type:UserStoreDialogComponent,selectors:[["app-user-store-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","First Name","formControlName","first_name"],["matInput","","placeholder","Last Name","formControlName","last_name"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275elementStart(0,"h2",0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275text(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275elementEnd(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275elementStart(2,"mat-dialog-content"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275elementContainerStart(3)(4,1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275elementStart(5,"mat-form-field"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275element(6,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275elementEnd(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275elementStart(7,"mat-form-field"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275element(8,"input",3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275elementEnd(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275elementStart(9,"mat-form-field"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275element(10,"input",4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275elementEnd(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275elementContainerEnd()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275elementEnd(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275elementStart(11,"mat-dialog-actions")(12,"button",5),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275listener("click",__name(function(){return ctx.onClose()},"UserStoreDialogComponent_Template_button_click_12_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275text(13,"Close"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275elementEnd(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275elementStart(14,"button",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275listener("click",__name(function(){return ctx.onSave()},"UserStoreDialogComponent_Template_button_click_14_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275text(15,"Save"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275elementEnd()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275advance(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275textInterpolate(ctx.dialogTitle),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275advance(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275property("formGroup",ctx.form))},"UserStoreDialogComponent_Template"),dependencies:[_angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__.uh,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__.xY,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__.H8,_angular_material_input__WEBPACK_IMPORTED_MODULE_5__.Nt,_angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__.KE,_angular_material_button__WEBPACK_IMPORTED_MODULE_7__.lW,_angular_forms__WEBPACK_IMPORTED_MODULE_2__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_2__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_2__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_2__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_2__.u],changeDetection:0})}};