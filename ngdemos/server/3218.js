"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=3218,exports.ids=[3218],exports.modules={74279:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{UsersDataModule:()=>UsersDataModule});var common=__webpack_require__(89318),router=__webpack_require__(14195),operators=__webpack_require__(51138),default_dialog_config=__webpack_require__(43493),dialog=__webpack_require__(4734),core=__webpack_require__(40305),fesm2020_forms=__webpack_require__(43070),user_data_service=__webpack_require__(28984),input=__webpack_require__(2212),form_field=__webpack_require__(69041),fesm2020_button=__webpack_require__(12161);class UserDataDialogComponent{constructor(fb,dialogRef,data,userService){this.fb=fb,this.dialogRef=dialogRef,this.userService=userService,this.dialogTitle=data.dialogTitle,this.user=data.user,this.mode=data.mode;const formControls={email:[""],first_name:[""],last_name:[""]};"update"==this.mode?(this.form=this.fb.group(formControls),this.form.patchValue({...this.user})):"create"==this.mode&&(this.form=this.fb.group({...formControls}))}onClose(){this.dialogRef.close()}onSave(){const user={...this.user,...this.form.value};"update"==this.mode?(console.log("Update User",user),this.dialogRef.close(user)):"create"==this.mode&&(console.log("Add User",user),user.avatar="https://reqres.in/img/faces/10-image.jpg",this.dialogRef.close(user))}}function UsersDataComponent_div_6_Template(rf,ctx){if(1&rf){const _r3=core.\u0275\u0275getCurrentView();core.\u0275\u0275elementStart(0,"div",5)(1,"div",6),core.\u0275\u0275element(2,"img",7),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(3,"div",8)(4,"div")(5,"strong"),core.\u0275\u0275text(6),core.\u0275\u0275elementEnd(),core.\u0275\u0275element(7,"br"),core.\u0275\u0275elementStart(8,"small"),core.\u0275\u0275text(9),core.\u0275\u0275elementEnd()(),core.\u0275\u0275elementStart(10,"div")(11,"button",9),core.\u0275\u0275listener("click",__name(function(){const user_r1=core.\u0275\u0275restoreView(_r3).$implicit,ctx_r2=core.\u0275\u0275nextContext();return core.\u0275\u0275resetView(ctx_r2.editUser(user_r1))},"UsersDataComponent_div_6_Template_button_click_11_listener")),core.\u0275\u0275element(12,"i",10),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(13,"button",11),core.\u0275\u0275listener("click",__name(function(){const user_r1=core.\u0275\u0275restoreView(_r3).$implicit,ctx_r4=core.\u0275\u0275nextContext();return core.\u0275\u0275resetView(ctx_r4.removeUser(user_r1))},"UsersDataComponent_div_6_Template_button_click_13_listener")),core.\u0275\u0275element(14,"i",12),core.\u0275\u0275elementEnd()()()()}if(2&rf){const user_r1=ctx.$implicit;core.\u0275\u0275advance(2),core.\u0275\u0275property("src",user_r1.avatar,core.\u0275\u0275sanitizeUrl),core.\u0275\u0275advance(4),core.\u0275\u0275textInterpolate(user_r1.first_name),core.\u0275\u0275advance(3),core.\u0275\u0275textInterpolate(user_r1.email)}}__name(UserDataDialogComponent,"UserDataDialogComponent"),UserDataDialogComponent.\u0275fac=__name(function(t){return new(t||UserDataDialogComponent)(core.\u0275\u0275directiveInject(fesm2020_forms.qu),core.\u0275\u0275directiveInject(dialog.so),core.\u0275\u0275directiveInject(dialog.WI),core.\u0275\u0275directiveInject(user_data_service.K))},"UserDataDialogComponent_Factory"),UserDataDialogComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:UserDataDialogComponent,selectors:[["app-user-data-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","First Name","formControlName","first_name"],["matInput","","placeholder","Last Name","formControlName","last_name"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"h2",0),core.\u0275\u0275text(1),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(2,"mat-dialog-content"),core.\u0275\u0275elementContainerStart(3)(4,1),core.\u0275\u0275elementStart(5,"mat-form-field"),core.\u0275\u0275element(6,"input",2),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(7,"mat-form-field"),core.\u0275\u0275element(8,"input",3),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(9,"mat-form-field"),core.\u0275\u0275element(10,"input",4),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementContainerEnd()(),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(11,"mat-dialog-actions")(12,"button",5),core.\u0275\u0275listener("click",__name(function(){return ctx.onClose()},"UserDataDialogComponent_Template_button_click_12_listener")),core.\u0275\u0275text(13,"Close"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(14,"button",6),core.\u0275\u0275listener("click",__name(function(){return ctx.onSave()},"UserDataDialogComponent_Template_button_click_14_listener")),core.\u0275\u0275text(15,"Save"),core.\u0275\u0275elementEnd()()),2&rf&&(core.\u0275\u0275advance(1),core.\u0275\u0275textInterpolate(ctx.dialogTitle),core.\u0275\u0275advance(3),core.\u0275\u0275property("formGroup",ctx.form))},"UserDataDialogComponent_Template"),dependencies:[dialog.uh,dialog.xY,dialog.H8,input.Nt,form_field.KE,fesm2020_button.lW,fesm2020_forms.Fj,fesm2020_forms.JJ,fesm2020_forms.JL,fesm2020_forms.sg,fesm2020_forms.u],changeDetection:0}),__name(UsersDataComponent_div_6_Template,"UsersDataComponent_div_6_Template");class UsersDataComponent{constructor(route,dialog2,userService,cd){this.route=route,this.dialog=dialog2,this.userService=userService,this.cd=cd}ngOnInit(){this.users=this.route.snapshot.data.users}removeUser(user){console.log("Remove user"),this.userService.removeUser(user.id).subscribe(res=>{this.users=this.users.filter(res2=>res2.id!==user.id),this.cd.detectChanges()})}addUser(){const dialogConfig=(0,default_dialog_config.m)();dialogConfig.data={dialogTitle:"Add User",mode:"create"},this.sub=this.dialog.open(UserDataDialogComponent,dialogConfig).afterClosed().pipe((0,operators.zK)(user=>this.userService.addUser(user))).subscribe(res=>{this.users=[res,...this.users],this.cd.detectChanges()})}editUser(user){const dialogConfig=(0,default_dialog_config.m)();dialogConfig.data={dialogTitle:"Edit User",user,mode:"update"};const editSub=this.dialog.open(UserDataDialogComponent,dialogConfig).afterClosed().pipe((0,operators.wt)(res=>this.userService.updateUser(res))).subscribe(updatedUser=>{this.users=this.users.map(item=>item.id===user.id?updatedUser:item),console.log("Closed Edit",updatedUser),this.cd.detectChanges()});this.sub&&this.sub.add(editSub)}ngOnDestroy(){var _a;null==(_a=this.sub)||_a.unsubscribe()}}__name(UsersDataComponent,"UsersDataComponent"),UsersDataComponent.\u0275fac=__name(function(t){return new(t||UsersDataComponent)(core.\u0275\u0275directiveInject(router.gz),core.\u0275\u0275directiveInject(dialog.uw),core.\u0275\u0275directiveInject(user_data_service.K),core.\u0275\u0275directiveInject(core.ChangeDetectorRef))},"UsersDataComponent_Factory"),UsersDataComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:UsersDataComponent,selectors:[["app-users-data"]],decls:7,vars:1,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","align-self-center",3,"click"],[1,"ti-plus"],["class","d-flex mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0","mr-2"],["alt","...",3,"src"],[1,"flex-grow-1","ml-2"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-danger",3,"click"],[1,"ti-trash"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"div",0)(1,"header",1)(2,"h1"),core.\u0275\u0275text(3,"Users List (Service)"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(4,"button",2),core.\u0275\u0275listener("click",__name(function(){return ctx.addUser()},"UsersDataComponent_Template_button_click_4_listener")),core.\u0275\u0275element(5,"i",3),core.\u0275\u0275elementEnd()(),core.\u0275\u0275template(6,UsersDataComponent_div_6_Template,15,3,"div",4),core.\u0275\u0275elementEnd()),2&rf&&(core.\u0275\u0275advance(6),core.\u0275\u0275property("ngForOf",ctx.users))},"UsersDataComponent_Template"),dependencies:[common.sg],styles:["img[_ngcontent-%COMP%]{width:128px;height:128px}"],changeDetection:0});const routes=[{path:"",component:UsersDataComponent}];class UsersDataRoutingModule{}__name(UsersDataRoutingModule,"UsersDataRoutingModule"),UsersDataRoutingModule.\u0275fac=__name(function(t){return new(t||UsersDataRoutingModule)},"UsersDataRoutingModule_Factory"),UsersDataRoutingModule.\u0275mod=core.\u0275\u0275defineNgModule({type:UsersDataRoutingModule}),UsersDataRoutingModule.\u0275inj=core.\u0275\u0275defineInjector({imports:[router.Bz.forChild(routes),router.Bz]});class UsersDataModule{}__name(UsersDataModule,"UsersDataModule"),UsersDataModule.\u0275fac=__name(function(t){return new(t||UsersDataModule)},"UsersDataModule_Factory"),UsersDataModule.\u0275mod=core.\u0275\u0275defineNgModule({type:UsersDataModule}),UsersDataModule.\u0275inj=core.\u0275\u0275defineInjector({imports:[common.ez,UsersDataRoutingModule,dialog.Is,input.c,form_field.lN,fesm2020_button.ot,fesm2020_forms.UX]})}};