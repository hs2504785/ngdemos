"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=3528,exports.ids=[3528],exports.modules={23528:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SearchSortPaginateModule:()=>SearchSortPaginateModule});var common=__webpack_require__(89318),router=__webpack_require__(14195),core=__webpack_require__(40305),http=__webpack_require__(48664);class ProductService{constructor(http2){this.http=http2,this.API_URL="https://hksocket.herokuapp.com/api/products"}getProducts(){return this.http.get(`${this.API_URL}/frontend`)}getPaginatedProducts(filter){let params=new http.LE;return filter.s&&(params=params.set("s",filter.s)),filter.sort&&(params=params.set("sort",filter.sort)),filter.page&&(params=params.set("page",filter.page.toString())),this.http.get(`${this.API_URL}/backend`,{params})}}function ProductsComponent_div_11_Template(rf,ctx){if(1&rf&&(core.\u0275\u0275elementStart(0,"div",9)(1,"div",10),core.\u0275\u0275element(2,"img",11),core.\u0275\u0275elementStart(3,"div",12)(4,"p",13),core.\u0275\u0275text(5),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(6,"div",14)(7,"small",15),core.\u0275\u0275text(8),core.\u0275\u0275elementEnd()()()()()),2&rf){const product_r2=ctx.$implicit;core.\u0275\u0275advance(2),core.\u0275\u0275property("src",product_r2.image,core.\u0275\u0275sanitizeUrl),core.\u0275\u0275advance(3),core.\u0275\u0275textInterpolate(product_r2.title),core.\u0275\u0275advance(3),core.\u0275\u0275textInterpolate1("$",product_r2.price,"")}}function ProductsComponent_div_12_Template(rf,ctx){if(1&rf){const _r4=core.\u0275\u0275getCurrentView();core.\u0275\u0275elementStart(0,"div",16)(1,"button",17),core.\u0275\u0275listener("click",__name(function(){core.\u0275\u0275restoreView(_r4);const ctx_r3=core.\u0275\u0275nextContext();return core.\u0275\u0275resetView(ctx_r3.loadMore())},"ProductsComponent_div_12_Template_button_click_1_listener")),core.\u0275\u0275text(2,"Load More"),core.\u0275\u0275elementEnd()()}}__name(ProductService,"ProductService"),ProductService.\u0275fac=__name(function(t){return new(t||ProductService)(core.\u0275\u0275inject(http.eN))},"ProductService_Factory"),ProductService.\u0275prov=core.\u0275\u0275defineInjectable({token:ProductService,factory:ProductService.\u0275fac,providedIn:"root"}),__name(ProductsComponent_div_11_Template,"ProductsComponent_div_11_Template"),__name(ProductsComponent_div_12_Template,"ProductsComponent_div_12_Template");class ProductsComponent{constructor(){this.products=[],this.setFilters=new core.EventEmitter}search(s){this.setFilters.emit({...this.filter,s,page:1})}sort(sort){this.setFilters.emit({...this.filter,sort,page:1})}loadMore(){this.setFilters.emit({...this.filter,page:this.filter.page+1})}}__name(ProductsComponent,"ProductsComponent"),ProductsComponent.\u0275fac=__name(function(t){return new(t||ProductsComponent)},"ProductsComponent_Factory"),ProductsComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:ProductsComponent,selectors:[["app-products"]],inputs:{products:"products",filter:"filter",lastPage:"lastPage"},outputs:{setFilters:"setFilters"},decls:13,vars:2,consts:[[1,"col-md-12","mb-4","input-group"],["placeholder","Search",1,"form-control",3,"keyup"],[1,"input-group-append"],[1,"form-select",3,"change"],["value","asc"],["value","desc"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],["class","col mb-4",4,"ngFor","ngForOf"],["class","d-flex justify-content-center mt-4",4,"ngIf"],[1,"col","mb-4"],[1,"card","shadow-sm"],["height","200",3,"src"],[1,"card-body"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-muted"],[1,"d-flex","justify-content-center","mt-4"],[1,"btn","btn-primary",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"div",0)(1,"input",1),core.\u0275\u0275listener("keyup",__name(function($event){return ctx.search($event.target.value)},"ProductsComponent_Template_input_keyup_1_listener")),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(2,"div",2)(3,"select",3),core.\u0275\u0275listener("change",__name(function($event){return ctx.sort($event.target.value)},"ProductsComponent_Template_select_change_3_listener")),core.\u0275\u0275elementStart(4,"option"),core.\u0275\u0275text(5,"Select"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(6,"option",4),core.\u0275\u0275text(7,"Price Ascending"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(8,"option",5),core.\u0275\u0275text(9,"Price Descending"),core.\u0275\u0275elementEnd()()()(),core.\u0275\u0275elementStart(10,"div",6),core.\u0275\u0275template(11,ProductsComponent_div_11_Template,9,3,"div",7),core.\u0275\u0275elementEnd(),core.\u0275\u0275template(12,ProductsComponent_div_12_Template,3,0,"div",8)),2&rf&&(core.\u0275\u0275advance(11),core.\u0275\u0275property("ngForOf",ctx.products),core.\u0275\u0275advance(1),core.\u0275\u0275property("ngIf",ctx.filter.page<ctx.lastPage))},"ProductsComponent_Template"),dependencies:[common.sg,common.O5]});class BackendComponent{constructor(productService,cd){this.productService=productService,this.cd=cd,this.products=[],this.filter={s:"",sort:"",page:1},this.lastPage=0}ngOnInit(){this.load(this.filter)}load(filter){this.filter=filter,this.productService.getPaginatedProducts(filter).subscribe(response=>{this.products=1===filter.page?response.data:[...this.products,...response.data],this.lastPage=response.last_page,this.cd.detectChanges()})}setFilters(filter){this.load(filter)}}__name(BackendComponent,"BackendComponent"),BackendComponent.\u0275fac=__name(function(t){return new(t||BackendComponent)(core.\u0275\u0275directiveInject(ProductService),core.\u0275\u0275directiveInject(core.ChangeDetectorRef))},"BackendComponent_Factory"),BackendComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:BackendComponent,selectors:[["app-backend"]],decls:1,vars:3,consts:[[3,"products","filter","lastPage","setFilters"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"app-products",0),core.\u0275\u0275listener("setFilters",__name(function($event){return ctx.setFilters($event)},"BackendComponent_Template_app_products_setFilters_0_listener")),core.\u0275\u0275elementEnd()),2&rf&&core.\u0275\u0275property("products",ctx.products)("filter",ctx.filter)("lastPage",ctx.lastPage)},"BackendComponent_Template"),dependencies:[ProductsComponent]});class SearchPipe{transform(products,s){return products.filter(p=>p.title.toLowerCase().indexOf(s.toLowerCase())>=0||p.description.toLowerCase().indexOf(s.toLowerCase())>=0)}}__name(SearchPipe,"SearchPipe"),SearchPipe.\u0275fac=__name(function(t){return new(t||SearchPipe)},"SearchPipe_Factory"),SearchPipe.\u0275pipe=core.\u0275\u0275definePipe({name:"search",type:SearchPipe,pure:!0});class SortPipe{transform(products,sort){return console.log(sort),("asc"===sort||"desc"===sort)&&products.sort((a,b)=>{const diff=a.price-b.price;if(0===diff)return 0;const sign=Math.abs(diff)/diff;return"asc"===sort?sign:-sign}),products}}function FrontendComponent_ng_container_0_Template(rf,ctx){if(1&rf){const _r3=core.\u0275\u0275getCurrentView();core.\u0275\u0275elementContainerStart(0),core.\u0275\u0275elementStart(1,"app-products",1),core.\u0275\u0275listener("setFilters",__name(function($event){core.\u0275\u0275restoreView(_r3);const ctx_r2=core.\u0275\u0275nextContext();return core.\u0275\u0275resetView(ctx_r2.filter=$event)},"FrontendComponent_ng_container_0_Template_app_products_setFilters_1_listener")),core.\u0275\u0275pipe(2,"sort"),core.\u0275\u0275pipe(3,"search"),core.\u0275\u0275pipe(4,"search"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementContainerEnd()}if(2&rf){const products_r1=ctx.ngIf,ctx_r0=core.\u0275\u0275nextContext();core.\u0275\u0275advance(1),core.\u0275\u0275property("products",core.\u0275\u0275pipeBind2(2,3,core.\u0275\u0275pipeBind2(3,6,products_r1,ctx_r0.filter.s),ctx_r0.filter.sort))("filter",ctx_r0.filter)("lastPage",ctx_r0.lastPage(core.\u0275\u0275pipeBind2(4,9,products_r1,ctx_r0.filter.s)))}}__name(SortPipe,"SortPipe"),SortPipe.\u0275fac=__name(function(t){return new(t||SortPipe)},"SortPipe_Factory"),SortPipe.\u0275pipe=core.\u0275\u0275definePipe({name:"sort",type:SortPipe,pure:!0}),__name(FrontendComponent_ng_container_0_Template,"FrontendComponent_ng_container_0_Template");class FrontendComponent{constructor(productService){this.productService=productService,this.products$=this.productService.getProducts(),this.filter={s:"",sort:"",page:1},this.perPage=9}ngOnInit(){}lastPage(products){return Math.ceil(products.length/this.perPage)}}__name(FrontendComponent,"FrontendComponent"),FrontendComponent.\u0275fac=__name(function(t){return new(t||FrontendComponent)(core.\u0275\u0275directiveInject(ProductService))},"FrontendComponent_Factory"),FrontendComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:FrontendComponent,selectors:[["app-frontend"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"products","filter","lastPage","setFilters"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275template(0,FrontendComponent_ng_container_0_Template,5,12,"ng-container",0),core.\u0275\u0275pipe(1,"async")),2&rf&&core.\u0275\u0275property("ngIf",core.\u0275\u0275pipeBind1(1,1,ctx.products$))},"FrontendComponent_Template"),dependencies:[common.O5,ProductsComponent,common.Ov,SearchPipe,SortPipe]});class SearchSortPaginateComponent{constructor(){}ngOnInit(){}}__name(SearchSortPaginateComponent,"SearchSortPaginateComponent"),SearchSortPaginateComponent.\u0275fac=__name(function(t){return new(t||SearchSortPaginateComponent)},"SearchSortPaginateComponent_Factory"),SearchSortPaginateComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:SearchSortPaginateComponent,selectors:[["app-search-sort-paginate"]],decls:12,vars:0,consts:[[1,"container"],[1,"d-flex","justify-content-center","py-3"],[1,"nav","nav-pills"],[1,"nav-item"],["routerLink","frontend","routerLinkActive","active",1,"nav-link"],["routerLink","backend","routerLinkActive","active",1,"nav-link"],[1,"album","py-5","bg-light"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"div",0)(1,"header",1)(2,"ul",2)(3,"li",3)(4,"a",4),core.\u0275\u0275text(5,"Frontend"),core.\u0275\u0275elementEnd()(),core.\u0275\u0275elementStart(6,"li",3)(7,"a",5),core.\u0275\u0275text(8,"Backend"),core.\u0275\u0275elementEnd()()()()(),core.\u0275\u0275elementStart(9,"div",6)(10,"div",0),core.\u0275\u0275element(11,"router-outlet"),core.\u0275\u0275elementEnd()())},"SearchSortPaginateComponent_Template"),dependencies:[router.lC,router.rH,router.Od],changeDetection:0});const routes=[{path:"",component:SearchSortPaginateComponent,children:[{path:"frontend",component:FrontendComponent},{path:"backend",component:BackendComponent},{path:"",redirectTo:"frontend",pathMatch:"full"}]}];class SearchSortPaginateRoutingModule{}__name(SearchSortPaginateRoutingModule,"SearchSortPaginateRoutingModule"),SearchSortPaginateRoutingModule.\u0275fac=__name(function(t){return new(t||SearchSortPaginateRoutingModule)},"SearchSortPaginateRoutingModule_Factory"),SearchSortPaginateRoutingModule.\u0275mod=core.\u0275\u0275defineNgModule({type:SearchSortPaginateRoutingModule}),SearchSortPaginateRoutingModule.\u0275inj=core.\u0275\u0275defineInjector({imports:[router.Bz.forChild(routes),router.Bz]});class SearchSortPaginateModule{}__name(SearchSortPaginateModule,"SearchSortPaginateModule"),SearchSortPaginateModule.\u0275fac=__name(function(t){return new(t||SearchSortPaginateModule)},"SearchSortPaginateModule_Factory"),SearchSortPaginateModule.\u0275mod=core.\u0275\u0275defineNgModule({type:SearchSortPaginateModule}),SearchSortPaginateModule.\u0275inj=core.\u0275\u0275defineInjector({imports:[common.ez,SearchSortPaginateRoutingModule]})}};