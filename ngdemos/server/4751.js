"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=4751,exports.ids=[4751],exports.modules={14751:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{TodosEntityModule:()=>TodosEntityModule});var common=__webpack_require__(89318),router=__webpack_require__(14195),todo_actions=__webpack_require__(83528),core=__webpack_require__(40305),ngrx_store=__webpack_require__(7776),fesm2020_forms=__webpack_require__(43070);class AddTodoComponent{constructor(store){this.store=store}ngOnInit(){}addTodo(todo){console.log("Todo",todo),this.store.dispatch((0,todo_actions.ju)({todo}))}}__name(AddTodoComponent,"AddTodoComponent"),AddTodoComponent.\u0275fac=__name(function(t){return new(t||AddTodoComponent)(core.\u0275\u0275directiveInject(ngrx_store.yh))},"AddTodoComponent_Factory"),AddTodoComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:AddTodoComponent,selectors:[["lib-add-todo"]],decls:15,vars:0,consts:[[1,"d-flex","justify-content-between"],[3,"ngSubmit"],["form","ngForm"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","ngModel","","name","title",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","completed","ngModel","","name","completed",1,"form-check-input"],["for","completed",1,"form-check-label"],["type","submit",1,"btn","btn-primary"]],template:__name(function(rf,ctx){if(1&rf){const _r1=core.\u0275\u0275getCurrentView();core.\u0275\u0275elementStart(0,"header",0)(1,"h1"),core.\u0275\u0275text(2,"Add todo"),core.\u0275\u0275elementEnd()(),core.\u0275\u0275elementStart(3,"form",1,2),core.\u0275\u0275listener("ngSubmit",__name(function(){core.\u0275\u0275restoreView(_r1);const _r0=core.\u0275\u0275reference(4);return core.\u0275\u0275resetView(ctx.addTodo(_r0.value))},"AddTodoComponent_Template_form_ngSubmit_3_listener")),core.\u0275\u0275elementStart(5,"div",3)(6,"label",4),core.\u0275\u0275text(7,"Title"),core.\u0275\u0275elementEnd(),core.\u0275\u0275element(8,"input",5),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(9,"div",6),core.\u0275\u0275element(10,"input",7),core.\u0275\u0275elementStart(11,"label",8),core.\u0275\u0275text(12,"Completed"),core.\u0275\u0275elementEnd()(),core.\u0275\u0275elementStart(13,"button",9),core.\u0275\u0275text(14,"Submit"),core.\u0275\u0275elementEnd()()}},"AddTodoComponent_Template"),dependencies:[fesm2020_forms._Y,fesm2020_forms.Fj,fesm2020_forms.Wl,fesm2020_forms.JJ,fesm2020_forms.JL,fesm2020_forms.On,fesm2020_forms.F]});var ngrx_router_store=__webpack_require__(69098),ngrx_entity=__webpack_require__(17183);function sort(a,b){return a.title.localeCompare(b.title)}__name(sort,"sort");var state_todo_actions=__webpack_require__(37572);const adapter=(0,ngrx_entity.H)({sortComparer:sort}),initialState=adapter.getInitialState({}),reducer=(0,ngrx_store.Lq)(initialState,(0,ngrx_store.on)(todo_actions.DK,(state,action)=>adapter.addOne(action.todo,state)),(0,ngrx_store.on)(todo_actions.IX,(state,action)=>adapter.updateOne(action.todo,state)),(0,ngrx_store.on)(todo_actions.RS,(state,action)=>adapter.removeOne(action.todoId,state)),(0,ngrx_store.on)(state_todo_actions.jb,(state,action)=>adapter.setAll(action.todos,state))),{selectIds,selectEntities,selectAll,selectTotal}=adapter.getSelectors();function entityTodoReducer(state,action){return reducer(state,action)}__name(entityTodoReducer,"entityTodoReducer");const entityTodosFeatureSelector=(0,ngrx_store.ZF)("entityTodos"),selectEntityTodos=(0,ngrx_store.P1)(entityTodosFeatureSelector,selectAll),selectTodosEntities=(0,ngrx_store.P1)(entityTodosFeatureSelector,selectEntities),selectRouterState=(0,ngrx_store.ZF)("router"),{selectRouteParams}=(0,ngrx_router_store.Ug)(selectRouterState),getEntityTodoById=(0,ngrx_store.P1)(selectTodosEntities,selectRouteParams,(entities,{id})=>entities&&entities[id]);function EditTodoComponent_ng_container_3_Template(rf,ctx){if(1&rf){const _r4=core.\u0275\u0275getCurrentView();core.\u0275\u0275elementContainerStart(0),core.\u0275\u0275elementStart(1,"form",2,3),core.\u0275\u0275listener("ngSubmit",__name(function(){const todo_r1=core.\u0275\u0275restoreView(_r4).ngIf,_r2=core.\u0275\u0275reference(2),ctx_r3=core.\u0275\u0275nextContext();return core.\u0275\u0275resetView(ctx_r3.updateTodo(todo_r1,_r2.value))},"EditTodoComponent_ng_container_3_Template_form_ngSubmit_1_listener")),core.\u0275\u0275elementStart(3,"div",4)(4,"label",5),core.\u0275\u0275text(5,"Title"),core.\u0275\u0275elementEnd(),core.\u0275\u0275element(6,"input",6),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(7,"div",7),core.\u0275\u0275element(8,"input",8),core.\u0275\u0275elementStart(9,"label",9),core.\u0275\u0275text(10,"Completed"),core.\u0275\u0275elementEnd()(),core.\u0275\u0275elementStart(11,"button",10),core.\u0275\u0275text(12,"Submit"),core.\u0275\u0275elementEnd()(),core.\u0275\u0275elementContainerEnd()}if(2&rf){const todo_r1=ctx.ngIf;core.\u0275\u0275advance(6),core.\u0275\u0275property("ngModel",todo_r1.title),core.\u0275\u0275advance(2),core.\u0275\u0275property("ngModel",todo_r1.completed)}}__name(EditTodoComponent_ng_container_3_Template,"EditTodoComponent_ng_container_3_Template");class EditTodoComponent{constructor(store){this.store=store}ngOnInit(){this.todo$=this.store.pipe((0,ngrx_store.Ys)(getEntityTodoById))}updateTodo(todo,val){const updatedTodo={...todo,...val};this.store.dispatch((0,todo_actions.IX)({todo:{id:updatedTodo.id,changes:val}})),console.log("Update ",updatedTodo)}}__name(EditTodoComponent,"EditTodoComponent"),EditTodoComponent.\u0275fac=__name(function(t){return new(t||EditTodoComponent)(core.\u0275\u0275directiveInject(ngrx_store.yh))},"EditTodoComponent_Factory"),EditTodoComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:EditTodoComponent,selectors:[["lib-edit-todo"]],decls:5,vars:3,consts:[[1,"d-flex","justify-content-between","mt-2"],[4,"ngIf"],[3,"ngSubmit"],["form","ngForm"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","name","title",1,"form-control",3,"ngModel"],[1,"mb-3","form-check"],["type","checkbox","id","completed","name","completed",1,"form-check-input",3,"ngModel"],["for","completed",1,"form-check-label"],["type","submit",1,"btn","btn-primary"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"header",0)(1,"h1"),core.\u0275\u0275text(2,"Edit todo"),core.\u0275\u0275elementEnd()(),core.\u0275\u0275template(3,EditTodoComponent_ng_container_3_Template,13,2,"ng-container",1),core.\u0275\u0275pipe(4,"async")),2&rf&&(core.\u0275\u0275advance(3),core.\u0275\u0275property("ngIf",core.\u0275\u0275pipeBind1(4,1,ctx.todo$)))},"EditTodoComponent_Template"),dependencies:[common.O5,fesm2020_forms._Y,fesm2020_forms.Fj,fesm2020_forms.Wl,fesm2020_forms.JJ,fesm2020_forms.JL,fesm2020_forms.On,fesm2020_forms.F,common.Ov]});class ViewTodoComponent{constructor(){}ngOnInit(){}}__name(ViewTodoComponent,"ViewTodoComponent"),ViewTodoComponent.\u0275fac=__name(function(t){return new(t||ViewTodoComponent)},"ViewTodoComponent_Factory"),ViewTodoComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:ViewTodoComponent,selectors:[["lib-view-todo"]],decls:2,vars:0,template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"p"),core.\u0275\u0275text(1,"view-todo works!"),core.\u0275\u0275elementEnd())},"ViewTodoComponent_Template")});const _c0=__name(function(a1){return["edit",a1]},"_c0");function TodosEntityComponent_ul_8_li_1_Template(rf,ctx){if(1&rf){const _r5=core.\u0275\u0275getCurrentView();core.\u0275\u0275elementStart(0,"li",9)(1,"div",10),core.\u0275\u0275text(2),core.\u0275\u0275elementStart(3,"div"),core.\u0275\u0275text(4),core.\u0275\u0275elementEnd()(),core.\u0275\u0275elementStart(5,"a",11),core.\u0275\u0275element(6,"i",12),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(7,"i",13),core.\u0275\u0275listener("click",__name(function(){const todo_r3=core.\u0275\u0275restoreView(_r5).$implicit,ctx_r4=core.\u0275\u0275nextContext(2);return core.\u0275\u0275resetView(ctx_r4.removeTodo(todo_r3))},"TodosEntityComponent_ul_8_li_1_Template_i_click_7_listener")),core.\u0275\u0275elementEnd()()}if(2&rf){const todo_r3=ctx.$implicit;core.\u0275\u0275advance(2),core.\u0275\u0275textInterpolate2(" ",todo_r3.id," - ",todo_r3.title," "),core.\u0275\u0275advance(2),core.\u0275\u0275textInterpolate1("Completed: ",todo_r3.completed,""),core.\u0275\u0275advance(1),core.\u0275\u0275property("routerLink",core.\u0275\u0275pureFunction1(4,_c0,todo_r3.id))}}function TodosEntityComponent_ul_8_Template(rf,ctx){if(1&rf&&(core.\u0275\u0275elementStart(0,"ul",7),core.\u0275\u0275template(1,TodosEntityComponent_ul_8_li_1_Template,8,6,"li",8),core.\u0275\u0275elementEnd()),2&rf){const todos_r1=ctx.ngIf;core.\u0275\u0275advance(1),core.\u0275\u0275property("ngForOf",todos_r1)}}__name(TodosEntityComponent_ul_8_li_1_Template,"TodosEntityComponent_ul_8_li_1_Template"),__name(TodosEntityComponent_ul_8_Template,"TodosEntityComponent_ul_8_Template");class TodosEntityComponent{constructor(store){this.store=store}ngOnInit(){this.todos$=this.store.pipe((0,ngrx_store.Ys)(selectEntityTodos))}removeTodo(todo){this.store.dispatch((0,todo_actions.iV)({todoId:todo.id}))}}__name(TodosEntityComponent,"TodosEntityComponent"),TodosEntityComponent.\u0275fac=__name(function(t){return new(t||TodosEntityComponent)(core.\u0275\u0275directiveInject(ngrx_store.yh))},"TodosEntityComponent_Factory"),TodosEntityComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:TodosEntityComponent,selectors:[["lib-todos-entity"]],decls:12,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-sm-6"],[1,"d-flex","justify-content-between","mb-2"],["routerLink","add",1,"btn","btn-primary","add-todo"],[1,"ti-plus"],["class","list-group",4,"ngIf"],[1,"list-group"],["class","list-group-item d-flex justify-content-between",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between"],[1,"todo"],[3,"routerLink"],[1,"ti-pencil","mr-2"],[1,"ti-trash",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"header",3)(4,"h1"),core.\u0275\u0275text(5,"Todo List"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(6,"a",4),core.\u0275\u0275element(7,"i",5),core.\u0275\u0275elementEnd()(),core.\u0275\u0275template(8,TodosEntityComponent_ul_8_Template,2,1,"ul",6),core.\u0275\u0275pipe(9,"async"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(10,"div",2),core.\u0275\u0275element(11,"router-outlet"),core.\u0275\u0275elementEnd()()()),2&rf&&(core.\u0275\u0275advance(8),core.\u0275\u0275property("ngIf",core.\u0275\u0275pipeBind1(9,1,ctx.todos$)))},"TodosEntityComponent_Template"),dependencies:[common.sg,common.O5,router.lC,router.rH,common.Ov],styles:[".add-todo[_ngcontent-%COMP%]{display:flex;align-self:center}.todo[_ngcontent-%COMP%]{flex:1}.ti-trash[_ngcontent-%COMP%]{cursor:pointer;margin-top:2px;margin-left:10px}"]});const routes=[{path:"",component:TodosEntityComponent,children:[{path:"add",component:AddTodoComponent},{path:"edit/:id",component:EditTodoComponent},{path:"view/:id",component:ViewTodoComponent}]}];class TodosEntityRoutingModule{}__name(TodosEntityRoutingModule,"TodosEntityRoutingModule"),TodosEntityRoutingModule.\u0275fac=__name(function(t){return new(t||TodosEntityRoutingModule)},"TodosEntityRoutingModule_Factory"),TodosEntityRoutingModule.\u0275mod=core.\u0275\u0275defineNgModule({type:TodosEntityRoutingModule}),TodosEntityRoutingModule.\u0275inj=core.\u0275\u0275defineInjector({imports:[router.Bz.forChild(routes),router.Bz]});var ngrx_effects=__webpack_require__(21334),cjs=__webpack_require__(25095),operators=__webpack_require__(51138),todo_service=__webpack_require__(20745);class EntityTodoEffects{constructor(actions$,todoService){this.actions$=actions$,this.todoService=todoService,this.editPost$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(todo_actions.IX),(0,operators.wt)(({todo})=>{console.log("HERER",todo);const update={id:todo.id,...todo.changes};return this.todoService.updateTodo(update)})),{dispatch:!1}),this.createTodo$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(todo_actions.ju),(0,operators.wt)(({todo})=>this.todoService.addTodo(todo).pipe((0,operators.UI)(todo2=>(0,todo_actions.DK)({todo:todo2})),(0,operators.KQ)(()=>(0,cjs.of)((0,todo_actions.$G)())))))),this.deleteEntityTodo$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(todo_actions.iV),(0,operators.wt)(({todoId})=>this.todoService.removeTodo(todoId).pipe((0,operators.UI)(()=>(0,todo_actions.RS)({todoId})),(0,operators.KQ)(()=>(0,cjs.of)((0,todo_actions.TV)()))))))}}__name(EntityTodoEffects,"EntityTodoEffects"),EntityTodoEffects.\u0275fac=__name(function(t){return new(t||EntityTodoEffects)(core.\u0275\u0275inject(ngrx_effects.eX),core.\u0275\u0275inject(todo_service.w))},"EntityTodoEffects_Factory"),EntityTodoEffects.\u0275prov=core.\u0275\u0275defineInjectable({token:EntityTodoEffects,factory:EntityTodoEffects.\u0275fac});class TodosEntityModule{}__name(TodosEntityModule,"TodosEntityModule"),TodosEntityModule.\u0275fac=__name(function(t){return new(t||TodosEntityModule)},"TodosEntityModule_Factory"),TodosEntityModule.\u0275mod=core.\u0275\u0275defineNgModule({type:TodosEntityModule}),TodosEntityModule.\u0275inj=core.\u0275\u0275defineInjector({imports:[common.ez,fesm2020_forms.u5,TodosEntityRoutingModule,ngrx_store.Aw.forFeature("entityTodos",entityTodoReducer),ngrx_effects.sQ.forFeature([EntityTodoEffects])]})}};