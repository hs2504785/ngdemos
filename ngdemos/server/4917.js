"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=4917,exports.ids=[4917],exports.modules={54917:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BooksModule:()=>BooksModule});var common=__webpack_require__(89318),router=__webpack_require__(14195),ngrx_store=__webpack_require__(7776);const loadBook=(0,ngrx_store.PH)("[Book Exists Guard] Load Book",(0,ngrx_store.Ky)()),enter=(0,ngrx_store.PH)("[Collection Page] Enter"),loadBooksSuccess=(0,ngrx_store.PH)("[Collection/API] Load Books Success",(0,ngrx_store.Ky)()),searchBooks=((0,ngrx_store.PH)("[Collection/API] Load Books Failure",(0,ngrx_store.Ky)()),(0,ngrx_store.PH)("[Find Book Page] Search Books",(0,ngrx_store.Ky)())),searchSuccess=(0,ngrx_store.PH)("[Books/API] Search Success",(0,ngrx_store.Ky)()),searchFailure=(0,ngrx_store.PH)("[Books/API] Search Failure",(0,ngrx_store.Ky)()),selectBook=(0,ngrx_store.PH)("[View Book Page] Select Book",(0,ngrx_store.Ky)()),addBookFailure=((0,ngrx_store.PH)("[Collection/API] Add Book Success",(0,ngrx_store.Ky)()),(0,ngrx_store.PH)("[Collection/API] Add Book Failure",(0,ngrx_store.Ky)())),removeBookFailure=((0,ngrx_store.PH)("[Collection/API] Remove Book Success",(0,ngrx_store.Ky)()),(0,ngrx_store.PH)("[Collection/API] Remove Book Failure",(0,ngrx_store.Ky)())),addBook=(0,ngrx_store.PH)("[Selected Book Page] Add Book",(0,ngrx_store.Ky)()),removeBook=(0,ngrx_store.PH)("[Selected Book Page] Remove Book",(0,ngrx_store.Ky)());const bookAdapter=(0,__webpack_require__(17183).H)({selectId:book=>book.id,sortComparer:!1}),initialState=bookAdapter.getInitialState({selectedBookId:null}),booksReducer=(0,ngrx_store.Lq)(initialState,(0,ngrx_store.on)(searchSuccess,loadBooksSuccess,(state,{books})=>bookAdapter.addMany(books,state)),(0,ngrx_store.on)(loadBook,(state,{book})=>bookAdapter.addOne(book,state)),(0,ngrx_store.on)(selectBook,(state,{id})=>({...state,selectedBookId:id}))),collectionReducer=(0,ngrx_store.Lq)({loaded:!1,loading:!1,ids:[]},(0,ngrx_store.on)(enter,state=>({...state,loading:!0})),(0,ngrx_store.on)(loadBooksSuccess,(state,{books})=>({loaded:!0,loading:!1,ids:books.map(book=>book.id)})),(0,ngrx_store.on)(addBook,removeBookFailure,(state,{book})=>state.ids.indexOf(book.id)>-1?state:{...state,ids:[...state.ids,book.id]}),(0,ngrx_store.on)(removeBook,addBookFailure,(state,{book})=>({...state,ids:state.ids.filter(id=>id!==book.id)}))),booksReducerStore={search:(0,ngrx_store.Lq)({ids:[],loading:!1,error:"",query:""},(0,ngrx_store.on)(searchBooks,(state,{query})=>""===query?{ids:[],loading:!1,error:"",query}:{...state,loading:!0,error:"",query}),(0,ngrx_store.on)(searchSuccess,(state,{books})=>({ids:books.map(book=>book.id),loading:!1,error:"",query:state.query})),(0,ngrx_store.on)(searchFailure,(state,{errorMsg})=>({...state,loading:!1,error:errorMsg}))),books:booksReducer,collection:collectionReducer},selectBooksRootFeature=(0,ngrx_store.ZF)("books-store"),selectBooksFeature=(0,ngrx_store.P1)(selectBooksRootFeature,state=>state.books),selectSelectedBookId=(0,ngrx_store.P1)(selectBooksFeature,state=>state.selectedBookId),{selectIds:selectBookIds,selectEntities:selectBookEntities,selectAll:selectAllBooks,selectTotal:selectTotalBooks}=bookAdapter.getSelectors(selectBooksFeature),selectSelectedBook=(0,ngrx_store.P1)(selectBookEntities,selectSelectedBookId,(entities,selectedId)=>selectedId&&entities[selectedId]),selectSearchState=(0,ngrx_store.P1)(selectBooksRootFeature,state=>state.search),selectSearchBookIds=(0,ngrx_store.P1)(selectSearchState,state=>state.ids),selectSearchQuery=(0,ngrx_store.P1)(selectSearchState,state=>state.query),selectSearchLoading=(0,ngrx_store.P1)(selectSearchState,state=>state.loading),selectSearchError=(0,ngrx_store.P1)(selectSearchState,state=>state.error),selectSearchResults=(0,ngrx_store.P1)(selectBookEntities,selectSearchBookIds,(books,searchIds)=>searchIds.map(id=>books[id]).filter(book=>null!=book)),selectCollectionState=(0,ngrx_store.P1)(selectBooksRootFeature,state=>state.collection),selectCollectionBookIds=((0,ngrx_store.P1)(selectCollectionState,state=>state.loaded),(0,ngrx_store.P1)(selectCollectionState,state=>state.loading),(0,ngrx_store.P1)(selectCollectionState,state=>state.ids)),selectBookCollection=(0,ngrx_store.P1)(selectBookEntities,selectCollectionBookIds,(entities,ids)=>ids.map(id=>entities[id]).filter(book=>null!=book)),isSelectedBookInCollection=(0,ngrx_store.P1)(selectCollectionBookIds,selectSelectedBookId,(ids,selected)=>!!selected&&ids.indexOf(selected)>-1);var core=__webpack_require__(40305),card=__webpack_require__(48902);class AddCommasPipe{transform(authors){if(!authors)return"Author Unknown";switch(authors.length){case 0:return"Author Unknown";case 1:return authors[0];case 2:return authors.join(" and ");default:const last=authors[authors.length-1];return`${authors.slice(0,-1).join(", ")}, and ${last}`}}}__name(AddCommasPipe,"AddCommasPipe"),AddCommasPipe.\u0275fac=__name(function(t){return new(t||AddCommasPipe)},"AddCommasPipe_Factory"),AddCommasPipe.\u0275pipe=core.\u0275\u0275definePipe({name:"addCommas",type:AddCommasPipe,pure:!0});class BookAuthorsComponent{get authors(){return this.book.volumeInfo.authors}}__name(BookAuthorsComponent,"BookAuthorsComponent"),BookAuthorsComponent.\u0275fac=__name(function(t){return new(t||BookAuthorsComponent)},"BookAuthorsComponent_Factory"),BookAuthorsComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:BookAuthorsComponent,selectors:[["lib-book-authors"]],inputs:{book:"book"},decls:5,vars:3,consts:[["mat-subheader","",1,"mt-5"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"h5",0),core.\u0275\u0275text(1,"Written By:"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(2,"span"),core.\u0275\u0275text(3),core.\u0275\u0275pipe(4,"addCommas"),core.\u0275\u0275elementEnd()),2&rf&&(core.\u0275\u0275advance(3),core.\u0275\u0275textInterpolate1(" ",core.\u0275\u0275pipeBind1(4,1,ctx.authors),"\n"))},"BookAuthorsComponent_Template"),dependencies:[AddCommasPipe],changeDetection:0});class EllipsisPipe{transform(str,strLength=250){const withoutHtml=str.replace(/(<([^>]+)>)/gi,"");return str.length>=strLength?`${withoutHtml.slice(0,strLength)}...`:withoutHtml}}function BookPreviewComponent_img_3_Template(rf,ctx){if(1&rf&&core.\u0275\u0275element(0,"img",5),2&rf){const ctx_r0=core.\u0275\u0275nextContext();core.\u0275\u0275property("src",ctx_r0.thumbnail,core.\u0275\u0275sanitizeUrl)}}function BookPreviewComponent_mat_card_subtitle_7_Template(rf,ctx){if(1&rf&&(core.\u0275\u0275elementStart(0,"mat-card-subtitle"),core.\u0275\u0275text(1),core.\u0275\u0275pipe(2,"ellipsis"),core.\u0275\u0275elementEnd()),2&rf){const ctx_r1=core.\u0275\u0275nextContext();core.\u0275\u0275advance(1),core.\u0275\u0275textInterpolate(core.\u0275\u0275pipeBind2(2,1,ctx_r1.subtitle,40))}}function BookPreviewComponent_p_9_Template(rf,ctx){if(1&rf&&(core.\u0275\u0275elementStart(0,"p"),core.\u0275\u0275text(1),core.\u0275\u0275pipe(2,"ellipsis"),core.\u0275\u0275elementEnd()),2&rf){const ctx_r2=core.\u0275\u0275nextContext();core.\u0275\u0275advance(1),core.\u0275\u0275textInterpolate(core.\u0275\u0275pipeBind1(2,1,ctx_r2.description))}}__name(EllipsisPipe,"EllipsisPipe"),EllipsisPipe.\u0275fac=__name(function(t){return new(t||EllipsisPipe)},"EllipsisPipe_Factory"),EllipsisPipe.\u0275pipe=core.\u0275\u0275definePipe({name:"ellipsis",type:EllipsisPipe,pure:!0}),__name(BookPreviewComponent_img_3_Template,"BookPreviewComponent_img_3_Template"),__name(BookPreviewComponent_mat_card_subtitle_7_Template,"BookPreviewComponent_mat_card_subtitle_7_Template"),__name(BookPreviewComponent_p_9_Template,"BookPreviewComponent_p_9_Template");const _c0=__name(function(a1){return["/ebook/books",a1]},"_c0");class BookPreviewComponent{get id(){return this.book.id}get title(){return this.book.volumeInfo.title}get subtitle(){return this.book.volumeInfo.subtitle}get description(){return this.book.volumeInfo.description}get thumbnail(){return!!this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail.replace("http:","")}}function BookPreviewListComponent_lib_book_preview_0_Template(rf,ctx){if(1&rf&&core.\u0275\u0275element(0,"lib-book-preview",1),2&rf){const book_r1=ctx.$implicit;core.\u0275\u0275property("book",book_r1)}}__name(BookPreviewComponent,"BookPreviewComponent"),BookPreviewComponent.\u0275fac=__name(function(t){return new(t||BookPreviewComponent)},"BookPreviewComponent_Factory"),BookPreviewComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:BookPreviewComponent,selectors:[["lib-book-preview"]],inputs:{book:"book"},decls:12,vars:11,consts:[[3,"routerLink"],["appearance","outlined"],["mat-card-sm-image","",3,"src",4,"ngIf"],[4,"ngIf"],[3,"book"],["mat-card-sm-image","",3,"src"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"a",0)(1,"mat-card",1)(2,"mat-card-title-group"),core.\u0275\u0275template(3,BookPreviewComponent_img_3_Template,1,1,"img",2),core.\u0275\u0275elementStart(4,"mat-card-title"),core.\u0275\u0275text(5),core.\u0275\u0275pipe(6,"ellipsis"),core.\u0275\u0275elementEnd(),core.\u0275\u0275template(7,BookPreviewComponent_mat_card_subtitle_7_Template,3,4,"mat-card-subtitle",3),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(8,"mat-card-content"),core.\u0275\u0275template(9,BookPreviewComponent_p_9_Template,3,3,"p",3),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(10,"mat-card-footer"),core.\u0275\u0275element(11,"lib-book-authors",4),core.\u0275\u0275elementEnd()()()),2&rf&&(core.\u0275\u0275property("routerLink",core.\u0275\u0275pureFunction1(9,_c0,ctx.id)),core.\u0275\u0275advance(3),core.\u0275\u0275property("ngIf",ctx.thumbnail),core.\u0275\u0275advance(2),core.\u0275\u0275textInterpolate(core.\u0275\u0275pipeBind2(6,6,ctx.title,35)),core.\u0275\u0275advance(2),core.\u0275\u0275property("ngIf",ctx.subtitle),core.\u0275\u0275advance(2),core.\u0275\u0275property("ngIf",ctx.description),core.\u0275\u0275advance(2),core.\u0275\u0275property("book",ctx.book))},"BookPreviewComponent_Template"),dependencies:[common.O5,router.rH,card.a8,card.dn,card.rt,card.vP,card.$j,card.n5,card.C1,BookAuthorsComponent,EllipsisPipe],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{display:flex}mat-card[_ngcontent-%COMP%]{width:400px;margin:15px;display:flex;flex-flow:column;justify-content:space-between}@media only screen and (max-width: 768px){mat-card[_ngcontent-%COMP%]{margin:15px 0!important}}mat-card[_ngcontent-%COMP%]:hover{box-shadow:3px 3px 16px -2px #00000080}mat-card-title[_ngcontent-%COMP%]{margin-right:10px}mat-card-title-group[_ngcontent-%COMP%]{margin:0}a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}img[_ngcontent-%COMP%]{width:60px;min-width:60px;margin-left:5px}mat-card-content[_ngcontent-%COMP%]{margin:15px 0 0}span[_ngcontent-%COMP%]{display:inline-block;font-size:13px}mat-card-footer[_ngcontent-%COMP%]{padding:0 25px 25px}"],changeDetection:0}),__name(BookPreviewListComponent_lib_book_preview_0_Template,"BookPreviewListComponent_lib_book_preview_0_Template");class BookPreviewListComponent{constructor(){}ngOnInit(){}}__name(BookPreviewListComponent,"BookPreviewListComponent"),BookPreviewListComponent.\u0275fac=__name(function(t){return new(t||BookPreviewListComponent)},"BookPreviewListComponent_Factory"),BookPreviewListComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:BookPreviewListComponent,selectors:[["lib-book-preview-list"]],inputs:{books:"books"},decls:1,vars:1,consts:[[3,"book",4,"ngFor","ngForOf"],[3,"book"]],template:__name(function(rf,ctx){1&rf&&core.\u0275\u0275template(0,BookPreviewListComponent_lib_book_preview_0_Template,1,1,"lib-book-preview",0),2&rf&&core.\u0275\u0275property("ngForOf",ctx.books)},"BookPreviewListComponent_Template"),dependencies:[common.sg,BookPreviewComponent],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}"],changeDetection:0});class BooksComponent{constructor(store){this.store=store,this.books$=store.select(selectBookCollection)}ngOnInit(){this.store.dispatch(enter())}}__name(BooksComponent,"BooksComponent"),BooksComponent.\u0275fac=__name(function(t){return new(t||BooksComponent)(core.\u0275\u0275directiveInject(ngrx_store.yh))},"BooksComponent_Factory"),BooksComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:BooksComponent,selectors:[["lib-books"]],decls:5,vars:3,consts:[["appearance","outlined"],[3,"books"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"mat-card",0)(1,"mat-card-title"),core.\u0275\u0275text(2,"My Collection"),core.\u0275\u0275elementEnd()(),core.\u0275\u0275element(3,"lib-book-preview-list",1),core.\u0275\u0275pipe(4,"async")),2&rf&&(core.\u0275\u0275advance(3),core.\u0275\u0275property("books",core.\u0275\u0275pipeBind1(4,1,ctx.books$)))},"BooksComponent_Template"),dependencies:[card.a8,card.n5,BookPreviewListComponent,common.Ov],styles:["mat-card-title[_ngcontent-%COMP%]{display:flex;justify-content:center}"]});var operators=__webpack_require__(51138),fesm2020_core=__webpack_require__(81993),coercion=__webpack_require__(23834);const progress_spinner_c0=["determinateSpinner"];function MatProgressSpinner_ng_template_0_Template(rf,ctx){if(1&rf&&(core.\u0275\u0275namespaceSVG(),core.\u0275\u0275elementStart(0,"svg",11),core.\u0275\u0275element(1,"circle",12),core.\u0275\u0275elementEnd()),2&rf){const ctx_r1=core.\u0275\u0275nextContext();core.\u0275\u0275attribute("viewBox",ctx_r1._viewBox()),core.\u0275\u0275advance(1),core.\u0275\u0275styleProp("stroke-dasharray",ctx_r1._strokeCircumference(),"px")("stroke-dashoffset",ctx_r1._strokeCircumference()/2,"px")("stroke-width",ctx_r1._circleStrokeWidth(),"%"),core.\u0275\u0275attribute("r",ctx_r1._circleRadius())}}__name(MatProgressSpinner_ng_template_0_Template,"MatProgressSpinner_ng_template_0_Template");const _MatProgressSpinnerBase=(0,fesm2020_core.pj)(class{constructor(_elementRef){this._elementRef=_elementRef}},"primary"),MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS=new core.InjectionToken("mat-progress-spinner-default-options",{providedIn:"root",factory:MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS_FACTORY});function MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS_FACTORY(){return{diameter:BASE_SIZE}}__name(MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS_FACTORY,"MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS_FACTORY");const BASE_SIZE=100;class MatProgressSpinner extends _MatProgressSpinnerBase{constructor(elementRef,animationMode,defaults){super(elementRef),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=BASE_SIZE,this._noopAnimations="NoopAnimations"===animationMode&&!!defaults&&!defaults._forceAnimations,defaults&&(defaults.color&&(this.color=this.defaultColor=defaults.color),defaults.diameter&&(this.diameter=defaults.diameter),defaults.strokeWidth&&(this.strokeWidth=defaults.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(v){this._value=Math.max(0,Math.min(100,(0,coercion.su)(v)))}get diameter(){return this._diameter}set diameter(size){this._diameter=(0,coercion.su)(size)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(value){this._strokeWidth=(0,coercion.su)(value)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const viewBox=2*this._circleRadius()+this.strokeWidth;return`0 0 ${viewBox} ${viewBox}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}__name(MatProgressSpinner,"MatProgressSpinner"),MatProgressSpinner.\u0275fac=__name(function(t){return new(t||MatProgressSpinner)(core.\u0275\u0275directiveInject(core.ElementRef),core.\u0275\u0275directiveInject(core.ANIMATION_MODULE_TYPE,8),core.\u0275\u0275directiveInject(MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS))},"MatProgressSpinner_Factory"),MatProgressSpinner.\u0275cmp=core.\u0275\u0275defineComponent({type:MatProgressSpinner,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.\u0275\u0275viewQuery(progress_spinner_c0,5),2&rf){let _t;core.\u0275\u0275queryRefresh(_t=core.\u0275\u0275loadQuery())&&(ctx._determinateCircle=_t.first)}},"MatProgressSpinner_Query"),hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:__name(function(rf,ctx){2&rf&&(core.\u0275\u0275attribute("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===ctx.mode?ctx.value:null)("mode",ctx.mode),core.\u0275\u0275styleProp("width",ctx.diameter,"px")("height",ctx.diameter,"px"),core.\u0275\u0275classProp("_mat-animation-noopable",ctx._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===ctx.mode))},"MatProgressSpinner_HostBindings"),inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[core.\u0275\u0275InheritDefinitionFeature],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:__name(function(rf,ctx){if(1&rf&&(core.\u0275\u0275template(0,MatProgressSpinner_ng_template_0_Template,2,8,"ng-template",null,0,core.\u0275\u0275templateRefExtractor),core.\u0275\u0275elementStart(2,"div",1,2),core.\u0275\u0275namespaceSVG(),core.\u0275\u0275elementStart(4,"svg",3),core.\u0275\u0275element(5,"circle",4),core.\u0275\u0275elementEnd()(),core.\u0275\u0275namespaceHTML(),core.\u0275\u0275elementStart(6,"div",5)(7,"div",6)(8,"div",7),core.\u0275\u0275elementContainer(9,8),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(10,"div",9),core.\u0275\u0275elementContainer(11,8),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(12,"div",10),core.\u0275\u0275elementContainer(13,8),core.\u0275\u0275elementEnd()()()),2&rf){const _r0=core.\u0275\u0275reference(1);core.\u0275\u0275advance(4),core.\u0275\u0275attribute("viewBox",ctx._viewBox()),core.\u0275\u0275advance(1),core.\u0275\u0275styleProp("stroke-dasharray",ctx._strokeCircumference(),"px")("stroke-dashoffset",ctx._strokeDashOffset(),"px")("stroke-width",ctx._circleStrokeWidth(),"%"),core.\u0275\u0275attribute("r",ctx._circleRadius()),core.\u0275\u0275advance(4),core.\u0275\u0275property("ngTemplateOutlet",_r0),core.\u0275\u0275advance(2),core.\u0275\u0275property("ngTemplateOutlet",_r0),core.\u0275\u0275advance(2),core.\u0275\u0275property("ngTemplateOutlet",_r0)}},"MatProgressSpinner_Template"),dependencies:[common.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0});class MatProgressSpinnerModule{}__name(MatProgressSpinnerModule,"MatProgressSpinnerModule"),MatProgressSpinnerModule.\u0275fac=__name(function(t){return new(t||MatProgressSpinnerModule)},"MatProgressSpinnerModule_Factory"),MatProgressSpinnerModule.\u0275mod=core.\u0275\u0275defineNgModule({type:MatProgressSpinnerModule}),MatProgressSpinnerModule.\u0275inj=core.\u0275\u0275defineInjector({imports:[common.ez,fesm2020_core.BQ]});var form_field=__webpack_require__(69041),input=__webpack_require__(2212);function BookSearchComponent_span_8_Template(rf,ctx){if(1&rf&&(core.\u0275\u0275elementStart(0,"span"),core.\u0275\u0275text(1),core.\u0275\u0275elementEnd()),2&rf){const ctx_r0=core.\u0275\u0275nextContext();core.\u0275\u0275advance(1),core.\u0275\u0275textInterpolate(ctx_r0.error)}}__name(BookSearchComponent_span_8_Template,"BookSearchComponent_span_8_Template");class BookSearchComponent{constructor(){this.query="",this.searching=!1,this.error="",this.search=new core.EventEmitter}}__name(BookSearchComponent,"BookSearchComponent"),BookSearchComponent.\u0275fac=__name(function(t){return new(t||BookSearchComponent)},"BookSearchComponent_Factory"),BookSearchComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:BookSearchComponent,selectors:[["lib-book-search"]],inputs:{query:"query",searching:"searching",error:"error"},outputs:{search:"search"},decls:9,vars:6,consts:[["appearance","outlined"],["matInput","","placeholder","Search for a book",3,"value","keyup"],[3,"diameter","strokeWidth"],[4,"ngIf"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"mat-card",0)(1,"mat-card-title"),core.\u0275\u0275text(2,"Find a Book"),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(3,"mat-card-content")(4,"mat-form-field")(5,"input",1),core.\u0275\u0275listener("keyup",__name(function($event){return ctx.search.emit($event.target.value)},"BookSearchComponent_Template_input_keyup_5_listener")),core.\u0275\u0275elementEnd()(),core.\u0275\u0275element(6,"mat-spinner",2),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(7,"mat-card-footer"),core.\u0275\u0275template(8,BookSearchComponent_span_8_Template,2,1,"span",3),core.\u0275\u0275elementEnd()()),2&rf&&(core.\u0275\u0275advance(5),core.\u0275\u0275property("value",ctx.query),core.\u0275\u0275advance(1),core.\u0275\u0275classProp("show",ctx.searching),core.\u0275\u0275property("diameter",30)("strokeWidth",3),core.\u0275\u0275advance(2),core.\u0275\u0275property("ngIf",ctx.error))},"BookSearchComponent_Template"),dependencies:[common.O5,card.a8,card.dn,card.rt,card.n5,MatProgressSpinner,form_field.KE,input.Nt],styles:["mat-card-title[_ngcontent-%COMP%], mat-card-content[_ngcontent-%COMP%], mat-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-card-footer[_ngcontent-%COMP%]{color:red;padding:5px 0}.mat-mdc-form-field[_ngcontent-%COMP%]{min-width:300px;margin-right:10px}.mat-mdc-progress-spinner[_ngcontent-%COMP%]{position:relative;top:10px;left:10px;visibility:hidden}.mat-mdc-progress-spinner.show[_ngcontent-%COMP%]{visibility:visible}"],changeDetection:0});class FindBookComponent{constructor(store){this.store=store,this.searchQuery$=store.select(selectSearchQuery).pipe((0,operators.qn)(1)),this.books$=store.select(selectSearchResults),this.loading$=store.select(selectSearchLoading),this.error$=store.select(selectSearchError)}search(query){this.store.dispatch(searchBooks({query}))}}__name(FindBookComponent,"FindBookComponent"),FindBookComponent.\u0275fac=__name(function(t){return new(t||FindBookComponent)(core.\u0275\u0275directiveInject(ngrx_store.yh))},"FindBookComponent_Factory"),FindBookComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:FindBookComponent,selectors:[["lib-find-book"]],decls:6,vars:12,consts:[[3,"query","searching","error","search"],[3,"books"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"lib-book-search",0),core.\u0275\u0275listener("search",__name(function($event){return ctx.search($event)},"FindBookComponent_Template_lib_book_search_search_0_listener")),core.\u0275\u0275pipe(1,"async"),core.\u0275\u0275pipe(2,"async"),core.\u0275\u0275pipe(3,"async"),core.\u0275\u0275elementEnd(),core.\u0275\u0275element(4,"lib-book-preview-list",1),core.\u0275\u0275pipe(5,"async")),2&rf&&(core.\u0275\u0275property("query",core.\u0275\u0275pipeBind1(1,4,ctx.searchQuery$))("searching",core.\u0275\u0275pipeBind1(2,6,ctx.loading$))("error",core.\u0275\u0275pipeBind1(3,8,ctx.error$)),core.\u0275\u0275advance(4),core.\u0275\u0275property("books",core.\u0275\u0275pipeBind1(5,10,ctx.books$)))},"FindBookComponent_Template"),dependencies:[BookPreviewListComponent,BookSearchComponent,common.Ov]});var fesm2020_button=__webpack_require__(12161);function BookDetailComponent_mat_card_0_mat_card_subtitle_4_Template(rf,ctx){if(1&rf&&(core.\u0275\u0275elementStart(0,"mat-card-subtitle"),core.\u0275\u0275text(1),core.\u0275\u0275elementEnd()),2&rf){const ctx_r1=core.\u0275\u0275nextContext(2);core.\u0275\u0275advance(1),core.\u0275\u0275textInterpolate(ctx_r1.subtitle)}}function BookDetailComponent_mat_card_0_img_5_Template(rf,ctx){if(1&rf&&core.\u0275\u0275element(0,"img",10),2&rf){const ctx_r2=core.\u0275\u0275nextContext(2);core.\u0275\u0275property("src",ctx_r2.thumbnail,core.\u0275\u0275sanitizeUrl)}}function BookDetailComponent_mat_card_0_button_11_Template(rf,ctx){if(1&rf){const _r6=core.\u0275\u0275getCurrentView();core.\u0275\u0275elementStart(0,"button",11),core.\u0275\u0275listener("click",__name(function(){core.\u0275\u0275restoreView(_r6);const ctx_r5=core.\u0275\u0275nextContext(2);return core.\u0275\u0275resetView(ctx_r5.remove.emit(ctx_r5.book))},"BookDetailComponent_mat_card_0_button_11_Template_button_click_0_listener")),core.\u0275\u0275text(1," Remove Book from Collection "),core.\u0275\u0275elementEnd()}}function BookDetailComponent_mat_card_0_button_12_Template(rf,ctx){if(1&rf){const _r8=core.\u0275\u0275getCurrentView();core.\u0275\u0275elementStart(0,"button",12),core.\u0275\u0275listener("click",__name(function(){core.\u0275\u0275restoreView(_r8);const ctx_r7=core.\u0275\u0275nextContext(2);return core.\u0275\u0275resetView(ctx_r7.add.emit(ctx_r7.book))},"BookDetailComponent_mat_card_0_button_12_Template_button_click_0_listener")),core.\u0275\u0275text(1," Add Book to Collection "),core.\u0275\u0275elementEnd()}}function BookDetailComponent_mat_card_0_Template(rf,ctx){if(1&rf&&(core.\u0275\u0275elementStart(0,"mat-card",1)(1,"mat-card-title-group")(2,"mat-card-title"),core.\u0275\u0275text(3),core.\u0275\u0275elementEnd(),core.\u0275\u0275template(4,BookDetailComponent_mat_card_0_mat_card_subtitle_4_Template,2,1,"mat-card-subtitle",2),core.\u0275\u0275template(5,BookDetailComponent_mat_card_0_img_5_Template,1,1,"img",3),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(6,"mat-card-content"),core.\u0275\u0275element(7,"p",4),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(8,"mat-card-footer",5),core.\u0275\u0275element(9,"bc-book-authors",6),core.\u0275\u0275elementEnd(),core.\u0275\u0275elementStart(10,"mat-card-actions",7),core.\u0275\u0275template(11,BookDetailComponent_mat_card_0_button_11_Template,2,0,"button",8),core.\u0275\u0275template(12,BookDetailComponent_mat_card_0_button_12_Template,2,0,"button",9),core.\u0275\u0275elementEnd()()),2&rf){const ctx_r0=core.\u0275\u0275nextContext();core.\u0275\u0275advance(3),core.\u0275\u0275textInterpolate(ctx_r0.title),core.\u0275\u0275advance(1),core.\u0275\u0275property("ngIf",ctx_r0.subtitle),core.\u0275\u0275advance(1),core.\u0275\u0275property("ngIf",ctx_r0.thumbnail),core.\u0275\u0275advance(2),core.\u0275\u0275property("innerHtml",ctx_r0.description,core.\u0275\u0275sanitizeHtml),core.\u0275\u0275advance(2),core.\u0275\u0275property("book",ctx_r0.book),core.\u0275\u0275advance(2),core.\u0275\u0275property("ngIf",ctx_r0.inCollection),core.\u0275\u0275advance(1),core.\u0275\u0275property("ngIf",!ctx_r0.inCollection)}}__name(BookDetailComponent_mat_card_0_mat_card_subtitle_4_Template,"BookDetailComponent_mat_card_0_mat_card_subtitle_4_Template"),__name(BookDetailComponent_mat_card_0_img_5_Template,"BookDetailComponent_mat_card_0_img_5_Template"),__name(BookDetailComponent_mat_card_0_button_11_Template,"BookDetailComponent_mat_card_0_button_11_Template"),__name(BookDetailComponent_mat_card_0_button_12_Template,"BookDetailComponent_mat_card_0_button_12_Template"),__name(BookDetailComponent_mat_card_0_Template,"BookDetailComponent_mat_card_0_Template");class BookDetailComponent{constructor(){this.add=new core.EventEmitter,this.remove=new core.EventEmitter}get id(){return this.book.id}get title(){return this.book.volumeInfo.title}get subtitle(){return this.book.volumeInfo.subtitle}get description(){return this.book.volumeInfo.description}get thumbnail(){return this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail&&this.book.volumeInfo.imageLinks.smallThumbnail.replace("http:","")}}__name(BookDetailComponent,"BookDetailComponent"),BookDetailComponent.\u0275fac=__name(function(t){return new(t||BookDetailComponent)},"BookDetailComponent_Factory"),BookDetailComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:BookDetailComponent,selectors:[["lib-book-detail"]],inputs:{book:"book",inCollection:"inCollection"},outputs:{add:"add",remove:"remove"},decls:1,vars:1,consts:[["appearance","outlined",4,"ngIf"],["appearance","outlined"],[4,"ngIf"],["mat-card-sm-image","",3,"src",4,"ngIf"],[3,"innerHtml"],[1,"footer"],[3,"book"],["align","start"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-card-sm-image","",3,"src"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:__name(function(rf,ctx){1&rf&&core.\u0275\u0275template(0,BookDetailComponent_mat_card_0_Template,13,7,"mat-card",0),2&rf&&core.\u0275\u0275property("ngIf",ctx.book)},"BookDetailComponent_Template"),dependencies:[common.O5,card.a8,card.hq,card.dn,card.rt,card.vP,card.$j,card.n5,card.C1,fesm2020_button.lW],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;margin:75px 0}mat-card[_ngcontent-%COMP%]{max-width:600px}mat-card-title-group[_ngcontent-%COMP%]{margin-left:0}img[_ngcontent-%COMP%]{width:60px;min-width:60px;margin-left:5px}mat-card-content[_ngcontent-%COMP%]{margin:15px 0 50px}mat-card-actions[_ngcontent-%COMP%]{margin:25px 0 0!important}mat-card-footer[_ngcontent-%COMP%]{padding:0 25px 25px;position:relative}"],changeDetection:0});class SelectedBookComponent{constructor(store){this.store=store,this.book$=store.select(selectSelectedBook),this.isSelectedBookInCollection$=store.select(isSelectedBookInCollection)}addToCollection(book){this.store.dispatch(addBook({book}))}removeFromCollection(book){this.store.dispatch(removeBook({book}))}}__name(SelectedBookComponent,"SelectedBookComponent"),SelectedBookComponent.\u0275fac=__name(function(t){return new(t||SelectedBookComponent)(core.\u0275\u0275directiveInject(ngrx_store.yh))},"SelectedBookComponent_Factory"),SelectedBookComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:SelectedBookComponent,selectors:[["lib-selected-book"]],decls:3,vars:6,consts:[[3,"book","inCollection","add","remove"]],template:__name(function(rf,ctx){1&rf&&(core.\u0275\u0275elementStart(0,"lib-book-detail",0),core.\u0275\u0275listener("add",__name(function($event){return ctx.addToCollection($event)},"SelectedBookComponent_Template_lib_book_detail_add_0_listener"))("remove",__name(function($event){return ctx.removeFromCollection($event)},"SelectedBookComponent_Template_lib_book_detail_remove_0_listener")),core.\u0275\u0275pipe(1,"async"),core.\u0275\u0275pipe(2,"async"),core.\u0275\u0275elementEnd()),2&rf&&core.\u0275\u0275property("book",core.\u0275\u0275pipeBind1(1,2,ctx.book$))("inCollection",core.\u0275\u0275pipeBind1(2,4,ctx.isSelectedBookInCollection$))},"SelectedBookComponent_Template"),dependencies:[BookDetailComponent,common.Ov]});class ViewBookComponent{constructor(store,route){this.actionsSubscription=route.params.pipe((0,operators.UI)(params=>selectBook({id:params.id}))).subscribe(action=>store.dispatch(action))}ngOnDestroy(){this.actionsSubscription.unsubscribe()}}__name(ViewBookComponent,"ViewBookComponent"),ViewBookComponent.\u0275fac=__name(function(t){return new(t||ViewBookComponent)(core.\u0275\u0275directiveInject(ngrx_store.yh),core.\u0275\u0275directiveInject(router.gz))},"ViewBookComponent_Factory"),ViewBookComponent.\u0275cmp=core.\u0275\u0275defineComponent({type:ViewBookComponent,selectors:[["lib-view-book"]],decls:1,vars:0,template:__name(function(rf,ctx){1&rf&&core.\u0275\u0275element(0,"lib-selected-book")},"ViewBookComponent_Template"),dependencies:[SelectedBookComponent],changeDetection:0});const routes=[{path:"find",component:FindBookComponent,data:{title:"Find book"}},{path:":id",component:ViewBookComponent,data:{title:"Book details"}},{path:"",component:BooksComponent,data:{title:"Book Collection"}}];class BooksRoutingModule{}__name(BooksRoutingModule,"BooksRoutingModule"),BooksRoutingModule.\u0275fac=__name(function(t){return new(t||BooksRoutingModule)},"BooksRoutingModule_Factory"),BooksRoutingModule.\u0275mod=core.\u0275\u0275defineNgModule({type:BooksRoutingModule}),BooksRoutingModule.\u0275inj=core.\u0275\u0275defineInjector({imports:[router.Bz.forChild(routes),router.Bz]});var ngrx_effects=__webpack_require__(21334),cjs=__webpack_require__(25095),http=__webpack_require__(48664);class GoogleBooksService{constructor(http2){this.http=http2,this.API_PATH="https://www.googleapis.com/books/v1/volumes"}searchBooks(queryTitle){return this.http.get(`${this.API_PATH}?orderBy=newest&q=${queryTitle}`).pipe((0,operators.UI)(books=>books.items||[]))}retrieveBook(volumeId){return this.http.get(`${this.API_PATH}/${volumeId}`)}}__name(GoogleBooksService,"GoogleBooksService"),GoogleBooksService.\u0275fac=__name(function(t){return new(t||GoogleBooksService)(core.\u0275\u0275inject(http.eN))},"GoogleBooksService_Factory"),GoogleBooksService.\u0275prov=core.\u0275\u0275defineInjectable({token:GoogleBooksService,factory:GoogleBooksService.\u0275fac,providedIn:"root"});class BookEffects{constructor(actions$,googleBooks){this.actions$=actions$,this.googleBooks=googleBooks,this.search$=(0,ngrx_effects.GW)(()=>({debounce=300,scheduler=cjs.asyncScheduler}={})=>this.actions$.pipe((0,ngrx_effects.l4)(searchBooks),(0,operators.bh)(debounce,scheduler),(0,operators.wt)(({query})=>{if(""===query)return cjs.empty;const nextSearch$=this.actions$.pipe((0,ngrx_effects.l4)(searchBooks),(0,operators.T0)(1));return this.googleBooks.searchBooks(query).pipe((0,operators.Rs)(nextSearch$),(0,operators.UI)(books=>(console.log("PP",books),searchSuccess({books}))),(0,operators.KQ)(err=>(0,cjs.of)(searchFailure({errorMsg:err.message}))))})))}}__name(BookEffects,"BookEffects"),BookEffects.\u0275fac=__name(function(t){return new(t||BookEffects)(core.\u0275\u0275inject(ngrx_effects.eX),core.\u0275\u0275inject(GoogleBooksService))},"BookEffects_Factory"),BookEffects.\u0275prov=core.\u0275\u0275defineInjectable({token:BookEffects,factory:BookEffects.\u0275fac});class BooksModule{}__name(BooksModule,"BooksModule"),BooksModule.\u0275fac=__name(function(t){return new(t||BooksModule)},"BooksModule_Factory"),BooksModule.\u0275mod=core.\u0275\u0275defineNgModule({type:BooksModule}),BooksModule.\u0275inj=core.\u0275\u0275defineInjector({imports:[common.ez,BooksRoutingModule,card.QW,MatProgressSpinnerModule,form_field.lN,input.c,fesm2020_button.ot,ngrx_store.Aw.forFeature("books-store",booksReducerStore),ngrx_effects.sQ.forFeature([BookEffects])]})}};