(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"0aHk":function(t,o,e){"use strict";e.r(o),e.d(o,"RxdbService",function(){return n}),e.d(o,"RxdbComponent",function(){return g}),e.d(o,"RxdbModule",function(){return D});var c=e("fXoL");let n=(()=>{class t{constructor(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var i=e("mrSG"),d=e("bMpb");let r=(()=>{class t{constructor(t){this.databaseService=t,this.todoCollection=t.db.todo}getTodoItems(){return this.todoCollection.find().$}getCompletedTodoItems(){return this.todoCollection.find().where("completed").eq(!0).$}createTodoItem(t){return Object(i.a)(this,void 0,void 0,function*(){const o={title:t.title,completed:!!t.completed,id:(new Date).getTime().toString()};return this.todoCollection.insert(o)})}removeTodoItem(t){return Object(i.a)(this,void 0,void 0,function*(){const o=this.todoCollection.find().where("id").eq(t.id);return yield o.remove()})}updateTodoItem(t){return Object(i.a)(this,void 0,void 0,function*(){return yield this.todoCollection.upsert(t)})}}return t.\u0275fac=function(o){return new(o||t)(c.Yb(d.a))},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac}),t})();var s=e("ofXK"),b=e("3Pt+");let l=(()=>{class t{constructor(t){this.tododbService=t}ngOnInit(){}addTodo(t){return Object(i.a)(this,void 0,void 0,function*(){console.log("ss",t),yield this.tododbService.createTodoItem(t)})}}return t.\u0275fac=function(o){return new(o||t)(c.Ob(r))},t.\u0275cmp=c.Ib({type:t,selectors:[["lib-add-todo"]],decls:15,vars:0,consts:[[1,"d-flex","justify-content-between"],[3,"ngSubmit"],["form","ngForm"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","ngModel","","name","title",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","completed","ngModel","","name","completed",1,"form-check-input"],["for","completed",1,"form-check-label"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){if(1&t){const t=c.Vb();c.Ub(0,"header",0),c.Ub(1,"h1"),c.yc(2,"Add todo"),c.Tb(),c.Tb(),c.Ub(3,"form",1,2),c.bc("ngSubmit",function(){c.qc(t);const e=c.oc(4);return o.addTodo(e.value)}),c.Ub(5,"div",3),c.Ub(6,"label",4),c.yc(7,"Title"),c.Tb(),c.Pb(8,"input",5),c.Tb(),c.Ub(9,"div",6),c.Pb(10,"input",7),c.Ub(11,"label",8),c.yc(12,"Completed"),c.Tb(),c.Tb(),c.Ub(13,"button",9),c.yc(14,"Add Todo"),c.Tb(),c.Tb()}},directives:[b.k,b.h,b.i,b.b,b.g,b.j,b.a],styles:[""]}),t})(),u=(()=>{class t{constructor(t){this.tododbService=t}ngOnInit(){}updateTodo(t){this.tododbService.updateTodoItem(Object.assign({id:this.todo.id},t))}}return t.\u0275fac=function(o){return new(o||t)(c.Ob(r))},t.\u0275cmp=c.Ib({type:t,selectors:[["lib-edit-todo"]],inputs:{todo:"todo"},decls:15,vars:2,consts:[[1,"d-flex","justify-content-between","mt-2"],[3,"ngSubmit"],["form","ngForm"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","name","title",1,"form-control",3,"ngModel"],[1,"mb-3","form-check"],["type","checkbox","id","completed","name","completed",1,"form-check-input",3,"ngModel"],["for","completed",1,"form-check-label"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){if(1&t){const t=c.Vb();c.Ub(0,"header",0),c.Ub(1,"h1"),c.yc(2,"Edit todo"),c.Tb(),c.Tb(),c.Ub(3,"form",1,2),c.bc("ngSubmit",function(){c.qc(t);const e=c.oc(4);return o.updateTodo(e.value)}),c.Ub(5,"div",3),c.Ub(6,"label",4),c.yc(7,"Title"),c.Tb(),c.Pb(8,"input",5),c.Tb(),c.Ub(9,"div",6),c.Pb(10,"input",7),c.Ub(11,"label",8),c.yc(12,"Completed"),c.Tb(),c.Tb(),c.Ub(13,"button",9),c.yc(14,"Update Todo"),c.Tb(),c.Tb()}2&t&&(c.Db(8),c.kc("ngModel",o.todo.title),c.Db(2),c.kc("ngModel",o.todo.completed))},directives:[b.k,b.h,b.i,b.b,b.g,b.j,b.a],styles:[""]}),t})();function a(t,o){if(1&t){const t=c.Vb();c.Ub(0,"li",9),c.Ub(1,"div",10),c.bc("click",function(){c.qc(t);const e=o.$implicit;return c.fc(2).selectedTodo=e}),c.yc(2),c.Ub(3,"div"),c.yc(4),c.Tb(),c.Tb(),c.Ub(5,"i",11),c.bc("click",function(){c.qc(t);const e=o.$implicit;return c.fc(2).removeTodo(e)}),c.Tb(),c.Tb()}if(2&t){const t=o.$implicit;c.Db(2),c.Bc(" ",t.id," - ",t.title," "),c.Db(2),c.Ac("Completed: ",t.completed,"")}}function f(t,o){if(1&t&&(c.Ub(0,"ul",7),c.wc(1,a,6,3,"li",8),c.Tb()),2&t){const t=o.ngIf;c.Db(1),c.kc("ngForOf",t)}}function p(t,o){if(1&t){const t=c.Vb();c.Ub(0,"li",9),c.Ub(1,"div",10),c.bc("click",function(){c.qc(t);const e=o.$implicit;return c.fc(3).selectedTodo=e}),c.yc(2),c.Ub(3,"div"),c.yc(4),c.Tb(),c.Tb(),c.Ub(5,"i",11),c.bc("click",function(){c.qc(t);const e=o.$implicit;return c.fc(3).removeTodo(e)}),c.Tb(),c.Tb()}if(2&t){const t=o.$implicit;c.Db(2),c.Bc(" ",t.id," - ",t.title," "),c.Db(2),c.Ac("Completed: ",t.completed,"")}}function m(t,o){if(1&t&&(c.Sb(0),c.Ub(1,"h2"),c.yc(2),c.Tb(),c.Ub(3,"ul",7),c.wc(4,p,6,3,"li",8),c.Tb(),c.Rb()),2&t){const t=c.fc().ngIf;c.Db(2),c.Ac("Completed Todos (",t.length,")"),c.Db(2),c.kc("ngForOf",t)}}function h(t,o){if(1&t&&(c.Ub(0,"div"),c.wc(1,m,5,2,"ng-container",4),c.Tb()),2&t){const t=o.ngIf;c.Db(1),c.kc("ngIf",t.length)}}function T(t,o){if(1&t&&c.Pb(0,"lib-edit-todo",12),2&t){const t=c.fc();c.kc("todo",t.selectedTodo)}}let v=(()=>{class t{constructor(t){this.tododbService=t}ngOnInit(){this.todos$=this.tododbService.getTodoItems(),this.completedTodos$=this.tododbService.getCompletedTodoItems()}onTodoAdd(t){}onTodoEdit(t){}removeTodo(t){this.tododbService.removeTodoItem(t)}}return t.\u0275fac=function(o){return new(o||t)(c.Ob(r))},t.\u0275cmp=c.Ib({type:t,selectors:[["lib-todo-list"]],decls:13,vars:7,consts:[[1,"row"],[1,"col-sm-6"],[1,"d-flex","justify-content-between"],["class","list-group",4,"ngIf"],[4,"ngIf"],[3,"addTodo"],[3,"todo",4,"ngIf"],[1,"list-group"],["class","list-group-item d-flex justify-content-between",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between"],[1,"todo",3,"click"],[1,"ti-trash",3,"click"],[3,"todo"]],template:function(t,o){1&t&&(c.Ub(0,"div",0),c.Ub(1,"div",1),c.Ub(2,"header",2),c.Ub(3,"h1"),c.yc(4,"Todo List"),c.Tb(),c.Tb(),c.wc(5,f,2,1,"ul",3),c.gc(6,"async"),c.Pb(7,"hr"),c.wc(8,h,2,1,"div",4),c.gc(9,"async"),c.Tb(),c.Ub(10,"div",1),c.Ub(11,"lib-add-todo",5),c.bc("addTodo",function(t){return o.onTodoAdd(t)}),c.Tb(),c.wc(12,T,1,1,"lib-edit-todo",6),c.Tb(),c.Tb()),2&t&&(c.Db(5),c.kc("ngIf",c.hc(6,3,o.todos$)),c.Db(3),c.kc("ngIf",c.hc(9,5,o.completedTodos$)),c.Db(4),c.kc("ngIf",o.selectedTodo))},directives:[s.l,l,s.k,u],pipes:[s.b],styles:[".add-todo[_ngcontent-%COMP%]{display:flex;align-self:center}.todo[_ngcontent-%COMP%]{flex:1}.ti-trash[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),g=(()=>{class t{constructor(t){this.dbService=t}ngOnInit(){return Object(i.a)(this,void 0,void 0,function*(){console.log(this.dbService)})}}return t.\u0275fac=function(o){return new(o||t)(c.Ob(d.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["lib-rxdb"]],decls:2,vars:0,consts:[[1,"container"]],template:function(t,o){1&t&&(c.Ub(0,"div",0),c.Pb(1,"lib-todo-list"),c.Tb())},directives:[v],encapsulation:2}),t})();var y=e("bTqV"),U=e("tyNb");let w=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=c.Ib({type:t,selectors:[["lib-view-todo"]],decls:2,vars:0,template:function(t,o){1&t&&(c.Ub(0,"p"),c.yc(1,"view-todo works!"),c.Tb())},styles:[""]}),t})();var I=e("sj7R"),k=e("9Jf+"),$=e("X/DG"),O=e("tk/3");let S=(()=>{class t{constructor(t){this.http=t,this.API_URL="https://jsonplaceholder.typicode.com/todos"}addTodo(t){this.http.post(`${this.API_URL}`,t).subscribe()}updateTodo(t){this.http.put(`${this.API_URL}/${t.id}`,t).subscribe()}removeTodo(t){this.http.delete(`${this.API_URL}/${t.id}`).subscribe()}}return t.\u0275fac=function(o){return new(o||t)(c.Yb(O.a))},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),j=(()=>{class t{constructor(t){this.todoService=t,this._todos$=new $.a([])}get todos$(){return this._todos$.asObservable()}setTodos(t){this._todos$.next([...t])}addTodo(t){this._todos$.next([t,...this._todos$.getValue()]),this.todoService.addTodo(t)}removeTodo(t){this._todos$.next(this._todos$.getValue().filter(o=>o.id!==t.id)),this.todoService.removeTodo(t)}updateTodo(t){const o=this._todos$.getValue().map(o=>o.id===t.id?Object.assign(Object.assign({},o),t):o);this._todos$.next(o),this.todoService.updateTodo(t)}}return t.\u0275fac=function(o){return new(o||t)(c.Yb(S))},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var x=e("iiaH");let C=(()=>{class t{constructor(t,o){this.store=t,this.dataService=o}resolve(t,o){return this.dataService.getTodos().pipe(Object(I.a)(t=>{this.store.setTodos(t)}),Object(k.a)())}}return t.\u0275fac=function(o){return new(o||t)(c.Yb(j),c.Yb(x.a))},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac}),t})();const _=[{path:"",component:g,children:[{path:"add-todo",component:l},{path:"edit-todo/:id",component:u},{path:"view-todo/:id",component:w}]}];let D=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({providers:[C,r],imports:[[b.d,s.c,y.b,U.h.forChild(_)]]}),t})()}}]);